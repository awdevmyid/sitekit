!function(e){function t(t){for(var n,s,r=t[0],l=t[1],c=t[2],u=0,g=[];u<r.length;u++)s=r[u],i[s]&&g.push(i[s][0]),i[s]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);for(d&&d(t);g.length;)g.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],n=!0,r=1;r<a.length;r++){var l=a[r];0!==i[l]&&(n=!1)}n&&(o.splice(t--,1),e=s(s.s=a[0]))}return e}var n={},i={3:0},o=[];function s(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=n,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(a,n,function(t){return e[t]}.bind(null,n));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="";var r=window.webpackJsonp=window.webpackJsonp||[],l=r.push.bind(r);r.push=t,r=r.slice();for(var c=0;c<r.length;c++)t(r[c]);var d=l;o.push([176,0,1]),a()}([,,,,,,,,function(e,t){e.exports=void 0},,,,,,,,function(e,t,a){"use strict";var n=a(60),i=a.n(n),o=a(2),s=a.n(o),r=a(3),l=a.n(r),c=a(4),d=a.n(c),u=a(5),g=a.n(u),p=a(6),m=a.n(p),h=(a(8),a(49)),f=a(42),y=a(79),k=wp.hooks,v=k.addFilter,_=k.addAction,b=lodash,E=b.each,R=b.isArray,S=wp.element.Component,w=wp.i18n.__;t.a=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{inGrid:!1,fullWidth:!1,createGrid:!1},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){return!1},r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:function(e){if(e&&e.error)return e.error.message?e.error.message:e.error.errors&&e.error.errors[0]&&e.error.errors[0].message?e.error.errors[0].message:w("Unidentified error","google-site-kit");if(e&&e.errors&&e.errors[0]&&e.errors[0].message)return e.errors[0].message;if(e&&e.error_data){var t=Object.values(e.error_data);if(t[0]&&"RateLimitExceeded"===t[0].reason)return w("Too many requests have been sent within a given time span. Please reload this page again in a few seconds","google-site-kit")}if(e&&e.errors){var a=Object.values(e.errors);if(a[0]&&a[0][0])return a[0][0]}return!1};return function(c){function u(e){var a;s()(this,u),(a=d()(this,g()(u).call(this,e))).state={data:!1,zeroData:!1,error:!1},_("googlesitekit.moduleDataReset","googlesitekit.moduleDataResetHandler",function(){a.setState({data:!1})});var n=function(e,t){var n=a.props,i=n.handleDataError,s=n.handleDataSuccess,l=t.datapoint,c=t.identifier,d=t.toState,u=r(e);u?(a.setState({error:u,module:c}),i&&i(u)):o(e,l,t)?(i&&i(u),a.setState({zeroData:!0})):s&&s(),a.setState({requestDataToState:d,data:e,datapoint:l,module:c})};return E(t,function(e){R(e.context)?E(e.context,function(t){v("googlesitekit.module".concat(t,"DataRequest"),"googlesitekit.data".concat(t),function(t){return e.callback=function(t){n(t,e)},t.push(e),t})}):v("googlesitekit.module".concat(e.context,"DataRequest"),"googlesitekit.data".concat(e.context),function(t){return e.callback=function(t){n(t,e)},t.push(e),t})}),a}return m()(u,c),l()(u,[{key:"render",value:function(){var t=this.state,o=t.data,s=t.datapoint,r=t.module,l=t.zeroData,c=t.error,d=t.requestDataToState;if(!o)return a;var u=r?googlesitekit.modules[r].name:w("Site Kit","google-site-kit");return r&&googlesitekit.modules[r].active&&!googlesitekit.modules[r].setupComplete?Object(y.a)(r,n.inGrid,n.fullWidth,n.createGrid):c?"string"!=typeof c?c:Object(f.a)(u,c,n.inGrid,n.fullWidth,n.createGrid):l?Object(h.a)(u,n.inGrid,n.fullWidth,n.createGrid):React.createElement(e,i()({data:o,datapoint:s,requestDataToState:d},this.props))}}]),u}(S)}},function(e,t){e.exports=React},,,function(e,t,a){"use strict";var n=a(2),i=a.n(n),o=a(3),s=a.n(o),r=a(4),l=a.n(r),c=a(5),d=a.n(c),u=a(6),g=a.n(u),p=(a(8),a(1)),m=a.n(p),h=function(e){function t(){return i()(this,t),l()(this,d()(t).apply(this,arguments))}return g()(t,e),s()(t,[{key:"render",value:function(){var e=this.props,t=e.width,a=e.height,n=e.shape,i=e.padding;return React.createElement("div",{className:"\n\t\t\t\t\tgooglesitekit-preview-block\n\t\t\t\t\t".concat(i?"googlesitekit-preview-block--padding":"","\n\t\t\t\t"),style:{width:t,height:a}},React.createElement("div",{className:"\n\t\t\t\t\tgooglesitekit-preview-block__wrapper\n\t\t\t\t\t".concat("circular"===n?"googlesitekit-preview-block__wrapper--circle":"","\n\t\t\t\t")}))}}]),t}(wp.element.Component);h.propTypes={width:m.a.string,height:m.a.string,shape:m.a.string,padding:m.a.bool},h.defaultProps={width:"100px",height:"100px",shape:"square",padding:!1},t.a=h},,,,,function(e,t,a){"use strict";a.d(t,"b",function(){return C}),a.d(t,"a",function(){return D});var n=a(2),i=a.n(n),o=a(3),s=a.n(o),r=a(4),l=a.n(r),c=a(5),d=a.n(c),u=a(9),g=a.n(u),p=a(6),m=a.n(p),h=(a(8),a(1)),f=a.n(h),y=a(53),k=a(11),v=lodash,_=v.each,b=v.debounce,E=v.trim,R=wp.element,S=R.Component,w=R.createRef,C=function(e,t,a){var n=[],i=[];_(t,function(e,t){n.push(React.createElement("th",{key:"gksc_data_row_header-"+t,className:"googlesitekit-table__head-item","data-tooltip":e.tooltip},e.title))});var o=React.createElement("tr",{key:"gksc_data_row_header-wrap",style:a&&a.hideHeader?{display:"none"}:{},className:"googlesitekit-table__head-row"},n),s=a.links,r=a.source,l=a.showUrls;return a.cap&&(e=e.slice(0,a.cap)),_(e,function(e,t){var a=[],n=s&&s[t];_(e,function(t,i){"string"==typeof t&&(t=t.replace(/\(none\)/gi,"direct")),a.push(React.createElement("td",{key:"cell-"+i,className:"googlesitekit-table__body-item"},e[0]===t&&n?React.createElement("div",{className:"googlesitekit-table__body-item-content"},React.createElement(k.a,{className:"googlesitekit-table__body-item-link",href:n,external:!0,inherit:!0},t),React.createElement("br",null),l&&""!==E(n,"/")&&React.createElement(k.a,{className:"googlesitekit-table__body-item-url",href:n,inherit:!0,external:!0},E(n,"/"))):React.createElement("div",{className:"googlesitekit-table__body-item-content"},t)))}),i.push(React.createElement("tr",{key:"tr-"+t,className:"googlesitekit-table__body-row"},a))}),React.createElement("div",{className:"googlesitekit-table".concat(a&&a.disableListMode?"":" googlesitekit-table--with-list")},React.createElement("table",{key:"gksc_data_table",className:"googlesitekit-table__wrapper"},React.createElement("thead",{className:"googlesitekit-table__head"},o),React.createElement("tbody",{className:"googlesitekit-table__body"},i)),r&&React.createElement(y.a,{className:"googlesitekit-table__source",name:r.name,href:r.link}))},D=function(e){function t(){var e;return i()(this,t),(e=l()(this,d()(t).call(this))).state={isScrolling:!1},e.scrollRef=w(),e.updateFadeOnScroll=e.updateFadeOnScroll.bind(g()(e)),e}return m()(t,e),s()(t,[{key:"componentDidMount",value:function(){var e=this;e.updateFadeOnScroll(),this.resize=b(function(){e.updateFadeOnScroll()},100),window.addEventListener("resize",this.resize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.resize)}},{key:"updateFadeOnScroll",value:function(){var e=this.scrollRef.current,t=e.scrollLeft,a=e.scrollWidth-e.offsetWidth,n=t<a-16&&0<a-16;this.setState({isScrolling:n})}},{key:"render",value:function(){var e=this.props.children,t=this.state.isScrolling;return React.createElement("div",{onScroll:b(this.updateFadeOnScroll,100),className:"\n\t\t\t\t\tgooglesitekit-table-overflow\n\t\t\t\t\t".concat(t?"googlesitekit-table-overflow--gradient":"","\n\t\t\t\t")},React.createElement("div",{ref:this.scrollRef,className:"googlesitekit-table-overflow__container"},e))}}]),t}(S);D.propTypes={children:f.a.element}},,,,,,,,function(e,t,a){"use strict";var n=a(2),i=a.n(n),o=a(3),s=a.n(o),r=a(4),l=a.n(r),c=a(5),d=a.n(c),u=a(6),g=a.n(u),p=(a(8),a(20)),m=a(1),h=a.n(m),f=function(e){function t(){return i()(this,t),l()(this,d()(t).apply(this,arguments))}return g()(t,e),s()(t,[{key:"render",value:function(){for(var e=this.props,t=e.rows,a=e.rowHeight,n=e.padding,i=[],o=0;t>o;o++)i.push(React.createElement("div",{className:"googlesitekit-preview-table__row",key:"table-row-"+o},React.createElement(p.a,{width:"100%",height:a+"px"})));return React.createElement("div",{className:"\n\t\t\t\tgooglesitekit-preview-table\n\t\t\t\t".concat(n?"googlesitekit-preview-table--padding":"","\n\t\t\t")},i)}}]),t}(wp.element.Component);f.propTypes={rows:h.a.number,rowHeight:h.a.number,padding:h.a.bool},f.defaultProps={rows:11,rowHeight:35,padding:!1},t.a=f},function(e,t,a){"use strict";var n=a(2),i=a.n(n),o=a(3),s=a.n(o),r=a(4),l=a.n(r),c=a(5),d=a.n(c),u=a(6),g=a.n(u),p=(a(8),a(1)),m=a.n(p),h=function(e){function t(){return i()(this,t),l()(this,d()(t).apply(this,arguments))}return g()(t,e),s()(t,[{key:"render",value:function(){var e=this.props,t=e.title,a=e.description;return React.createElement("header",{className:"googlesitekit-dashboard-module-header"},React.createElement("div",{className:"mdc-layout-grid__inner"},t&&React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-12-desktop mdc-layout-grid__cell--span-8-tablet mdc-layout-grid__cell--span-4-phone "},React.createElement("h3",{className:" googlesitekit-heading-3 googlesitekit-dashboard-module-header__title "},t),a&&React.createElement("p",{className:"googlesitekit-dashboard-module-header__description"},a))))}}]),t}(wp.element.Component);h.propTypes={title:m.a.string,description:m.a.string},h.defaultProps={title:"",description:""},t.a=h},,,,function(e,t,a){"use strict";a.r(t),a.d(t,"reduceAdSenseData",function(){return y}),a.d(t,"getAdSenseAccountStatus",function(){return k}),a.d(t,"isAdsenseConnectedAnalytics",function(){return _}),a.d(t,"isDataZeroAdSense",function(){return b});var n=a(10),i=a.n(n),o=a(12),s=a.n(o),r=a(7),l=a(0),c=a(13),d=lodash,u=d.each,g=d.find,p=d.filter,m=wp.i18n,h=m.__,f=m.sprintf;function y(e){var t=[[{type:"date",label:"Day"},{type:"number",label:"RPM"},{type:"number",label:"Earnings"},{type:"number",label:"Impressions"}]];return u(e,function(e){var a=new Date(e[0]);t.push([a,e[2],e[1],e[3]])}),{dataMap:t}}function k(e){return v.apply(this,arguments)}function v(){return(v=s()(i.a.mark(function e(t){var a,n,o,s,c,d,u,m,y,k,v,_,b,E,R,S,w,C,D,O,A,N,x,P,j,L,I,M,T,F,U,z,W,G,q,H,K,B,Y,V,Z,J,X,$,Q,ee,te,ae,ne,ie,oe,se,re,le,ce,de,ue,ge=arguments;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=ge.length>1&&void 0!==ge[1]&&ge[1],n="",o="",s=!1,c="",d="",u=!1,m="",y="",k=!1,v="",_="",b="",E="",R=!1,S="",w="",C="",D="",O=!1,A=!1,N=!1,x="",P=!1,j="",L="",I=googlesitekit.modules.adsense,M=I.accountURL,T=I.signupURL,e.prev=27,t(h("Locating accounts…","google-site-kit")),e.next=31,r.c.get(r.b,"adsense","accounts").then(function(e){return e}).catch(function(e){return e});case 31:if(F=e.sent,U=!F.data||F.data.status&&200!==F.data.status?F:F.data,z=U&&U.message&&U.message.error,W=!!(U&&U.length&&U[0])&&U[0].id,U&&W&&!z){e.next=41;break}G=U.message.error.errors,"noAdSenseAccount"!==(q=G[0].reason)&&U&&W||("disapprovedAccount"===q?(n="account-disapproved",v=h("Your site isn’t ready to show ads yet","google-site-kit"),o=h("You need to fix some things before we can connect Site Kit to your AdSense account.","google-site-kit"),d=h("Go to AdSense to find out how to fix the issue","google-site-kit"),c=M):a?(n="no-account-tag-found",v=h("Looks like you’re already using AdSense","google-site-kit"),o=h("We’ve found some AdSense code on your site, but it’s not linked to this Google account.","google-site-kit"),s=!1,d=h("Switch Google account","google-site-kit"),c=Object(l.m)("adsense",!0),R=!0,x=h("Let Site Kit place code on your site to get your site approved","google-site-kit"),O={statusHeadline:h("Create a new AdSense account","google-site-kit"),statusMessage:h("Site Kit will place additional AdSense code on every page across your site after you create an account. This means Google will automatically place ads for you in all the best places.","google-site-kit"),notice:h("We recommend you remove the old AdSense code from this site.","google-site-kit"),icon:"warning",continueText:h("Continue anyway","google-site-kit"),ctaLinkText:h("Create AdSense Account","google-site-kit"),ctaLink:T,ctaTarget:"_blank",continueAction:!1}):(n="no-account",v=h("Create your AdSense account","google-site-kit"),o=h("Site Kit will place AdSense code on every page across your site. This means Google will automatically place ads for you in all the best places.","google-site-kit"),s=!0,d=h("Create AdSense Account","google-site-kit"),c=T,u="_blank",R=!0,S=h("Already have an AdSense account?","google-site-kit"),w=h("to connect to it","google-site-kit"),C=h("Switch Google account","google-site-kit"),D=Object(l.m)("adsense",!0),P={eventCategory:"adsense_setup",eventName:"create_adsense_account"})),e.next=184;break;case 41:if(!(1<(H=U).length)){e.next=75;break}t(h("Searching for domain…","google-site-kit")),K=!0,B=!1,Y=void 0,e.prev=47,V=H[Symbol.iterator]();case 49:if(K=(Z=V.next()).done){e.next=61;break}return J=Z.value,X=J.id,e.next=54,r.c.get(r.b,"adsense","urlchannels",{clientId:X}).then(function(e){return e}).catch(function(e){return e});case 54:$=e.sent,Q=new URL(googlesitekit.admin.siteURL),0===(ee=$&&$.length?p($,{urlPattern:Q.hostname}):[]).length?(n="account-pending-review",_="accountPendingReview",Object(l.v)("adsense_setup","adsense_account_pending","accountPendingReview status account-pending-review")):(W=ee[0].id,Object(l.v)("adsense_setup","adsense_account_detected"));case 58:K=!0,e.next=49;break;case 61:e.next=67;break;case 63:e.prev=63,e.t0=e.catch(47),B=!0,Y=e.t0;case 67:e.prev=67,e.prev=68,K||null==V.return||V.return();case 70:if(e.prev=70,!B){e.next=73;break}throw Y;case 73:return e.finish(70);case 74:return e.finish(67);case 75:return googlesitekit.modules.adsense.accountURL=f("https://www.google.com/adsense/new/%s/home",W),t(h("Account found, checking account status…","google-site-kit")),e.next=79,r.c.get(r.b,"adsense","alerts",{accountId:W}).then(function(e){return e}).catch(function(e){return e});case 79:if(te=e.sent,ae=!te.data||te.data.status&&200!==te.data.status?te:te.data,ne=ae&&ae.message&&ae.message.error,!g(te,{type:"GRAYLISTED_PUBLISHER"})){e.next=88;break}n="ads-display-pending",_="accountPendingReview",Object(l.v)("adsense_setup","adsense_account_pending","accountPendingReview status ads-display-pending"),e.next=184;break;case 88:return e.next=90,r.c.get(r.b,"adsense","clients").then(function(e){return e}).catch(function(e){return e});case 90:if(ie=e.sent,oe=!ie.data||ie.data.status&&200!==ie.data.status?ie:ie.data,se=oe&&oe.message&&oe.message.error,!(re=!(!oe||!oe.length)&&g(oe,{productCode:"AFC"}))){e.next=98;break}return N=re.id,e.next=98,r.c.set(r.b,"adsense","client-id",{clientId:N}).then(function(e){return e}).catch(function(e){return e});case 98:if(!ne){e.next=103;break}"accountPendingReview"===ae.message.error.errors[0].reason&&(n="ads-display-pending",_="accountPendingReview",Object(l.v)("adsense_setup","adsense_account_pending","accountPendingReview status ads-display-pending")),e.next=184;break;case 103:if(t(h("Looking for AdSense client…","google-site-kit")),!se){e.next=110;break}n="account-required-action",_="accountRequiredAction",Object(l.v)("adsense_setup","adsense_required_action","accountRequiredAction status"),e.next=184;break;case 110:if(!re){e.next=177;break}return N=re.id,t(h("Looking for site domain…","google-site-kit")),e.next=115,r.c.get(r.b,"adsense","urlchannels",{clientId:N}).then(function(e){return e}).catch(function(e){return e});case 115:if(le=e.sent,ce=le&&le.length&&p(le,function(e){return 0<googlesitekit.admin.siteURL.indexOf(e.urlPattern)}),de=Object(l.n)("googlesitekit-module-adsense",{}),0!==le.length){e.next=124;break}n="ads-display-pending",_="accountPendingReview",Object(l.v)("adsense_setup","adsense_account_pending","accountPendingReview status ads-display-pending"),e.next=175;break;case 124:if(ce&&0!==ce.length){e.next=130;break}n="account-pending-review",_="accountPendingReview",Object(l.v)("adsense_setup","adsense_account_pending","accountPendingReview status account-pending-review"),e.next=175;break;case 130:if(!a||N!==a){e.next=146;break}n="account-connected",_=!1,E="alert",v=h("Site Kit will place AdSense code to your site","google-site-kit"),o=h("This means Google will automatically place ads for you in all the best places.","google-site-kit"),d=h("Continue","google-site-kit"),c=de,R=!0,A=!0,Object(l.v)("adsense_setup","adsense_account_connected","existing_matching_tag"),x=h("Let Site Kit place code on your site","google-site-kit"),j=h("If you don’t let Site Kit place the code you may not get the best ads experience. You can set this up later on the Site Kit settings page.","google-site-kit"),L=h("If you’ve already set up ads on your site, it may change how they appear. You can customize this later in AdSense.","google-site-kit"),e.next=175;break;case 146:if(!a||N===a){e.next=160;break}n="account-connected-nonmatching",_=!1,E=!1,v=h("Your site has code from another AdSense account","google-site-kit"),o=h("We’ve found some AdSense code on your site, but it’s not linked to this AdSense account.","google-site-kit"),s=!1,d=h("Switch Google account","google-site-kit"),c=Object(l.m)("adsense",!0),R=!0,O={accountStatus:"account-connected",continueText:h("Continue anyway","google-site-kit"),statusHeadline:h("Site Kit will place AdSense code on your site","google-site-kit"),statusMessage:h("To connect your site to your AdSense account, Site Kit will place AdSense code on your site. For a better ads experience, you should remove AdSense code that’s not linked to this AdSense account.","google-site-kit"),profile:!0,ctaLink:de,ctaLinkText:h("Continue","google-site-kit"),continueAction:!1,switchLabel:h("Let Site Kit place code on your site","google-site-kit"),switchOffMessage:h("You can let Site Kit do this later.","google-site-kit")},Object(l.v)("adsense_setup","adsense_account_connected","existing_non_matching_tag"),e.next=175;break;case 160:return n="account-connected",_=!1,E=!1,v=h("Looks like you’re already using AdSense","google-site-kit"),o=h("Site Kit will place AdSense code on your site to connect your site to AdSense and help you get the most out of ads. This means Google will automatically place ads for you in all the best places.","google-site-kit"),d=h("Continue","google-site-kit"),c=de,R=!0,P={eventCategory:"adsense_setup",eventName:"complete_adsense_setup"},x=h("Let Site Kit place code on your site to get your site approved","google-site-kit"),j=h("If you’ve already got some AdSense code on your site, we recommend you use Site Kit to place code to get the most out of AdSense.","google-site-kit"),t(h("Connecting…","google-site-kit")),Object(l.v)("adsense_setup","adsense_account_connected"),e.next=175,r.c.set(r.b,"adsense","setup-complete",{clientId:N}).then(function(e){return e}).catch(function(e){return e});case 175:e.next=184;break;case 177:n="account-disapproved",_=h("There is an AdSense account, but the AFC account is disapproved","google-site-kit"),E="error",v=h("Create Account","google-site-kit"),o=h("Create an AdMob account, then open AdSense and try to upgrade.","google-site-kit"),d=h("Create an AdMob Account","google-site-kit"),c="https://google.com/admob";case 184:return ue=[],U&&U.length&&(ue=U),e.next=188,r.c.set(r.b,"adsense","account-status",{accountStatus:n}).then(function(e){return e}).catch(function(e){return e});case 188:return e.abrupt("return",{isLoading:!1,accountStatus:n,statusMessage:o,accounts:ue,profile:s,ctaLink:c,ctaLinkText:d,ctaTarget:u,helpLink:m,helpLinkText:y,error:!1,setupComplete:k,statusHeadline:v,issue:_,notice:b,icon:E,buttonLink:R,footerCTALink:D,footerCTA:C,footerText:S,footerAppendedText:w,continueAction:O,accountTagMatch:A,clientId:N,existingTag:a,switchLabel:x,tracking:P,switchOffMessage:j,switchOnMessage:L});case 191:return e.prev=191,e.t1=e.catch(27),e.abrupt("return",{isLoading:!1,error:e.t1.code,message:e.t1.message});case 194:case"end":return e.stop()}},e,null,[[27,191],[47,63,67,75],[68,,70,74]])}))).apply(this,arguments)}var _=function(){var e=s()(i.a.mark(function e(){var t,a,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=googlesitekit.modules.adsense.active,a=googlesitekit.modules.analytics.active,n=!0,!t||!a){e.next=6;break}return e.next=6,r.c.get(r.b,"analytics","report",c.analyticsAdsenseReportDataDefaults).then(function(e){e&&(n=!0)}).catch(function(e){400===e.code&&"INVALID_ARGUMENT"===e.message&&(n=!1)});case 6:return e.abrupt("return",new Promise(function(e){e(n)}));case 7:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),b=function(e,t,a){if(!a.data||!a.data.dateRange||"last-28-days"!==a.data.dateRange)return!1;var n=[];return e.totals&&(n=e.totals),0===(n=n.filter(function(e){return 0<e})).length}},,,,function(e,t,a){"use strict";a(8);var n=a(29),i=a(63),o=a(0),s=a(2),r=a.n(s),l=a(3),c=a.n(l),d=a(4),u=a.n(d),g=a(5),p=a.n(g),m=a(6),h=a.n(m),f=a(23),y=wp.element.Component,k=wp.i18n.__,v=function(e){function t(){return r()(this,t),u()(this,p()(t).apply(this,arguments))}return h()(t,e),c()(t,[{key:"render",value:function(){return React.createElement(f.a,{id:"notification-id",title:k("Security Token Error","google-site-kit"),description:k("We’re unable to retrieve your data because your security token is expired or revoked. Please ","google-site-kit"),learnMoreUrl:googlesitekit.admin.connectUrl,learnMoreLabel:k("reauthenticate your account","google-site-kit"),format:"small",type:"win-error"})}}]),t}(y),_=wp.i18n,b=_.__,E=_.sprintf;t.a=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],l=React.createElement(n.a,{title:E(b("Data error in %s","google-site-kit"),e),description:t,error:!0});return"Invalid Credentials"===t&&Object(o.w)(v),Object(i.a)(l,a,s,r)}},,function(e,t){e.exports=ReactDOM},function(e,t,a){"use strict";var n=a(2),i=a.n(n),o=a(3),s=a.n(o),r=a(4),l=a.n(r),c=a(5),d=a.n(c),u=a(6),g=a.n(u),p=(a(8),a(50)),m=a(1),h=a.n(m),f=function(e){function t(){return i()(this,t),l()(this,d()(t).apply(this,arguments))}return g()(t,e),s()(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.change,n=e.id,i=e.loadSmall,o=e.loadCompressed,s=e.loadHeight,r=e.loadText;if(!t)return"loading...";var l={title:"",backgroundColor:"transparent",curveType:"line",width:"100%",height:"50",enableInteractivity:!1,chartArea:{height:"100%",width:"100%"},legend:{position:"none"},axisFontSize:0,hAxis:{baselineColor:"none",ticks:[]},vAxis:{baselineColor:"none",ticks:[]},axes:[],colors:[0<=+a?"green":"red"]};return React.createElement("div",{className:"googlesitekit-analytics-sparkline-chart-wrap"},React.createElement(p.a,{data:t,options:l,id:n,loadSmall:i,loadCompressed:o,loadHeight:s,loadText:r}))}}]),t}(wp.element.Component);f.propTypes={loadSmall:h.a.bool,loadCompressed:h.a.bool,loadHeight:h.a.number,loadText:h.a.bool},f.defaultProps={loadSmall:!0,loadCompressed:!0,loadHeight:46,loadText:!1},t.a=f},,,,function(e,t,a){"use strict";a(8);var n=a(29),i=a(63),o=wp.i18n,s=o.__,r=o.sprintf;t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],l=React.createElement(n.a,{title:r(s("%s Gathering Data","google-site-kit"),e),description:r(s("%s data is not yet available, please check back later.","google-site-kit"),e)});return Object(i.a)(l,t,a,o)}},function(e,t,a){"use strict";var n=a(2),i=a.n(n),o=a(3),s=a.n(o),r=a(4),l=a.n(r),c=a(5),d=a.n(c),u=a(9),g=a.n(u),p=a(6),m=a.n(p),h=(a(8),a(27)),f=a(1),y=a.n(f),k=wp.i18n.__,v=wp.element,_=v.Component,b=v.createRef,E=wp.hooks,R=E.doAction,S=E.addAction,w=lodash.debounce,C=function(e){function t(e){var a;if(i()(this,t),(a=l()(this,d()(t).call(this,e))).state={loading:!0,chart:null},a.waitForChart=a.waitForChart.bind(g()(a)),a.getData=a.getData.bind(g()(a)),a.prepareChart=a.prepareChart.bind(g()(a)),a.drawChart=a.drawChart.bind(g()(a)),a.updateChart=a.updateChart.bind(g()(a)),a.chartRef=b(),window.google||window.googleChartLoaded)window.google&&window.google.charts?window.google.charts.setOnLoadCallback(function(){a.getData(),a.prepareChart(),a.drawChart()}):S("googlesitekit.ChartLoaderLoaded","googlesitekit.HandleChartLoaderLoaded",function(){window.google.charts.setOnLoadCallback(function(){a.getData(),a.prepareChart(),a.drawChart()})});else{window.googleChartLoaded=!0;var n=document.createElement("script");n.type="text/javascript",n.onload=function(){n.onload=null,window.google.charts.load("visualization","1",{packages:["corechart"]}),window.google.charts.setOnLoadCallback(function(){a.getData(),a.prepareChart(),a.drawChart(),a.setState({loading:!1})}),R("googlesitekit.ChartLoaderLoaded")},document.getElementsByTagName("head")[0].appendChild(n),n.src="https://www.gstatic.com/charts/loader.js"}return a}return m()(t,e),s()(t,[{key:"componentDidMount",value:function(){var e=this;this.resize=w(function(){e.drawChart()},100),window.addEventListener("resize",this.resize)}},{key:"componentDidUpdate",value:function(e){var t=this.props.selectedStats;0!==t.length&&JSON.stringify(t)!==JSON.stringify(e.selectedStats)&&this.updateChart()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.resize)}},{key:"waitForChart",value:function(e){setTimeout(function(){e()},500)}},{key:"getData",value:function(){return window.google&&window.google.visualization&&window.google.visualization.arrayToDataTable(this.props.data)}},{key:"prepareChart",value:function(){if(window.google){var e=this.chartRef.current,t="pie"===this.props.chartType?new window.google.visualization.PieChart(e):new window.google.visualization.LineChart(e);this.setState({chart:t})}else this.waitForChart(this.prepareChart)}},{key:"drawChart",value:function(){var e=this.state.chart,t=this.props,a=t.selectedStats,n=t.options,i=this.getData();null!==i&&null!==e?(e.draw(i,n),0!==a.length&&this.updateChart()):this.waitForChart(this.drawChart)}},{key:"updateChart",value:function(){var e=this.state.chart,t=this.props,a=t.selectedStats,n=t.options,i=t.singleStat,o=this.getData();if(null!==o&&null!==e){var s=new window.google.visualization.DataView(o);if(!i){var r=[0];r=r.concat(a.map(function(e){return e+1})),s.setColumns(r)}e.draw(s,n)}else this.waitForChart(this.drawChart)}},{key:"render",value:function(){var e=this.state.loading,t=this.props,a=t.className,n=t.loadSmall,i=t.loadCompressed,o=t.loadHeight,s=t.loadText;return React.createElement("div",{className:"googlesitekit-graph-wrapper"},React.createElement("div",{ref:this.chartRef,className:"googlesitekit-line-chart"},React.createElement("div",{className:"googlesitekit-chart-loading"},e&&React.createElement("div",{className:"googlesitekit-chart-loading__wrapper"},s&&React.createElement("p",null,k("Loading chart...","google-site-kit")),React.createElement(h.a,{className:a,small:n,compress:i,height:o})))))}}]),t}(_);C.propTypes={selectedStats:y.a.array,options:y.a.object.isRequired,id:y.a.string,singleStat:y.a.bool,className:y.a.string,loadSmall:y.a.bool,loadCompressed:y.a.bool,loadHeight:y.a.number,loadText:y.a.bool},C.defaultProps={selectedStats:[],id:"",singleStat:!0,className:"",loadSmall:!1,loadCompressed:!1,loadHeight:null,loadText:!0},t.a=C},,,,,,function(e,t,a){"use strict";a.r(t),a.d(t,"getScoreCategoryLabel",function(){return o}),a.d(t,"PageSpeedReportScoreCategoryWrapper",function(){return s}),a.d(t,"PageSpeedReportScoreGauge",function(){return r}),a.d(t,"PageSpeedReportScale",function(){return l});a(8);var n=wp.i18n.__;function i(e){return.9<=e?"fast":.5<=e?"average":"slow"}var o=function(e){var t=i(e);return n("fast"===t?"Fast":"average"===t?"Average":"Slow","google-site-kit")},s=function(e){var t=e.score,a=e.children,n="googlesitekit-pagespeed-report__score-category-wrapper googlesitekit-pagespeed-report__score-category-wrapper--".concat(i(t)),o="googlesitekit-pagespeed-report__score-icon googlesitekit-pagespeed-report__score-icon--".concat(i(t));return React.createElement("span",{className:n},a," ",React.createElement("span",{className:o}))},r=function(e){var t=e.score,a=parseInt(100*t,10),o="\n\t\tgooglesitekit-percentage-circle\n\t\tgooglesitekit-percentage-circle--".concat(i(t),"\n\t\tgooglesitekit-percentage-circle--percent-").concat(a,"\n\t");return React.createElement("div",{className:"googlesitekit-pagespeed-report__score-gauge"},React.createElement("div",{className:o},React.createElement("div",{className:"googlesitekit-percentage-circle__text"},a),React.createElement("div",{className:"googlesitekit-percentage-circle__slice"},React.createElement("div",{className:"googlesitekit-percentage-circle__bar"}),React.createElement("div",{className:"googlesitekit-percentage-circle__fill"}))),React.createElement("span",{className:"googlesitekit-pagespeed-report__score-gauge-label screen-reader-only"},n("Performance","google-site-kit")))},l=function(){return React.createElement("div",{className:"googlesitekit-pagespeed-report__scale"},React.createElement("span",null,n("Scale:","google-site-kit")),React.createElement("span",{className:"googlesitekit-pagespeed-report__scale-range googlesitekit-pagespeed-report__scale-range--fast"},n("90-100 (fast)","google-site-kit")),React.createElement("span",{className:"googlesitekit-pagespeed-report__scale-range googlesitekit-pagespeed-report__scale-range--average"},n("50-89 (average)","google-site-kit")),React.createElement("span",{className:"googlesitekit-pagespeed-report__scale-range googlesitekit-pagespeed-report__scale-range--slow"},n("0-49 (slow)","google-site-kit")))}},function(e,t,a){"use strict";a.r(t);var n=a(28),i=a.n(n),o=a(2),s=a.n(o),r=a(3),l=a.n(r),c=a(4),d=a.n(c),u=a(5),g=a.n(u),p=a(6),m=a.n(p),h=(a(8),a(50)),f=a(0),y=a(16),k=a(7),v=a(1),_=a.n(v),b=a(11),E=a(20),R=a(13);function S(e,t){var a=Object.keys(e);return Object.getOwnPropertySymbols&&a.push.apply(a,Object.getOwnPropertySymbols(e)),t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a}var w=wp.element.Component,C=wp.i18n.__,D=function(e){function t(){return s()(this,t),d()(this,g()(t).apply(this,arguments))}return m()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.source;if(!t||t.error||!t.length)return null;var n=Object(R.extractAnalyticsDataForTrafficChart)(t);return React.createElement("div",{className:"googlesitekit-chart googlesitekit-chart--pie"},React.createElement(h.a,{data:n,options:{chartArea:{width:"100%",height:"100%"},backgroundColor:"transparent",height:250,legend:{alignment:"center",textStyle:{color:"#5b5b61",fontSize:12}},slices:{0:{color:"#178EC5"},1:{color:"#54B23B"},2:{color:"#EB5729"},3:{color:"#ECED33"},4:{color:"#34CBE3"},5:{color:"#82E88E"}},title:null,width:"100%"},chartType:"pie",id:"overview-piechart",loadHeight:205}),a&&React.createElement("div",{className:"googlesitekit-chart__source"},C("Source: ","google-site-kit"),React.createElement(b.a,{href:Object(f.n)("googlesitekit-module-analytics"),inherit:!0},C("Analytics","google-site-kit"))))}}]),t}(w);D.defaultProps={source:!1},D.propTypes={source:_.a.bool},t.default=Object(y.a)(D,[{type:k.b,identifier:"analytics",datapoint:"report",data:function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?S(a,!0).forEach(function(t){i()(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):S(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},R.trafficSourcesReportDataDefaults,{url:googlesitekit.permaLink}),priority:1,maxAge:Object(f.p)("day"),context:["Dashboard","Single"]}],React.createElement(E.a,{width:"282px",height:"282px",shape:"circular"}),{},R.isDataZeroForReporting,R.getAnalyticsErrorMessageFromData)},function(e,t,a){"use strict";a.r(t);var n=a(2),i=a.n(n),o=a(3),s=a.n(o),r=a(4),l=a.n(r),c=a(5),d=a.n(c),u=a(6),g=a.n(u),p=(a(8),a(1)),m=a.n(p),h=a(11),f=a(76),y=wp.element.Component,k=wp.i18n,v=k.__,_=k.sprintf,b=function(e){function t(){return i()(this,t),l()(this,d()(t).apply(this,arguments))}return g()(t,e),s()(t,[{key:"render",value:function(){var e=this.props.status,t=googlesitekit.admin.siteURL,a=new URL(t),n="https://www.google.com/adsense/new/sites?url=".concat(a.hostname,"&source=site-kit"),i=[{id:1,text:_(v("Added your site %s in ","google-site-kit"),a.hostname),linkText:v("Sites","google-site-kit"),linkURL:n},{id:2,text:v("Enabled ads in","google-site-kit"),linkText:v("Ads","google-site-kit"),linkURL:"https://www.google.com/adsense/new/myads/auto-ads"}],o={incomplete:v("We’re getting your site ready for ads","google-site-kit"),requiredAction:v("Your site isn’t ready to show ads yet","google-site-kit"),adsDisplayPending:v("We’re getting your site ready for ads","google-site-kit")},s={incomplete:v("AdSense is reviewing your site. Meanwhile, make sure you’ve completed these steps in AdSense.","google-site-kit"),requiredAction:v("You need to fix some things before we can connect Site Kit to your AdSense account.","google-site-kit"),adsDisplayPending:v("This usually takes less than a day, but it can sometimes take a bit longer. We’ll let you know when everything’s ready.","google-site-kit")},r=React.createElement("h3",{className:" googlesitekit-heading-4 googlesitekit-setup-module__title "},o[e]),l=React.createElement("p",null,s[e]),c="incomplete"===e&&React.createElement("div",{className:"googlesitekit-setup-module__list-wrapper"},React.createElement("ol",{className:"googlesitekit-setup-module__list"},i.map(function(e){return React.createElement("li",{className:"googlesitekit-setup-module__list-item",key:e.id},e.text," ",React.createElement(h.a,{href:e.linkURL,external:!0,inherit:!0},e.linkText))}))),d={incomplete:null,requiredAction:React.createElement(h.a,{className:"googlesitekit-setup-module__cta-link",href:n,external:!0},v("Go to AdSense to find out how to fix the issue","google-site-kit")),adsDisplayPending:React.createElement(h.a,{className:"googlesitekit-setup-module__cta-link",href:n,external:!0},v("Go to your AdSense account to check on your site’s status","google-site-kit"))},u=React.createElement("div",{className:"googlesitekit-setup-module__cta"},d[e]);return React.createElement("div",{className:"googlesitekit-setup-module googlesitekit-setup-module--adsense"},"required"===e&&React.createElement(f.a,null),r,l,c,u)}}]),t}(y);b.propTypes={status:m.a.string,module:m.a.string},t.default=b},,,,,function(e,t,a){"use strict";a(8);var n=a(15),i=wp.element.Fragment;t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return React.createElement(i,null,t&&a&&o&&React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-12 "},React.createElement(n.a,{fill:!0},React.createElement("div",{className:"mdc-layout-grid mdc-layout-grid--fill"},React.createElement("div",{className:"mdc-layout-grid__inner"},React.createElement("div",{className:"mdc-layout-grid__cell mdc-layout-grid__cell--span-12"},e))))),t&&!a&&o&&React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-6-desktop mdc-layout-grid__cell--span-4-tablet "},React.createElement(n.a,{fill:!0},React.createElement("div",{className:"mdc-layout-grid mdc-layout-grid--fill"},React.createElement("div",{className:"mdc-layout-grid__inner"},React.createElement("div",{className:"mdc-layout-grid__cell mdc-layout-grid__cell--span-12"},e))))),t&&a&&!o&&React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-12 "},e),t&&!a&&!o&&React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-6-desktop mdc-layout-grid__cell--span-4-tablet "},e),!t&&!a&&o&&React.createElement("div",{className:"mdc-layout-grid"},React.createElement("div",{className:"mdc-layout-grid__inner"},React.createElement("div",{className:"mdc-layout-grid__cell mdc-layout-grid__cell--span-12"},e))),!t&&!a&&!o&&e)}},function(e,t,a){"use strict";var n=a(10),i=a.n(n),o=a(12),s=a.n(o),r=a(2),l=a.n(r),c=a(3),d=a.n(c),u=a(4),g=a.n(u),p=a(5),m=a.n(p),h=a(6),f=a.n(h),y=(a(8),a(7)),k=a(23),v=a(1),_=a.n(v),b=wp.i18n.__,E=wp.element,R=E.Component,S=E.Fragment,w=function(e){function t(e){var a;return l()(this,t),(a=g()(this,m()(t).call(this,e))).state={isLoading:!0,alerts:[],error:!1,message:""},a}return f()(t,e),d()(t,[{key:"componentDidMount",value:function(){this.getAlert()}},{key:"getAlert",value:function(){var e=s()(i.a.mark(function e(){var t,a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.props.module,e.next=4,y.c.getNotifications(t,3600);case 4:a=e.sent,this.setState({isLoading:!1,error:!1,alerts:a}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),this.setState({isLoading:!1,error:e.t0.code});case 11:case"end":return e.stop()}},e,this,[[0,8]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.alerts,a=e.error,n=e.isLoading;if(a||n||!t||!t.length)return null;var i=t.map(function(e){return React.createElement(k.a,{id:e.id,key:e.id,title:e.title,description:e.message||e.description,dismiss:b("Dismiss","google-site-kit"),isDismissable:e.isDismissible,format:"small",ctaLink:e.ctaUrl,ctaLabel:e.ctaLabel,ctaTarget:e.ctaTarget,type:e.severity})});return React.createElement(S,null,i)}}]),t}(R);w.propTypes={module:_.a.string.isRequired},t.a=w},function(e,t,a){"use strict";a.r(t);var n=a(2),i=a.n(n),o=a(3),s=a.n(o),r=a(4),l=a.n(r),c=a(5),d=a.n(c),u=a(9),g=a.n(u),p=a(6),m=a.n(p),h=(a(8),a(78)),f=a(7),y=a(1),k=a.n(y),v=a(0),_=wp.element,b=_.Component,E=_.Fragment,R=wp.i18n.__,S=wp.hooks,w=S.removeFilter,C=S.addFilter,D=function(e){function t(e){var a;i()(this,t),a=l()(this,d()(t).call(this,e));var n=googlesitekit.modules.adsense.settings.useSnippet,o=void 0===n||n;return a.state={useSnippet:!!o,disabled:!1},a.handleUseSnippetSwitch=a.handleUseSnippetSwitch.bind(g()(a)),a}return m()(t,e),s()(t,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,C("googlekit.SettingsConfirmed","googlekit.AdSenseSettingsConfirmed",function(t,a){return"adsense"!==a.replace("-module","")?t:e.save()}),this.toggleConfirmChangesButton()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,w("googlekit.SettingsConfirmed","googlekit.AdSenseSettingsConfirmed")}},{key:"componentDidUpdate",value:function(){this.toggleConfirmChangesButton()}},{key:"save",value:function(){var e=this.state.useSnippet;this._isMounted&&this.setState({useSnippet:e});var t={useSnippet:e||!1};return googlesitekit.modules.adsense.settings&&(googlesitekit.modules.adsense.settings.useSnippet=e),f.c.set(f.b,"adsense","use-snippet",t).then(function(e){return e}).catch(function(e){return e})}},{key:"handleUseSnippetSwitch",value:function(){var e=this.props.saveOnChange,t=this.state.useSnippet;t=!t,this._isMounted&&this.setState({useSnippet:t}),Object(v.v)("adsense_setup",t?"adsense_tag_enabled":"adsense_tag_disabled"),e&&f.c.set(f.b,"adsense","use-snippet",{useSnippet:t}).then(function(e){return e}).catch(function(e){return e})}},{key:"toggleConfirmChangesButton",value:function(){if(this.props.isEditing){Object(v.y)("adsense",{useSnippet:"useSnippet"},this.state)}}},{key:"render",value:function(){var e=this.state.useSnippet,t=this.props,a=t.isEditing,n=t.switchLabel,i=t.switchOnMessage,o=t.switchOffMessage;return React.createElement(E,null,a?React.createElement(E,null,React.createElement("div",{className:"googlesitekit-setup-module__switch"},React.createElement(h.a,{id:"enableAutoAds",label:n,onClick:this.handleUseSnippetSwitch,checked:e,hideLabel:!1})," ",React.createElement("span",{className:"googlesitekit-recommended"},R("RECOMMENDED","google-site-kit"))),e&&i&&React.createElement("div",{className:"googlesitekit-settings-notice googlesitekit-settings-notice--suggestion"},React.createElement("div",{className:"googlesitekit-settings-notice__text"},i)),!e&&o&&React.createElement("div",{className:"googlesitekit-settings-notice"},React.createElement("div",{className:"googlesitekit-settings-notice__text"},o))):React.createElement(E,null,R("The AdSense code has","google-site-kit")," ",R(e?"been placed on your site.":"not been placed on your site.","google-site-kit")))}}]),t}(b);D.propTypes={isEditing:k.a.bool,accountTagMatch:k.a.bool,existingTag:k.a.oneOfType([k.a.bool,k.a.string]),switchLabel:k.a.string,switchOnMessage:k.a.string,switchOffMessage:k.a.string},D.defaultProps={isEditing:!1,accountTagMatch:!1,existingTag:!1,switchLabel:R("Let Site Kit place code on your site","google-site-kit"),switchOnMessage:"",switchOffMessage:""},t.default=D},function(e,t,a){"use strict";a.r(t);var n=a(2),i=a.n(n),o=a(3),s=a.n(o),r=a(4),l=a.n(r),c=a(5),d=a.n(c),u=a(6),g=a.n(u),p=(a(8),a(18)),m=a(24),h=wp.element.Component,f=wp.i18n.__,y=function(e){function t(){return i()(this,t),l()(this,d()(t).apply(this,arguments))}return g()(t,e),s()(t,[{key:"render",value:function(){var e=googlesitekit.modules.adsense.accountURL;return React.createElement("section",{className:"googlesitekit-module-outro"},React.createElement("div",{className:"mdc-layout-grid"},React.createElement("div",{className:"mdc-layout-grid__inner"},React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-12 "},React.createElement("div",{className:"googlesitekit-module-outro__logo"},React.createElement(p.a,{id:"adsense",height:"36",width:"42"}),React.createElement(p.a,{id:"plus",height:"13",width:"13"}),React.createElement(p.a,{id:"analytics",height:"36",width:"34"})),React.createElement("h3",{className:" googlesitekit-heading-3 googlesitekit-module-outro__title "},f("Connect Analytics with AdSense to create a powerful team that shows robust metrics for your site.","google-site-kit")),React.createElement("div",{className:"googlesitekit-module-outro__button"},React.createElement(m.a,{href:e,target:"_blank"},f("Connect Accounts","google-site-kit")))))))}}]),t}(h);t.default=y},function(e,t,a){"use strict";a.r(t);var n=a(28),i=a.n(n),o=a(2),s=a.n(o),r=a(3),l=a.n(r),c=a(4),d=a.n(c),u=a(5),g=a.n(u),p=a(6),m=a.n(p),h=(a(8),a(16)),f=a(7),y=a(0),k=a(25),v=a(33),_=a(84),b=a(13);function E(e,t){var a=Object.keys(e);return Object.getOwnPropertySymbols&&a.push.apply(a,Object.getOwnPropertySymbols(e)),t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a}var R=wp.i18n,S=R.__,w=R.sprintf,C=lodash.map,D=wp.element,O=D.Component,A=D.Fragment,N=function(e){function t(){return s()(this,t),d()(this,g()(t).apply(this,arguments))}return m()(t,e),l()(t,[{key:"render",value:function(){var e=this.props.data;if(!e||!e.length)return null;var t=Object(y.i)().dateRangeFrom,a=[{title:S("Medium","google-site-kit"),tooltip:S("Medium refers to where your traffic originated from","google-site-kit")},{title:S("Users","google-site-kit"),tooltip:S("Number of users that originated from that traffic","google-site-kit")},{title:S("New Users","google-site-kit"),tooltip:w(S("Number of new users to visit your page over %s","google-site-kit"),t)},{title:S("Sessions","google-site-kit"),tooltip:w(S("Number of sessions users had on your website over %s","google-site-kit"),t)},{title:S("Percentage","google-site-kit"),tooltip:S("Percentage of sessions","google-site-kit")}],n=e[0].data.totals[0].values[0],i=C(e[0].data.rows,function(e,t){var a=e.metrics[0].values[0]/n*100;return!(1>a)&&[e.dimensions[0],Object(y.r)(e.metrics[0].values[0]),Object(y.r)(e.metrics[0].values[1]),Object(y.r)(e.metrics[0].values[2]),React.createElement(A,{key:"minichart-analytics-top-as-"+t},React.createElement("div",{className:"googlesitekit-table__body-item-chart-wrap"},"".concat(a.toFixed(2),"%")," ",React.createElement(_.a,{percent:a.toFixed(1),index:t})))]}),o=Object(k.b)(i,a,{hideHeader:!1,chartsEnabled:!1});return React.createElement("div",{className:"googlesitekit-details-widget"},React.createElement(k.a,null,o))}}]),t}(O);t.default=Object(h.a)(N,[{type:f.b,identifier:"analytics",datapoint:"report",data:function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?E(a,!0).forEach(function(t){i()(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):E(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},b.trafficSourcesReportDataDefaults,{url:googlesitekit.permaLink}),priority:1,maxAge:Object(y.p)("day"),context:["Single","Dashboard"]}],React.createElement(v.a,{rows:4,rowHeight:50}))},function(e,t,a){"use strict";a.r(t);var n=a(2),i=a.n(n),o=a(3),s=a.n(o),r=a(4),l=a.n(r),c=a(5),d=a.n(c),u=a(6),g=a.n(u),p=(a(8),a(16)),m=a(7),h=a(0),f=a(25),y=a(33),k=wp.i18n,v=k.__,_=k.sprintf,b=lodash.map,E=function(e){function t(){return i()(this,t),l()(this,d()(t).apply(this,arguments))}return g()(t,e),s()(t,[{key:"render",value:function(){var e=this.props.data;if(!e||!e.length)return null;var t=[{title:v("Keyword","google-site-kit"),tooltip:v("Most searched for keywords related to your content","google-site-kit")},{title:v("Clicks","google-site-kit"),tooltip:v("Number of times users clicked on your content in search results","google-site-kit")},{title:v("Impressions","google-site-kit"),tooltip:v("Counted each time your content appears in search results","google-site-kit")}],a=googlesitekit.admin.siteURL,n=[],i=b(e,function(e,t){var i=e.keys[0];return n[t]=_("https://search.google.com/search-console/performance/search-analytics?resource_id=%s&query=!%s&num_of_days=28",a,i),[i,Object(h.r)(e.clicks),Object(h.r)(e.impressions)]}),o={hideHeader:!1,chartsEnabled:!1,links:n},s=Object(f.b)(i,t,o);return React.createElement(f.a,null,s)}}]),t}(wp.element.Component);t.default=Object(p.a)(E,[{type:m.b,identifier:"search-console",datapoint:"searchanalytics",data:{url:googlesitekit.permaLink,dimensions:"query",limit:10},priority:1,maxAge:Object(h.p)("day"),context:["Single","Dashboard"]}],React.createElement(y.a,{padding:!0}),{createGrid:!0})},function(e,t,a){"use strict";a.r(t);var n=a(2),i=a.n(n),o=a(3),s=a.n(o),r=a(4),l=a.n(r),c=a(5),d=a.n(c),u=a(6),g=a.n(u),p=wp.components.withFilters,m=function(e){function t(){return i()(this,t),l()(this,d()(t).apply(this,arguments))}return g()(t,e),s()(t,[{key:"render",value:function(){return null}}]),t}(wp.element.Component);t.default=p("googlesitekit.DashboardSearchFunnel")(m)},,,,,,,,,function(e,t,a){"use strict";var n=a(2),i=a.n(n),o=a(3),s=a.n(o),r=a(4),l=a.n(r),c=a(5),d=a.n(c),u=a(6),g=a.n(u),p=(a(8),a(19)),m=a(1),h=a.n(m),f=wp.element,y=f.Component,k=f.Fragment,v=f.createRef,_=function(e){function t(e){var a;return i()(this,t),(a=l()(this,d()(t).call(this,e))).switchRef=v(),a}return g()(t,e),s()(t,[{key:"componentDidMount",value:function(){new p.i(this.switchRef.current)}},{key:"render",value:function(){var e=this.props,t=e.id,a=e.onClick,n=e.label,i=e.checked,o=e.hideLabel;return React.createElement(k,null,React.createElement("div",{"aria-checked":i?"true":"false",className:"mdc-switch ".concat(i?"mdc-switch--checked":""),onClick:a,onKeyPress:function(e){"function"==typeof a&&"Enter"===e.code&&a(e)},role:"switch",ref:this.switchRef,tabIndex:0},React.createElement("div",{className:"mdc-switch__track"}," "),React.createElement("div",{className:"mdc-switch__thumb-underlay"},React.createElement("div",{className:"mdc-switch__thumb"},React.createElement("input",{type:"checkbox",id:t,className:"mdc-switch__native-control",role:"switch",checked:i,onChange:function(){}})))),React.createElement("label",{className:o?"screen-reader-only":"",htmlFor:t},n))}}]),t}(y);_.propTypes={id:h.a.string.isRequired,onClick:h.a.func,label:h.a.string.isRequired,checked:h.a.bool,hideLabel:h.a.bool},_.defaultProps={checked:!1,hideLabel:!0},t.a=_},function(e,t,a){"use strict";a(8);var n=a(29),i=a(63),o=a(0),s=wp.i18n,r=s.__,l=s.sprintf;t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],c=googlesitekit.modules[e].name,d=React.createElement(n.a,{title:l(r("%s activation","google-site-kit"),c),description:l(r("%s module needs to be configured","google-site-kit"),c),ctaLabel:r("Complete activation","google-site-kit"),onClick:function(){window.location=Object(o.m)(e,!0)}});return Object(i.a)(d,t,a,s)}},function(e,t,a){"use strict";var n=a(2),i=a.n(n),o=a(3),s=a.n(o),r=a(4),l=a.n(r),c=a(5),d=a.n(c),u=a(6),g=a.n(u),p=(a(8),a(20)),m=a(1),h=a.n(m),f=function(e){function t(){return i()(this,t),l()(this,d()(t).apply(this,arguments))}return g()(t,e),s()(t,[{key:"render",value:function(){for(var e=this.props,t=e.width,a=e.height,n=e.shape,i=e.count,o=[],s=0;s++<i;)o.push(React.createElement(p.a,{width:t,height:a,shape:n,key:s}));return o}}]),t}(wp.element.Component);f.propTypes={width:h.a.string,height:h.a.string,shape:h.a.string,count:h.a.number},f.defaultProps={width:"100px",height:"100px",shape:"square",count:1},t.a=f},function(e,t,a){"use strict";a.r(t);var n=a(10),i=a.n(n),o=a(12),s=a.n(o),r=a(2),l=a.n(r),c=a(3),d=a.n(c),u=a(4),g=a.n(u),p=a(5),m=a.n(p),h=a(9),f=a.n(h),y=a(6),k=a.n(y),v=(a(8),a(24)),_=a(11),b=a(7),E=a(19),R=a(18),S=a(1),w=a.n(S),C=a(0),D=wp.i18n.__,O=wp.element,A=O.Component,N=O.Fragment,x=wp.hooks,P=x.removeFilter,j=x.addFilter,L=function(e){function t(e){var a;l()(this,t),a=g()(this,m()(t).call(this,e));var n=googlesitekit.modules.optimize.settings,i=n.optimizeId,o=n.ampClientIdOptIn,s=n.ampExperimentJson,r=(googlesitekit.modules.analytics||{}).settings,c=googlesitekit.modules.tagmanager||{},d=c.active,u=c.settings,p=!!r&&r.useSnippet,h=!(!d||!u)&&u.useSnippet;return a.state={optimizeId:i||"",analyticsUseSnippet:p,gtmUseSnippet:h,errorCode:!1,errorMsg:"",ampClientIdOptIn:o||!1,ampExperimentJson:s||"",ampExperimentJsonValidated:!0,OptimizeIDValidated:!0},a.handleOptimizeIdEntry=a.handleOptimizeIdEntry.bind(f()(a)),a.handleSubmit=a.handleSubmit.bind(f()(a)),a.renderInstructionInfo=a.renderInstructionInfo.bind(f()(a)),a.handleAMPOptimizeEntry=a.handleAMPOptimizeEntry.bind(f()(a)),a}return k()(t,e),d()(t,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,j("googlekit.SettingsConfirmed","googlekit.OptimizeSettingsConfirmed",function(t,a){return"optimize"!==a.replace("-module","")?t:e.props.isEditing?e.handleSubmit():void 0}),this.toggleConfirmChangesButton()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,P("googlekit.SettingsConfirmed","googlekit.OptimizeSettingsConfirmed")}},{key:"componentDidUpdate",value:function(){this.toggleConfirmChangesButton()}},{key:"toggleConfirmChangesButton",value:function(){if(this.props.isEditing){Object(C.y)("optimize",{optimizeId:"optimizeId",ampExperimentJson:"ampExperimentJson"},this.state)}}},{key:"handleSubmit",value:function(){var e=s()(i.a.mark(function e(){var t,a,n,o,s,r,l=this;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.state,a=t.optimizeId,n=t.ampExperimentJson,o=t.OptimizeIDValidated,s=this.props.finishSetup,o&&0!==a.length){e.next=4;break}return e.abrupt("return",!1);case 4:return r={optimizeId:a,ampExperimentJson:n},e.next=7,b.c.set(b.b,"optimize","settings",r).then(function(){s&&s(),googlesitekit.modules.optimize.settings.optimizeId=a,l._isMounted&&l.setState({isSaving:!1})}).catch(function(e){l._isMounted&&l.setState({errorCode:!0,errorMsg:e.errorMsg})});case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleOptimizeIdEntry",value:function(e){var t=Object(C.A)(e.target.value);this._isMounted&&this.setState({optimizeId:e.target.value,OptimizeIDValidated:t})}},{key:"handleAMPOptimizeEntry",value:function(e){var t=Object(C.z)(e.target.value);this._isMounted&&this.setState({ampExperimentJson:e.target.value,ampExperimentJsonValidated:t})}},{key:"renderInfo",value:function(){var e=this.state.optimizeId;return React.createElement(N,null,e?React.createElement("div",null,D("Your Optimize Container ID","google-site-kit"),": ",React.createElement("strong",null,e)):React.createElement("div",null,D('Optimize Container ID missing, press "edit" to add',"google-site-kit"),"."))}},{key:"renderInstructionInfo",value:function(){var e=this.state,t=e.analyticsUseSnippet,a=e.gtmUseSnippet,n=e.optimizeId;return!t&&a?React.createElement(N,null,React.createElement("p",null,D("You are using auto insert snippet with Tag Manager","google-site-kit")),React.createElement("p",null,React.createElement("a",{href:"https://support.google.com/optimize/answer/6314801"},D("Click here","google-site-kit"))," ",D("for how to implement Optimize tag through your Tag Manager","google-site-kit"))):t?null:React.createElement(N,null,React.createElement("p",null,D("You disabled analytics auto insert snippet. If You are using Google Analytics code snippet, add the code below:","google-site-kit")),React.createElement("pre",null,'ga("require", "',n||"GTM-XXXXXXX",'");'),React.createElement("p",null,React.createElement("a",{href:"https://support.google.com/optimize/answer/6262084"},D("Click here","google-site-kit"))," ",D("for how to implement Optimize tag in Google Analytics Code Snippet","google-site-kit")))}},{key:"renderAMPSnippet",value:function(){var e=this.state,t=e.analyticsUseSnippet,a=e.ampClientIdOptIn,n=e.ampExperimentJson,i=e.ampExperimentJsonValidated,o=window.googlesitekit.admin.ampEnabled;return t&&o?React.createElement(N,null,a&&React.createElement(N,null,React.createElement("p",null,D("Please input your AMP experiment settings in JSON format below.","google-site-kit")," ",React.createElement(_.a,{href:"https://developers.google.com/optimize/devguides/amp-experiments",external:!0,inherit:!0},D("Learn More.","google-site-kit"))),React.createElement(E.l,{className:"\n\t\t\t\t\t\t\t\tmdc-text-field\n\t\t\t\t\t\t\t\t".concat(i?"":"mdc-text-field--error","\n\t\t\t\t\t\t\t"),name:"amp-experiment",onChange:this.handleAMPOptimizeEntry,textarea:!0},React.createElement(E.b,{inputType:"textarea",value:null===n?"":n})),!i&&React.createElement("p",{className:"googlesitekit-error-text"},D("Error: AMP experiment settings are not in a valid JSON format.","google-site-kit")))):null}},{key:"renderForm",value:function(){var e=this.state,t=e.optimizeId,a=e.errorCode,n=e.errorMsg,i=e.OptimizeIDValidated;return React.createElement(N,null,React.createElement("p",null,D("Please copy and paste your Optimize ID to complete your setup.","google-site-kit")," ",React.createElement(_.a,{href:"https://support.google.com/optimize/answer/6211921",external:!0,inherit:!0},D("You can locate this here.","google-site-kit"))),a&&0<n.length&&React.createElement("p",{className:"googlesitekit-error-text"},D("Error:","google-site-kit")," ",n),React.createElement("div",{className:"googlesitekit-setup-module__inputs"},React.createElement(E.l,{className:"\n\t\t\t\t\t\t\tmdc-text-field\n\t\t\t\t\t\t\t".concat(a?"mdc-text-field--error":"","\n\t\t\t\t\t\t\t").concat(i?"":"mdc-text-field--error","\n\t\t\t\t\t\t"),label:D("Optimize Container ID","google-site-kit"),name:"optimizeId",onChange:this.handleOptimizeIdEntry,helperText:React.createElement(E.a,null,D("Format: GTM-XXXXXXX.","google-site-kit")),outlined:!0,required:!0},React.createElement(E.b,{value:t}))),!i&&React.createElement("p",{className:"googlesitekit-error-text"},D("Error: Not a valid Optimize ID.","google-site-kit")),this.renderAMPSnippet(),this.renderInstructionInfo())}},{key:"render",value:function(){var e=this.props,t=e.onSettingsPage,a=e.isEditing;return React.createElement("div",{className:"googlesitekit-setup-module googlesitekit-setup-module--optimize"},!t&&React.createElement(N,null,React.createElement("div",{className:"googlesitekit-setup-module__logo"},React.createElement(R.a,{id:"optimize",width:"33",height:"33"})),React.createElement("h2",{className:" googlesitekit-heading-3 googlesitekit-setup-module__title "},D("Optimize","google-site-kit"))),a&&this.renderForm(),!a&&this.renderInfo(),!t&&React.createElement("div",{className:"googlesitekit-setup-module__action"},React.createElement(v.a,{onClick:this.handleSubmit},D("Configure Optimize","google-site-kit"))))}}]),t}(A);L.propTypes={onSettingsPage:w.a.bool,finishSetup:w.a.func,isEditing:w.a.bool},L.defaultProps={onSettingsPage:!0,isEditing:!1},t.default=L},function(e,t,a){"use strict";a.r(t),a.d(t,"PageSpeedInsightsDashboardWidgetHomepageSpeedMobile",function(){return b}),a.d(t,"PageSpeedInsightsDashboardWidgetHomepageSpeedDesktop",function(){return E});var n=a(2),i=a.n(n),o=a(3),s=a.n(o),r=a(4),l=a.n(r),c=a(5),d=a.n(c),u=a(6),g=a.n(u),p=(a(8),a(16)),m=a(7),h=a(0),f=a(25),y=a(56),k=wp.element.Component,v=wp.i18n.__,_=function(e){function t(){return i()(this,t),l()(this,d()(t).apply(this,arguments))}return g()(t,e),s()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.data,a=e.handleDataLoaded;t&&a&&a()}},{key:"render",value:function(){var e=this.props.data;if(!e||e.error)return null;var t="mobile"===e.configSettings.emulatedFormFactor?v("Mobile","google-site-kit"):v("Desktop","google-site-kit"),a=e.categories.performance.score,n=Object(y.getScoreCategoryLabel)(a),i=e.audits.interactive.displayValue,o=Object(f.b)([[v("Real user speed data","google-site-kit"),React.createElement(y.PageSpeedReportScoreCategoryWrapper,{key:"0",score:a},n)],[v("Time to become fully interactive","google-site-kit"),React.createElement(y.PageSpeedReportScoreCategoryWrapper,{key:"0",score:a},i)]],[],{hideHeader:!0,disableListMode:!0,chartsEnabled:!1,links:[]});return React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-4-phone mdc-layout-grid__cell--span-4-tablet mdc-layout-grid__cell--span-6-desktop "},React.createElement("div",{className:"googlesitekit-pagespeed-report__heading-wrapper"},React.createElement("h3",{className:" googlesitekit-subheading-1 "},t),React.createElement(y.PageSpeedReportScoreGauge,{score:a})),React.createElement(f.a,null,o))}}]),t}(k),b=Object(p.a)(_,[{type:m.b,identifier:"pagespeed-insights",datapoint:"pagespeed",data:{url:googlesitekit.permaLink,strategy:"mobile"},priority:10,maxAge:Object(h.p)("day"),context:["Single","Dashboard"]}],null,{inGrid:!0}),E=Object(p.a)(_,[{type:m.b,identifier:"pagespeed-insights",datapoint:"pagespeed",data:{url:googlesitekit.permaLink,strategy:"desktop"},priority:10,maxAge:Object(h.p)("day"),context:["Single","Dashboard"]}],null,{inGrid:!0})},function(e,t,a){"use strict";a.r(t);var n=a(10),i=a.n(n),o=a(12),s=a.n(o),r=a(2),l=a.n(r),c=a(3),d=a.n(c),u=a(4),g=a.n(u),p=a(5),m=a.n(p),h=a(9),f=a.n(h),y=a(6),k=a.n(y),v=(a(8),a(24)),_=a(11),b=a(7),E=a(27),R=a(19),S=a(18),w=a(1),C=a.n(w),D=a(0),O=wp.i18n,A=O.__,N=O.sprintf,x=wp.element,P=x.Component,j=x.Fragment,L=wp.hooks,I=L.removeFilter,M=L.addFilter,T=function(e){function t(e){var a;l()(this,t),a=g()(this,m()(t).call(this,e));var n=googlesitekit.modules.tagmanager.settings,i=n.accountId,o=n.containerId;return a.state={isLoading:!0,accounts:[],containers:[],errorCode:!1,errorMsg:"",refetch:!1,selectedAccount:i||0,selectedContainer:o||0,containersLoading:!1},a.handleSubmit=a.handleSubmit.bind(f()(a)),a.renderAccountDropdownForm=a.renderAccountDropdownForm.bind(f()(a)),a.handleAccountChange=a.handleAccountChange.bind(f()(a)),a.handleContainerChange=a.handleContainerChange.bind(f()(a)),a.refetchAccount=a.refetchAccount.bind(f()(a)),a}return k()(t,e),d()(t,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,this.requestTagManagerAccounts(),M("googlekit.SettingsConfirmed","googlekit.TagmanagerSettingsConfirmed",function(t,a){return"tagmanager"!==a.replace("-module","")?t:e.props.isEditing?e.handleSubmit():void 0}),this.toggleConfirmChangesButton()}},{key:"componentDidUpdate",value:function(){this.state.refetch&&this.requestTagManagerAccounts(),this.toggleConfirmChangesButton()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,I("googlekit.SettingsConfirmed","googlekit.TagmanagerSettingsConfirmed")}},{key:"toggleConfirmChangesButton",value:function(){if(this.props.isEditing){Object(D.y)("tagmanager",{selectedContainer:"containerId",selectedAccount:"selectedAccount"},this.state)}}},{key:"requestTagManagerAccounts",value:function(){var e=s()(i.a.mark(function e(){var t,a,n,o,s,r,l,c;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.state,a=t.selectedAccount,n=t.selectedContainer,o={accountId:a},s=!1,r="",e.next=7,b.c.get(b.b,"tagmanager","accounts-containers",o,!1);case 7:l=e.sent,a&&!l.accounts.find(function(e){return e.accountId===a})&&(b.c.invalidateCacheGroup(b.b,"tagmanager","accounts-containers"),s="insufficientPermissions",r=A("You currently don't have access to this Google Tag Manager account. You can either request access from your team, or remove this Google Tag Manager snippet and connect to a different account.","google-site-kit")),c={containerId:0,publicId:0},l.containers.push(c),this._isMounted&&this.setState({isLoading:!1,accounts:l.accounts,selectedAccount:a||l.accounts[0].accountId,containers:l.containers,selectedContainer:n||l.containers[0].publicId,refetch:!1,errorCode:s,errorMsg:r}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),this._isMounted&&this.setState({isLoading:!1,errorCode:e.t0.code,errorMsg:e.t0.message,refetch:!1});case 17:case"end":return e.stop()}},e,this,[[0,14]])}));return function(){return e.apply(this,arguments)}}()},{key:"requestTagManagerContainers",value:function(){var e=s()(i.a.mark(function e(t){var a,n,o;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={accountId:t},e.next=4,b.c.get(b.b,"tagmanager","containers",a);case 4:n=e.sent,o={containerId:0,publicId:0},n.push(o),this._isMounted&&this.setState({containersLoading:!1,containers:n,selectedContainer:n[0].publicId,errorCode:!1}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),this._isMounted&&this.setState({errorCode:e.t0.code,errorMsg:e.t0.message});case 13:case"end":return e.stop()}},e,this,[[0,10]])}));return function(t){return e.apply(this,arguments)}}()},{key:"handleSubmit",value:function(){var e=s()(i.a.mark(function e(){var t,a,n,o,s,r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,a=t.selectedAccount,n=t.selectedContainer,o=this.props.finishSetup,e.prev=2,s={accountId:a,containerId:n},e.next=6,b.c.set(b.b,"tagmanager","settings",s);case 6:r=e.sent,o&&o(),googlesitekit.modules.tagmanager.settings={accountId:r.accountId,containerId:r.containerId},this._isMounted&&this.setState({isSaving:!1}),e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(2),this._isMounted&&this.setState({isLoading:!1,errorCode:e.t0.code,errorMsg:e.t0.message}),e.abrupt("return",new Promise(function(t,a){a(e.t0)}));case 16:case"end":return e.stop()}},e,this,[[2,12]])}));return function(){return e.apply(this,arguments)}}()},{key:"handleAccountChange",value:function(e,t){var a=this.state.selectedAccount,n=t.getAttribute("data-value");n!==a&&(this._isMounted&&this.setState({containersLoading:!0,selectedAccount:n}),this.requestTagManagerContainers(n))}},{key:"handleContainerChange",value:function(e,t){var a=this.state.selectedContainer,n=t.getAttribute("data-value");n!==a&&this._isMounted&&this.setState({selectedContainer:n})}},{key:"refetchAccount",value:function(e){e.preventDefault(),this._isMounted&&this.setState({isLoading:!0,refetch:!0,errorCode:!1})}},{key:"renderSettingsInfo",value:function(){var e=this.state,t=e.isLoading,a=e.selectedAccount,n=e.selectedContainer;return t?React.createElement(E.a,null):React.createElement(j,null,React.createElement("div",{className:"googlesitekit-settings-module__meta-items"},React.createElement("div",{className:"googlesitekit-settings-module__meta-item"},React.createElement("p",{className:"googlesitekit-settings-module__meta-item-type"},A("Account","google-site-kit")),React.createElement("h5",{className:"googlesitekit-settings-module__meta-item-data"},a||!1)),React.createElement("div",{className:"googlesitekit-settings-module__meta-item"},React.createElement("p",{className:"googlesitekit-settings-module__meta-item-type"},A("Container ID","google-site-kit")),React.createElement("h5",{className:"googlesitekit-settings-module__meta-item-data"},n||!1))))}},{key:"renderAccountDropdownForm",value:function(){var e=this.state,a=e.accounts,n=e.selectedAccount,i=e.containers,o=e.selectedContainer,s=e.isLoading,r=e.containersLoading,l=this.props.onSettingsPage;return s?React.createElement(E.a,null):0>=a.length?React.createElement(j,null,React.createElement("div",{className:"googlesitekit-setup-module__action"},React.createElement(v.a,{onClick:t.createNewAccount},A("Create an account","google-site-kit")),React.createElement("div",{className:"googlesitekit-setup-module__sub-action"},React.createElement(_.a,{onClick:this.refetchAccount},A("Re-fetch My Account","google-site-kit"))))):React.createElement(j,null,React.createElement("p",null,A("Please select your Tag Manager account and container below, the snippet will be inserted automatically into your site.","google-site-kit")),React.createElement("div",{className:"googlesitekit-setup-module__inputs"},React.createElement(R.k,{enhanced:!0,name:"accounts",label:A("Account","google-site-kit"),value:n,onEnhancedChange:this.handleAccountChange,outlined:!0},a.map(function(e){return React.createElement(R.j,{key:e.accountId,value:e.accountId},e.name)})),r?React.createElement(E.a,{small:!0}):React.createElement(R.k,{enhanced:!0,name:"containers",label:A("Container","google-site-kit"),value:o,onEnhancedChange:this.handleContainerChange,outlined:!0},i.map(function(e){return React.createElement(R.j,{key:e.containerId,value:e.publicId},0===e.publicId?A("Set up a new container","google-site-kit"):e.publicId)}))),!l&&React.createElement("div",{className:"googlesitekit-setup-module__action"},React.createElement(v.a,{onClick:this.handleSubmit},A("Confirm & Continue","google-site-kit"))))}},{key:"renderErrorOrNotice",value:function(){var e=this.state,t=e.errorCode,a=e.errorMsg,n=this.props.onSettingsPage;if(0===a.length)return null;var i=!n||"insufficientPermissions"!==t;return React.createElement("div",{className:i?"googlesitekit-error-text":""},React.createElement("p",null,i?N(A("Error: %s","google-site-kit"),a):a))}},{key:"render",value:function(){var e=this.props,t=e.onSettingsPage,a=e.isEditing;return React.createElement("div",{className:"googlesitekit-setup-module googlesitekit-setup-module--tag-manager"},!t&&React.createElement(j,null,React.createElement("div",{className:"googlesitekit-setup-module__logo"},React.createElement(S.a,{id:"tagmanager",width:"33",height:"33"})),React.createElement("h2",{className:" googlesitekit-heading-3 googlesitekit-setup-module__title "},A("Tag Manager","google-site-kit"))),this.renderErrorOrNotice(),a&&this.renderAccountDropdownForm(),!a&&this.renderSettingsInfo())}}],[{key:"createNewAccount",value:function(e){e.preventDefault(),window.open("https://marketingplatform.google.com/about/tag-manager/","_blank")}}]),t}(P);T.propTypes={onSettingsPage:C.a.bool,finishSetup:C.a.func,isEditing:C.a.bool},T.defaultProps={onSettingsPage:!0,isEditing:!1},t.default=T},function(e,t,a){"use strict";var n=a(2),i=a.n(n),o=a(3),s=a.n(o),r=a(4),l=a.n(r),c=a(5),d=a.n(c),u=a(6),g=a.n(u),p=(a(8),a(50)),m=["#178EC5","#54B23B","#EB5729","#ECED33","#34CBE3","#82E88E"],h=function(e){function t(){return i()(this,t),l()(this,d()(t).apply(this,arguments))}return g()(t,e),s()(t,[{key:"render",value:function(){var e=this.props,t=e.index,a=e.percent,n={backgroundColor:"transparent",chartArea:{width:"100%",height:"100%"},enableInteractivity:!1,height:28,legend:{position:"none"},slices:{0:{color:m[t]},1:{color:"#e6e6e6"}},title:null,tooltip:{trigger:"none"},width:28},i=[["source","percent"],["",+a],["",100-a]];return React.createElement("div",{className:"googlesitekit-mini-chart"},React.createElement(p.a,{data:i,options:n,chartType:"pie",loadSmall:!0,loadCompressed:!0,loadHeight:24,loadText:!1,id:"minichart"+t}))}}]),t}(wp.element.Component);t.a=h},function(e,t,a){"use strict";a.r(t);var n=a(28),i=a.n(n),o=a(10),s=a.n(o),r=a(12),l=a.n(r),c=a(2),d=a.n(c),u=a(3),g=a.n(u),p=a(4),m=a.n(p),h=a(5),f=a.n(h),y=a(9),k=a.n(y),v=a(6),_=a.n(v),b=(a(8),a(7)),E=a(1),R=a.n(E),S=a(24),w=a(27),C=a(11),D=a(19),O=wp.element,A=O.Component,N=O.createRef,x=function(e){function t(e){var a;return d()(this,t),(a=m()(this,f()(t).call(this,e))).formFieldRef=N(),a.radioRef=N(),a}return _()(t,e),g()(t,[{key:"componentDidMount",value:function(){new D.e(this.formFieldRef.current).input=new D.g(this.radioRef.current)}},{key:"render",value:function(){var e=this.props,t=e.onClick,a=e.id,n=e.name,i=e.value,o=e.checked,s=e.disabled,r=e.children;return React.createElement("div",{className:"mdc-form-field",ref:this.formFieldRef},React.createElement("div",{className:"\n\t\t\t\t\t\tmdc-radio\n\t\t\t\t\t\t".concat(s?"mdc-radio--disabled":"","\n\t\t\t\t\t"),ref:this.radioRef},React.createElement("input",{className:"mdc-radio__native-control",onClick:t,type:"radio",id:a,name:n,value:i,checked:o,disabled:s,onChange:function(){}}),React.createElement("div",{className:"mdc-radio__background"},React.createElement("div",{className:"mdc-radio__outer-circle"}),React.createElement("div",{className:"mdc-radio__inner-circle"}))),React.createElement("label",{htmlFor:a},r))}}]),t}(A);x.propTypes={onClick:R.a.func,id:R.a.string.isRequired,name:R.a.string.isRequired,value:R.a.string.isRequired,checked:R.a.bool,disabled:R.a.bool,children:R.a.string.isRequired},x.defaultProps={onClick:null,checked:!1,disabled:!1};var P=x,j=a(78),L=a(18),I=a(0);function M(e,t){var a=Object.keys(e);return Object.getOwnPropertySymbols&&a.push.apply(a,Object.getOwnPropertySymbols(e)),t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a}function T(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?M(a,!0).forEach(function(t){i()(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):M(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var F=wp.i18n,U=F.__,z=F.sprintf,W=wp.element,G=W.Component,q=W.Fragment,H=wp.hooks,K=H.removeFilter,B=H.addFilter,Y=function(e){function t(e){var a;d()(this,t),a=m()(this,f()(t).call(this,e));var n=googlesitekit.modules.analytics.settings,i=n.accountId,o=n.internalWebPropertyId,s=n.profileId,r=n.propertyId,l=n.useSnippet,c=n.ampClientIdOptIn;return a.state={isLoading:!0,isSaving:!1,propertiesLoading:!1,profilesLoading:!1,useSnippet:l||!1,errorCode:!1,errorMsg:"",errorReason:!1,accounts:[],properties:[],profiles:[],selectedAccount:i,selectedProperty:r,selectedProfile:s,selectedinternalWebProperty:o,ampClientIdOptIn:c,existingTag:!1},a.handleAccountChange=a.handleAccountChange.bind(k()(a)),a.handlePropertyChange=a.handlePropertyChange.bind(k()(a)),a.handleProfileChange=a.handleProfileChange.bind(k()(a)),a.processAccountChange=a.processAccountChange.bind(k()(a)),a.processPropertyChange=a.processPropertyChange.bind(k()(a)),a.handleSubmit=a.handleSubmit.bind(k()(a)),a.handleRadioClick=a.handleRadioClick.bind(k()(a)),a.handleAMPClientIdSwitch=a.handleAMPClientIdSwitch.bind(k()(a)),a.handleRefetchAccount=a.handleRefetchAccount.bind(k()(a)),a}return _()(t,e),g()(t,[{key:"componentDidMount",value:function(){var e=l()(s.a.mark(function e(){var t,a,n=this;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this._isMounted=!0,e.next=3,Object(I.k)("analytics");case 3:if(!(t=e.sent)||!t.length){e.next=19;break}return e.prev=5,e.next=8,b.c.get(b.b,"analytics","tag-permission",{tag:t},!1);case 8:return a=e.sent,e.next=11,this.getAccounts(a);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(5),this.setState({isLoading:!1,errorCode:e.t0.code,errorMsg:e.t0.message,errorReason:!(!e.t0.data||!e.t0.data.reason)&&e.t0.data.reason}),b.c.deleteCache("analytics","existingTag");case 17:e.next=21;break;case 19:return e.next=21,this.getAccounts();case 21:B("googlekit.SettingsConfirmed","googlekit.AnalyticsSettingsConfirmed",function(e,t){return"analytics"!==t.replace("-module","")?e:n.props.isEditing?n.handleSubmit():void 0});case 22:case"end":return e.stop()}},e,this,[[5,13]])}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this._isMounted=!1,K("googlekit.SettingsConfirmed","googlekit.AnalyticsSettingsConfirmed")}},{key:"componentDidUpdate",value:function(){this.toggleConfirmChangesButton()}},{key:"toggleConfirmChangesButton",value:function(){if(this.props.isEditing){Object(I.y)("analytics",{selectedAccount:"accountId",selectedProperty:"propertyId",selectedProfile:"profileId",selectedinternalWebProperty:"internalWebPropertyId",useSnippet:"useSnippet",ampClientIdOptIn:"ampClientIdOptIn"},this.state)}}},{key:"handleAccountChange",value:function(e,t){var a=this.state.selectedAccount,n=t.getAttribute("data-value");n!==a&&("0"!==n?(this.setState({propertiesLoading:!0,profilesLoading:!0,selectedAccount:n}),Object(I.v)("analytics_setup","account_change",n),this.processAccountChange(n)):this.setState({selectedAccount:n,selectedProperty:"-1",selectedProfile:"-1",properties:[{id:"-1",name:U("Select an account","google-site-kit")}],profiles:[{id:"-1",name:U("Select an account","google-site-kit")}]}))}},{key:"handlePropertyChange",value:function(e,t){var a=this.state.selectedProperty,n=t.getAttribute("data-value");n!==a&&("0"!==n?(this.setState({profilesLoading:!0,selectedProperty:n}),Object(I.v)("analytics_setup","property_change",n),this.processPropertyChange(n)):this.setState({selectedProperty:n,selectedProfile:n,profiles:[{id:0,name:U("Setup a New Profile","google-site-kit")}]}))}},{key:"handleProfileChange",value:function(e,t){var a=t.getAttribute("data-value");this.setState({selectedProfile:a}),Object(I.v)("analytics_setup","profile_change",a)}},{key:"getAccounts",value:function(){var e=l()(s.a.mark(function e(){var t,a,n,i,o,r,l,c,d,u,g,p,m,h,f,y,k=this,v=arguments;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=v.length>0&&void 0!==v[0]&&v[0],a=this.state,n=a.selectedAccount,i=a.selectedProperty,o=a.selectedProfile,r=a.useSnippet,l=this.props,c=l.isEditing,d=l.onSettingsPage,u=this.state.errorCode,g={},e.prev=5,p=t?{existingAccountId:t.accountId,existingPropertyId:t.propertyId}:{},e.next=9,b.c.get(b.b,"analytics","accounts-properties-profiles",p,!1);case 9:0===(m=e.sent).accounts.length?(g=T({},g,{errorCode:"no_account",errorReason:"noAccount"}),b.c.invalidateCacheGroup(b.b,"analytics","accounts-properties-profiles")):n?n&&!m.accounts.find(function(e){return e.id===n})&&(b.c.invalidateCacheGroup(b.b,"analytics","accounts-properties-profiles"),m.accounts.unshift({id:0,name:U("Select one...","google-site-kit")}),c&&(n="0",i="-1",o="-1"),g=T({},g,{errorCode:"insufficient_permissions",errorReason:"insufficientPermissions"})):(h=null,m.matchedProperty&&(h=m.matchedProperty),h?(n=h.accountId,i=h.id,(f=m.profiles.find(function(e){return e.accountId===n}))&&(o=f.id)):m.accounts.unshift({id:0,name:U("Select one...","google-site-kit")})),y={id:"-1",name:U("Select an account","google-site-kit")},this.state.existingTag||m.properties.push({id:0,name:U("Setup a New Property","google-site-kit")}),m.profiles.push({id:0,name:U("Setup a New Profile","google-site-kit")}),d||(r=!t),g=T({},g,{isLoading:!1,accounts:m.accounts,errorCode:u||g.errorCode,selectedAccount:n,selectedProperty:i,selectedProfile:o,properties:[y],profiles:[y],existingTag:!!t&&t.propertyId,useSnippet:r}),n&&"0"!==n&&(g=Object.assign(g,{properties:m.properties,profiles:m.profiles,selectedinternalWebProperty:m.properties[0]?m.properties[0].internalWebPropertyId:0})),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(5),g={isLoading:!1,errorCode:e.t0.code,errorMsg:e.t0.message,errorReason:!(!e.t0.data||!e.t0.data.reason)&&e.t0.data.reason};case 22:return e.abrupt("return",new Promise(function(e){k._isMounted?k.setState(g,e):e()}));case 23:case"end":return e.stop()}},e,this,[[5,19]])}));return function(){return e.apply(this,arguments)}}()},{key:"processAccountChange",value:function(){var e=l()(s.a.mark(function e(t){var a,n,i,o;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={accountId:t},e.next=4,b.c.get(b.b,"analytics","properties-profiles",a);case 4:n=e.sent,i={id:0,name:U("Setup a New Property","google-site-kit")},n.properties.push(i),o={id:0,name:U("Setup a New Profile","google-site-kit")},n.profiles.push(o),this.setState({propertiesLoading:!1,profilesLoading:!1,properties:n.properties,profiles:n.profiles,selectedAccount:t,selectedProperty:n.properties[0].id,selectedinternalWebProperty:n.properties[0].internalWebPropertyId,selectedProfile:n.profiles[0].id,errorCode:!1}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),this.setState({errorCode:e.t0.code,errorMsg:e.t0.message});case 15:case"end":return e.stop()}},e,this,[[0,12]])}));return function(t){return e.apply(this,arguments)}}()},{key:"processPropertyChange",value:function(){var e=l()(s.a.mark(function e(t){var a,n,i;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.state.selectedAccount,e.prev=1,n={accountId:a,propertyId:t},e.next=5,b.c.get(b.b,"analytics","profiles",n);case 5:i=e.sent,this.setState({profilesLoading:!1,profiles:i,selectedProperty:t,selectedinternalWebProperty:i[0].internalWebPropertyId,selectedProfile:i[0].id,errorCode:!1}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),this.setState({errorCode:e.t0.code,errorMsg:e.t0.message});case 12:case"end":return e.stop()}},e,this,[[1,9]])}));return function(t){return e.apply(this,arguments)}}()},{key:"handleSubmit",value:function(){var e=l()(s.a.mark(function e(t){var a,n,i,o,r,l,c,d,u,g,p,m,h;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&t.preventDefault(),this.state.selectedAccount&&"-1"!==this.state.selectedAccount){e.next=3;break}return e.abrupt("return");case 3:return a=this.state,n=a.selectedAccount,i=a.selectedProperty,o=a.selectedProfile,r=a.useSnippet,l=a.selectedinternalWebProperty,c=a.accounts,d=a.properties,u=a.profiles,g=a.ampClientIdOptIn,this.setState({isSaving:!0}),p=this.props.finishSetup,m={accountId:n||c[0].id||null,profileId:o||u[0].id||null,propertyId:i||d[0].id||null,internalWebPropertyId:l||d[0].internalWebPropertyId||null,useSnippet:r||!1,ampClientIdOptIn:g||!1},e.prev=7,e.next=10,b.c.set(b.b,"analytics","settings",m);case 10:return h=e.sent,b.c.invalidateCacheGroup(b.b,"analytics","accounts-properties-profiles"),e.next=14,this.getAccounts();case 14:googlesitekit.modules.analytics.settings.accountId=h.accountId,googlesitekit.modules.analytics.settings.profileId=h.profileId,googlesitekit.modules.analytics.settings.propertyId=h.propertyId,googlesitekit.modules.analytics.settings.internalWebPropertyId=h.internalWebPropertyId,googlesitekit.modules.analytics.settings.useSnippet=h.useSnippet,googlesitekit.modules.analytics.settings.ampClientIdOptIn=h.ampClientIdOptIn,Object(I.v)("analytics_setup","analytics_configured"),p&&p(),this._isMounted&&this.setState({isSaving:!1,selectedAccount:h.accountId,selectedProfile:h.profileId,selectedProperty:h.propertyId,selectedinternalWebProperty:h.internalWebPropertyId}),e.next=28;break;case 25:e.prev=25,e.t0=e.catch(7),this.setState({isSaving:!1,errorCode:e.t0.code,errorMsg:e.t0.message});case 28:case"end":return e.stop()}},e,this,[[7,25]])}));return function(t){return e.apply(this,arguments)}}()},{key:"handleRadioClick",value:function(e){var t="1"===e.target.value;this.setState({useSnippet:t}),Object(I.v)("analytics_setup",t?"analytics_tag_enabled":"analytics_tag_disabled")}},{key:"handleAMPClientIdSwitch",value:function(){this.setState({ampClientIdOptIn:!this.state.ampClientIdOptIn})}},{key:"handleRefetchAccount",value:function(){this.setState({isLoading:!0,errorCode:!1,errorMsg:""}),this.getAccounts()}},{key:"renderAutoInsertSnippetForm",value:function(){var e=this.state,t=e.useSnippet,a=e.isSaving,n=e.ampClientIdOptIn,i=e.existingTag,o=this.props,s=o.isEditing,r=o.onSettingsPage,l=!s,c=window.googlesitekit.admin.ampEnabled,d=window.googlesitekit.modules.analytics.settings.useSnippet;return React.createElement("div",{className:"googlesitekit-setup-module__inputs googlesitekit-setup-module__inputs--multiline"},(s||a)&&React.createElement(q,null,r&&React.createElement(q,null,!d&&!i&&React.createElement(q,null,React.createElement("p",{className:"googlesitekit-setup-module__text--no-margin"},U("Currently there is no Analytics snippet placed on your site, so no stats are being gathered. Would you like Site Kit to insert the Analytics snippet? You can change this setting later.","google-site-kit"))),d&&React.createElement("p",{className:"googlesitekit-setup-module__text--no-margin"},U("Do you want to remove the Analytics snippet inserted by Site Kit?","google-site-kit"))),r&&!i&&!t&&d&&React.createElement("p",null,U("If the code snippet is removed, you will no longer be able to gather Analytics insights about your site.","google-site-kit"))),r&&React.createElement(q,null,i&&React.createElement("p",null,U("Placing two tags at the same time is not recommended.","google-site-kit")),React.createElement(P,{onClick:this.handleRadioClick,id:"useSnippetTrue",name:"useSnippet",value:"1",checked:t,disabled:l},U(d?"Not at this time":"Insert snippet","google-site-kit")),React.createElement(P,{onClick:this.handleRadioClick,id:"useSnippetFalse",name:"useSnippet",value:"0",checked:!t,disabled:l},U(d?"Remove snippet":"Not at this time","google-site-kit"))),t&&c&&React.createElement("div",{className:"googlesitekit-setup-module__input"},React.createElement(j.a,{id:"ampClientIdOptIn",label:U("Opt in AMP Client ID","google-site-kit"),onClick:this.handleAMPClientIdSwitch,checked:n,hideLabel:!1}),React.createElement("p",null,n?U("Sessions will be combined across AMP/non-AMP pages.","google-site-kit")+" ":U("Sessions will be tracked separately between AMP/non-AMP pages.","google-site-kit")+" ",React.createElement(C.a,{href:"https://support.google.com/analytics/answer/7486764",external:!0,inherit:!0},U("Learn more","google-site-kit")))))}},{key:"accountsDropdown",value:function(){var e=this.state,t=e.accounts,a=e.selectedAccount,n=e.existingTag,i=!this.props.isEditing;return n&&a&&(i=!0),React.createElement(D.k,{enhanced:!0,name:"accounts",value:a||"0",onEnhancedChange:this.handleAccountChange,label:U("Account","google-site-kit"),disabled:i,outlined:!0},t.map(function(e,t){return React.createElement(D.j,{key:t,value:e.id},e.name)}))}},{key:"hasAccessToExistingTagProperty",value:function(){var e=this.state,t=e.existingTag,a=e.selectedProfile;return t&&a}},{key:"renderForm",value:function(){var e=this.state,a=e.isLoading,n=e.propertiesLoading,i=e.profilesLoading,o=e.accounts,s=e.properties,r=e.profiles,l=e.selectedAccount,c=e.selectedProperty,d=e.selectedProfile,u=e.useSnippet,g=e.existingTag,p=e.errorCode,m=this.props,h=m.onSettingsPage,f=m.isEditing,y=!f,k=!f;g&&c&&(k=!0);var v=googlesitekit.modules.analytics.setupComplete;if(a)return React.createElement(w.a,null);if("google_analytics_existing_tag_permission"===p)return null;if(0>=o.length){if(!f)return U("No account found.","google-site-kit");if(!v||f)return React.createElement(q,null,React.createElement("div",{className:"googlesitekit-setup-module__action"},React.createElement(S.a,{onClick:t.createNewAccount},U("Create an account","google-site-kit")),React.createElement("div",{className:"googlesitekit-setup-module__sub-action"},React.createElement(C.a,{onClick:this.handleRefetchAccount},U("Re-fetch My Account","google-site-kit")))))}if(!f){var _=U(u?"Snippet is inserted":"Snippet is not inserted","google-site-kit");return g&&(_=U("Inserted by another plugin or theme","google-site-kit")),React.createElement(q,null,React.createElement("div",{className:"googlesitekit-settings-module__meta-items"},React.createElement("div",{className:"googlesitekit-settings-module__meta-item"},React.createElement("p",{className:"googlesitekit-settings-module__meta-item-type"},U("Account","google-site-kit")),React.createElement("h5",{className:"googlesitekit-settings-module__meta-item-data"},l||o[0].name||!1)),React.createElement("div",{className:"googlesitekit-settings-module__meta-item"},React.createElement("p",{className:"googlesitekit-settings-module__meta-item-type"},U("Property","google-site-kit")),React.createElement("h5",{className:"googlesitekit-settings-module__meta-item-data"},c||s[0].name||!1)),React.createElement("div",{className:"googlesitekit-settings-module__meta-item"},React.createElement("p",{className:"googlesitekit-settings-module__meta-item-type"},U("View","google-site-kit")),React.createElement("h5",{className:"googlesitekit-settings-module__meta-item-data"},d||r[0].name||!1))),React.createElement("div",{className:"googlesitekit-settings-module__meta-items"},React.createElement("div",{className:" googlesitekit-settings-module__meta-item googlesitekit-settings-module__meta-item--nomargin "},React.createElement("p",{className:"googlesitekit-settings-module__meta-item-type"},U("Analytics Code Snippet","google-site-kit")),React.createElement("h5",{className:"googlesitekit-settings-module__meta-item-data"},_))))}return React.createElement(q,null,!h&&0<o.length&&!g&&React.createElement("p",null,U("Please select the account information below. You can change this view later in your settings.","google-site-kit")),React.createElement("div",{className:"googlesitekit-setup-module__inputs"},this.accountsDropdown(),n?React.createElement(w.a,{small:!0}):React.createElement(D.k,{enhanced:!0,name:"properties",value:c||"-1",onEnhancedChange:this.handlePropertyChange,label:U("Property","google-site-kit"),disabled:k,outlined:!0},s.map(function(e,t){return React.createElement(D.j,{key:t,value:e.id},e.name)})),i?React.createElement(w.a,{small:!0}):React.createElement(D.k,{enhanced:!0,name:"profiles",value:d||"-1",onEnhancedChange:this.handleProfileChange,label:U("View","google-site-kit"),disabled:y,outlined:!0},r.map(function(e,t){return React.createElement(D.j,{key:t,value:e.id},e.name)}))),this.renderAutoInsertSnippetForm(),!h&&React.createElement("div",{className:"googlesitekit-setup-module__action"},React.createElement(S.a,{disabled:!this.state.selectedAccount,onClick:this.handleSubmit},U("Configure Analytics","google-site-kit"))))}},{key:"renderErrorOrNotice",value:function(){var e=this.state,t=e.errorCode,a=e.errorMsg,n=e.errorReason,i=e.accounts,o=this.props.onSettingsPage;if(!t)return null;var s=!0,r=a;switch(!0){case"google_analytics_existing_tag_permission"===t:s=!1;break;case o&&t&&"insufficientPermissions"===n:s=!1,r=U("You currently don't have access to this Google Analytics account. You can either request access from your team, or remove this Google Analytics snippet and connect to a different account.","google-site-kit");break;case!o&&0===i.length:s=!1,r=U('Looks like you don\'t have an Analytics account yet. Once you create it, click on "Re-fetch my account" and Site Kit will locate it.',"google-site-kit")}return 0===r.length?null:React.createElement("div",{className:s?"googlesitekit-error-text":""},React.createElement("p",null,s?z(U("Error: %s","google-site-kit"),r):r))}},{key:"render",value:function(){var e=this.props.onSettingsPage,t=this.state.existingTag;return e||Object(I.v)("analytics_setup","configure_analytics_screen"),React.createElement("div",{className:"googlesitekit-setup-module googlesitekit-setup-module--analytics"},!e&&React.createElement(q,null,React.createElement("div",{className:"googlesitekit-setup-module__logo"},React.createElement(L.a,{id:"analytics",width:"33",height:"33"})),React.createElement("h2",{className:" googlesitekit-heading-3 googlesitekit-setup-module__title "},U("Analytics","google-site-kit"))),this.hasAccessToExistingTagProperty()&&t!==googlesitekit.admin.trackingID&&React.createElement("p",null,z(U("An existing analytics tag was found on your site with the id %s. If later on you decide to replace this tag, Site Kit can place the new tag for you. Make sure you remove the old tag first.","google-site-kit"),t)),this.renderErrorOrNotice(),this.renderForm())}}],[{key:"createNewAccount",value:function(e){e.preventDefault(),Object(I.v)("analytics_setup","new_analytics_account"),window.open("https://analytics.google.com/analytics/web/?#/provision/SignUp","_blank")}}]),t}(G);Y.propTypes={onSettingsPage:R.a.bool,finishSetup:R.a.func,isEditing:R.a.bool},Y.defaultProps={onSettingsPage:!0,isEditing:!1};t.default=Y},,function(e,t,a){"use strict";a.r(t);var n=a(60),i=a.n(n),o=a(10),s=a.n(o),r=a(12),l=a.n(r),c=a(28),d=a.n(c),u=a(2),g=a.n(u),p=a(3),m=a.n(p),h=a(4),f=a.n(h),y=a(5),k=a.n(y),v=a(9),_=a.n(v),b=a(6),E=a.n(b),R=(a(8),a(1)),S=a.n(R),w=a(18),C=a(38),D=a(27),O=a(88),A=a(58),N=a(0);function x(e,t){var a=Object.keys(e);return Object.getOwnPropertySymbols&&a.push.apply(a,Object.getOwnPropertySymbols(e)),t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a}var P=wp.element,j=P.Component,L=P.Fragment,I=wp.i18n.__,M=function(e){function t(e){var a;return g()(this,t),(a=f()(this,k()(t).call(this,e))).state={loadStatus:I("Loading…","google-site-kit"),existingTag:!1},a.updateLoadStatus=a.updateLoadStatus.bind(_()(a)),a.handleComponentRender=a.handleComponentRender.bind(_()(a)),a.continueSetup=a.continueSetup.bind(_()(a)),a.goBack=a.goBack.bind(_()(a)),a}return E()(t,e),m()(t,[{key:"updateLoadStatus",value:function(e){this.setState(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?x(a,!0).forEach(function(t){d()(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):x(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},this.state,{loadStatus:e}))}},{key:"componentDidMount",value:function(){var e=l()(s.a.mark(function e(){var t,a=this;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.k)("adsense");case 2:t=e.sent,this.setState({existingTag:t}),Object(C.getAdSenseAccountStatus)(this.updateLoadStatus,t).then(function(e){a.setState(e)});case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"continueSetup",value:function(e){e.existingState=this.state,this.setState(e)}},{key:"goBack",value:function(){var e=this.state.existingState;e&&(e.existingState=!1,this.setState(e))}},{key:"handleComponentRender",value:function(){var e=this.state,t=e.accountStatus,a=e.loadStatus;return googlesitekit.canAdsRun||googlesitekit.modules.adsense.setupComplete?t?"account-pending-review"===t?React.createElement(A.default,{status:"incomplete"}):"account-required-action"===t?React.createElement(A.default,{status:"requiredAction"}):"ads-display-pending"===t?React.createElement(A.default,{status:"adsDisplayPending"}):React.createElement(O.default,i()({},this.state,{continueSetup:this.continueSetup,goBack:this.goBack})):React.createElement(L,null,a,React.createElement(D.a,null)):React.createElement(L,null,React.createElement("div",{className:"googlesitekit-settings-module-warning"},React.createElement(w.a,{id:"error",height:"20",width:"23"})," ",I("Ad blocker detected, you need to disable it in order to setup AdSense.","google-site-kit")))}},{key:"render",value:function(){return React.createElement("div",{className:"googlesitekit-setup-module googlesitekit-setup-module--adsense"},React.createElement("div",{className:"googlesitekit-setup-module__step"},React.createElement("div",{className:"googlesitekit-setup-module__logo"},React.createElement(w.a,{id:"adsense",width:"33",height:"33"})),React.createElement("h2",{className:" googlesitekit-heading-3 googlesitekit-setup-module__title "},I("AdSense","google-site-kit"))),React.createElement("div",{className:"googlesitekit-setup-module__step"},this.handleComponentRender()))}}]),t}(j);M.propTypes={status:S.a.string,module:S.a.string},t.default=M},function(e,t,a){"use strict";a.r(t);var n=a(2),i=a.n(n),o=a(3),s=a.n(o),r=a(4),l=a.n(r),c=a(5),d=a.n(c),u=a(6),g=a.n(u),p=(a(8),a(18)),m=a(11),h=a(24),f=a(65),y=a(7),k=a(54),v=a(17),_=a(0),b=wp.element.Component,E=wp.i18n.__,R=function(e){function t(e){var a;return i()(this,t),(a=l()(this,d()(t).call(this,e))).state={isSaving:!1},a}return g()(t,e),s()(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.error,n=t.message,i=t.issue,o=t.notice,s=t.statusHeadline,r=t.statusMessage,l=t.profile,c=t.ctaLinkText,d=t.ctaLink,u=t.ctaTarget,g=t.buttonLink,b=t.footerText,R=t.footerAppendedText,S=t.footerCTA,w=t.footerCTALink,C=t.continueAction,D=t.continueSetup,O=t.accountStatus,A=t.accountTagMatch,N=t.clientId,x=t.existingTag,P=t.switchLabel,j=t.tracking,L=t.switchOffMessage,I=t.switchOnMessage,M=t.goBack,T=t.existingState,F=this.state.isSaving,U=googlesitekit.admin.userData,z=U.email,W=void 0===z?"":z,G=U.picture,q=void 0===G?"":G;return React.createElement("div",{className:"googlesitekit-setup-module googlesitekit-setup-module--adsense"},React.createElement("div",{className:"googlesitekit-setup-module__step"},i&&React.createElement("p",{className:"googlesitekit-setup__notice"},React.createElement(p.a,{id:"error",height:"20",width:"23"}),React.createElement("span",{className:"googlesitekit-setup__notice-text"},i)),React.createElement("h2",{className:" googlesitekit-heading-4 googlesitekit-setup-module__title "},s),React.createElement("p",null,r),l&&React.createElement("p",{className:"googlesitekit-setup-module__user"},q&&React.createElement("img",{className:"googlesitekit-setup-module__user-image",src:q,alt:E("User Avatar","google-site-kit")}),React.createElement("span",{className:"googlesitekit-setup-module__user-email"},W)),"account-connected"===O&&React.createElement(f.default,{isEditing:!0,accountTagMatch:A,existingTag:x,saveOnChange:!0,switchLabel:P,switchOffMessage:L,switchOnMessage:I}),o&&React.createElement("div",{className:"googlesitekit-settings-notice"},React.createElement("div",{className:"googlesitekit-settings-notice__text"},o)),a&&0<n.length&&React.createElement("div",{className:"googlesitekit-error-text"},React.createElement("p",null,E("Error:","google-site-kit")," ",n)),React.createElement("div",{className:"googlesitekit-setup-module__action"},g?React.createElement(v.Fragment,null,React.createElement(h.a,{disabled:F,onClick:function(){if(j&&Object(_.v)(j.eventCategory,j.eventName),"account-connected"===O&&N){e.setState({isSaving:!0});var t=document.getElementById("enableAutoAds"),a=t&&t.checked;y.c.set(y.b,"adsense","setup-complete",{clientId:N,useSnippet:a}).then(function(){document.location=d}).catch(function(){e.setState({isSaving:!1})})}else{var n=u||"_self";window.open(d,n)}}},c),React.createElement(k.a,{isSaving:F})):React.createElement(m.a,{external:!0,inherit:!0,href:d},c),C&&React.createElement("div",{className:"googlesitekit-setup-module__sub-action"},React.createElement(m.a,{inherit:!0,onClick:function(){D(C)}},C.continueText)),T&&React.createElement("div",{className:"googlesitekit-setup-module__sub-action"},React.createElement(m.a,{inherit:!0,onClick:function(){M()}},E("Back","google-site-kit")))),b&&React.createElement("p",{className:"googlesitekit-setup-module__footer-text"},b," ",S&&React.createElement(m.a,{href:w,inherit:!0,external:!0},S)," ",R)))}}]),t}(b);t.default=R},function(e,t,a){"use strict";a.r(t);var n=a(2),i=a.n(n),o=a(3),s=a.n(o),r=a(4),l=a.n(r),c=a(5),d=a.n(c),u=a(6),g=a.n(u),p=wp.components.withFilters,m=function(e){function t(){return i()(this,t),l()(this,d()(t).apply(this,arguments))}return g()(t,e),s()(t,[{key:"render",value:function(){return null}}]),t}(wp.element.Component);t.default=p("googlesitekit.AnalyticsAdSenseTopPagesTableSmall")(m)},function(e,t,a){"use strict";a.r(t);var n=a(2),i=a.n(n),o=a(3),s=a.n(o),r=a(4),l=a.n(r),c=a(5),d=a.n(c),u=a(6),g=a.n(u),p=wp.components.withFilters,m=function(e){function t(){return i()(this,t),l()(this,d()(t).apply(this,arguments))}return g()(t,e),s()(t,[{key:"render",value:function(){return null}}]),t}(wp.element.Component);t.default=p("googlesitekit.AnalyticsAdSenseTopPagesTable")(m)},function(e,t,a){"use strict";a.r(t);var n=a(2),i=a.n(n),o=a(3),s=a.n(o),r=a(4),l=a.n(r),c=a(5),d=a.n(c),u=a(6),g=a.n(u),p=(a(8),a(34)),m=a(89),h=a(92),f=a(47),y=wp.element,k=y.Component,v=y.Fragment,_=wp.i18n.__,b=function(e){function t(){return i()(this,t),l()(this,d()(t).apply(this,arguments))}return g()(t,e),s()(t,[{key:"render",value:function(){return React.createElement(v,null,React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-12 "},React.createElement(p.a,{title:_("Earnings","google-site-kit"),description:_("How much you’re earning from your content through AdSense.","google-site-kit"),timePeriod:_("Last 28 days","google-site-kit")}),React.createElement(f.a,{slug:"adsense",context:"module-sitekit-dashboard"})),React.createElement(h.default,null),React.createElement(m.default,null))}}]),t}(k);t.default=b},function(e,t,a){"use strict";a.r(t);var n=a(2),i=a.n(n),o=a(3),s=a.n(o),r=a(4),l=a.n(r),c=a(5),d=a.n(c),u=a(6),g=a.n(u),p=(a(8),a(16)),m=a(7),h=a(20),f=a(0),y=a(22),k=a(45),v=a(38),_=a(15),b=wp.i18n.__,E=wp.element,R=E.Component,S=E.Fragment,w=function(e){function t(e){var a;return i()(this,t),(a=l()(this,d()(t).call(this,e))).state={today:!1,period:!1,daily:!1},a}return g()(t,e),s()(t,[{key:"componentDidUpdate",value:function(){this.processCallbackData()}},{key:"componentDidMount",value:function(){this.processCallbackData()}},{key:"processCallbackData",value:function(){var e=this.props,t=e.data,a=e.requestDataToState;t&&!t.error&&"function"==typeof a&&this.setState(a)}},{key:"render",value:function(){var e=this.state,t=e.today,a=e.period,n=e.daily;if(!(t&&a&&n&&a.totals))return React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-6-desktop mdc-layout-grid__cell--span-4-tablet "},React.createElement(_.a,{className:"googlesitekit-dashboard-adsense-stats",fill:!0},React.createElement(h.a,{width:"100%",height:"276px",padding:!0})));var i=Object(v.reduceAdSenseData)(n.rows),o=Object(f.n)("googlesitekit-module-adsense",{}),s=a.headers.find(function(e){return null!==e.currency&&0<e.currency.length}),r=!!s&&s.currency;return React.createElement(S,null,React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-6-desktop mdc-layout-grid__cell--span-4-tablet "},React.createElement(_.a,{className:"googlesitekit-dashboard-adsense-stats",fill:!0},React.createElement("div",{className:"mdc-layout-grid"},React.createElement("div",{className:"mdc-layout-grid__inner"},React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-12 "},React.createElement(y.a,{className:"overview-adsense-rpm",title:b("RPM","google-site-kit"),datapoint:Object(f.t)(a.totals[1],r),source:{name:b("AdSense","google-site-kit"),link:o},sparkline:n&&React.createElement(k.a,{data:Object(f.f)(i.dataMap,2),change:1,id:"adsense-rpm-sparkline",loadSmall:!1}),context:"compact"})),React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-12 "},React.createElement(y.a,{className:"overview-adsense-earnings",title:b("Total Earnings","google-site-kit"),datapoint:Object(f.t)(a.totals[0],r),source:{name:b("AdSense","google-site-kit"),link:o},change:t.totals[0],changeDataUnit:"$",sparkline:n&&React.createElement(k.a,{data:Object(f.f)(i.dataMap,1),change:1,id:"adsense-earnings-sparkline",loadSmall:!1}),context:"compact"})),React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-12 "},React.createElement(y.a,{className:"overview-adsense-impressions",title:b("Ad Impressions","google-site-kit"),datapoint:Object(f.t)(a.totals[2]),source:{name:b("AdSense","google-site-kit"),link:o},sparkline:n&&React.createElement(k.a,{data:Object(f.f)(i.dataMap,3),change:1,id:"adsense-impressions-sparkline",loadSmall:!1}),context:"compact"})))))))}}]),t}(R);t.default=Object(p.a)(w,[{type:m.b,identifier:"adsense",datapoint:"earnings",data:{dateRange:"today"},priority:1,maxAge:Object(f.p)("day"),context:"Dashboard",toState:function(e,t){var a=t.data;if(!e.today)return{today:a}}},{type:m.b,identifier:"adsense",datapoint:"earnings",data:{},priority:1,maxAge:Object(f.p)("day"),context:"Dashboard",toState:function(e,t){var a=t.data;if(!e.period)return{period:a}}},{type:m.b,identifier:"adsense",datapoint:"earnings",data:{dateRange:"this-month",dimensions:["DATE"]},priority:1,maxAge:Object(f.p)("day"),context:"Dashboard",toState:function(e,t){var a=t.data;if(!e.daily)return{daily:a}}}],React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-6-desktop mdc-layout-grid__cell--span-4-tablet "},React.createElement(_.a,{className:"googlesitekit-dashboard-adsense-stats",fill:!0},React.createElement(h.a,{width:"100%",height:"276px",padding:!0}))),{inGrid:!0,createGrid:!0},v.isDataZeroAdSense)},function(e,t,a){"use strict";a.r(t);var n=a(2),i=a.n(n),o=a(3),s=a.n(o),r=a(4),l=a.n(r),c=a(5),d=a.n(c),u=a(6),g=a.n(u),p=(a(8),a(22)),m=a(20),h=a(0),f=a(16),y=a(7),k=a(38),v=wp.i18n.__,_=function(e){function t(e){var a;return i()(this,t),(a=l()(this,d()(t).call(this,e))).state={refetch:!1,today:!1,yesterday:!1,sevenDays:!1,month:!1,twentyEightDays:!1,sameDayLastWeek:!1,prev7Days:!1,monthLastYear:!1,prev28Days:!1,error:!1,message:""},a}return g()(t,e),s()(t,[{key:"componentDidUpdate",value:function(){this.processCallbackData()}},{key:"componentDidMount",value:function(){this.processCallbackData()}},{key:"processCallbackData",value:function(){var e=this.props,t=e.data,a=e.requestDataToState;t&&!t.error&&"function"==typeof a&&this.setState(a)}},{key:"render",value:function(){var e=this.state,a=e.today,n=e.yesterday,i=e.sevenDays,o=e.month,s=e.twentyEightDays,r=e.sameDayLastWeek,l=e.prev7Days,c=e.monthLastYear,d=e.prev28Days;if(!(a&&n&&i&&o&&s&&r&&l&&c&&d))return null;var u=a.headers.find(function(e){return null!==e.currency&&0<e.currency.length}),g=!!u&&u.currency,p=a.totals?[{className:"googlesitekit-data-block--today",title:v("Today so far","google-site-kit"),datapoint:Object(h.t)(a.totals[0],g)},{className:"googlesitekit-data-block--yesterday",title:v("Yesterday","google-site-kit"),datapoint:Object(h.t)(n.totals[0],g),change:r.totals[0],changeDataUnit:"%"},{className:"googlesitekit-data-block--7days",title:v("Last 7 days","google-site-kit"),datapoint:Object(h.t)(i.totals[0],g),change:l.totals[0],changeDataUnit:"%"},{className:"googlesitekit-data-block--month",title:v("This month","google-site-kit"),datapoint:Object(h.t)(o.totals[0],g),change:c.totals[0],changeDataUnit:"%"},{className:"googlesitekit-data-block--28days",title:v("Last 28 days","google-site-kit"),datapoint:Object(h.t)(s.totals[0],g),change:d.totals[0],changeDataUnit:"%"}]:[];return t.renderLayout(p)}}],[{key:"renderLayout",value:function(e){return React.createElement("section",{className:"mdc-layout-grid"},React.createElement("div",{className:"mdc-layout-grid__inner"},e.map(function(e,t){return React.createElement("div",{key:t,className:" mdc-layout-grid__cell mdc-layout-grid__cell--align-top mdc-layout-grid__cell--span-2-phone mdc-layout-grid__cell--span-2-tablet mdc-layout-grid__cell--span-4-desktop "},React.createElement(p.a,{stat:t,className:e.className,title:e.title,datapoint:e.datapoint,change:e.change,changeDataUnit:e.changeDataUnit,context:e.context,selected:e.selected,handleStatSelection:e.handleStatSelection}))})))}},{key:"renderPreviews",value:function(){for(var e=[],t=0;5>t;t++)e.push(React.createElement("div",{key:t,className:" mdc-layout-grid__cell mdc-layout-grid__cell--align-top mdc-layout-grid__cell--span-2-phone mdc-layout-grid__cell--span-2-tablet mdc-layout-grid__cell--span-4-desktop "},React.createElement(m.a,{width:"100%",height:"104px"})));return React.createElement("section",{className:"mdc-layout-grid"},React.createElement("div",{className:"mdc-layout-grid__inner"},e))}}]),t}(wp.element.Component);t.default=Object(f.a)(_,[{type:y.b,identifier:"adsense",datapoint:"earnings",data:{dateRange:"today"},priority:1,maxAge:Object(h.p)("day"),context:["Single","Dashboard"],toState:function(e,t){var a=t.data;if(!e.today)return{today:a}}},{type:y.b,identifier:"adsense",datapoint:"earnings",data:{dateRange:"yesterday"},priority:1,maxAge:Object(h.p)("day"),context:["Single","Dashboard"],toState:function(e,t){var a=t.data;if(!e.yesterday)return{yesterday:a}}},{type:y.b,identifier:"adsense",datapoint:"earnings",data:{dateRange:"same-day-last-week"},priority:1,maxAge:Object(h.p)("day"),context:["Single","Dashboard"],toState:function(e,t){var a=t.data;if(!e.sameDayLastWeek)return{sameDayLastWeek:a}}},{type:y.b,identifier:"adsense",datapoint:"earnings",data:{dateRange:"last-7-days"},priority:1,maxAge:Object(h.p)("day"),context:["Single","Dashboard"],toState:function(e,t){var a=t.data;if(!e.sevenDays)return{sevenDays:a}}},{type:y.b,identifier:"adsense",datapoint:"earnings",data:{dateRange:"prev-7-days"},priority:1,maxAge:Object(h.p)("day"),context:["Single","Dashboard"],toState:function(e,t){var a=t.data;if(!e.prev7Days)return{prev7Days:a}}},{type:y.b,identifier:"adsense",datapoint:"earnings",data:{dateRange:"this-month"},priority:1,maxAge:Object(h.p)("day"),context:["Single","Dashboard"],toState:function(e,t){var a=t.data;if(!e.month)return{month:a}}},{type:y.b,identifier:"adsense",datapoint:"earnings",data:{dateRange:"this-month-last-year"},priority:1,maxAge:Object(h.p)("day"),context:["Single","Dashboard"],toState:function(e,t){var a=t.data;if(!e.monthLastYear)return{monthLastYear:a}}},{type:y.b,identifier:"adsense",datapoint:"earnings",data:{dateRange:"last-28-days"},priority:1,maxAge:Object(h.p)("day"),context:["Single","Dashboard"],toState:function(e,t){var a=t.data;if(!e.twentyEightDays)return{twentyEightDays:a}}},{type:y.b,identifier:"adsense",datapoint:"earnings",data:{dateRange:"prev-28-days"},priority:1,maxAge:Object(h.p)("day"),context:["Single","Dashboard"],toState:function(e,t){var a=t.data;if(!e.prev28Days)return{prev28Days:a}}}],_.renderPreviews(),{createGrid:!0},k.isDataZeroAdSense)},function(e,t,a){"use strict";a.r(t);var n=a(2),i=a.n(n),o=a(3),s=a.n(o),r=a(4),l=a.n(r),c=a(5),d=a.n(c),u=a(6),g=a.n(u),p=(a(8),a(7)),m=a(22),h=a(20),f=a(0),y=a(38),k=a(16),v=wp.i18n.__,_=wp.element.Component,b=lodash.isUndefined,E=function(e){function t(e){var a;return i()(this,t),(a=l()(this,d()(t).call(this,e))).state={twentyEightDays:!1,prev28Days:!1},a}return g()(t,e),s()(t,[{key:"componentDidUpdate",value:function(){this.processCallbackData()}},{key:"componentDidMount",value:function(){this.processCallbackData()}},{key:"processCallbackData",value:function(){var e=this.props,t=e.data,a=e.requestDataToState;t&&!t.error&&"function"==typeof a&&this.setState(a)}},{key:"render",value:function(){var e=this.state,t=e.twentyEightDays,a=e.prev28Days,n=t.totals?[{className:"googlesitekit-data-block--page-rpm",title:v("Page RPM","google-site-kit"),datapoint:Object(f.t)(t.totals[1]),change:b(a.totals)?0:a.totals[1],changeDataUnit:"%"},{className:"googlesitekit-data-block--impression",title:v("Impressions","google-site-kit"),datapoint:Object(f.t)(t.totals[2]),change:b(a.totals)?0:a.totals[2],changeDataUnit:"%"}]:[];return React.createElement("section",{className:"mdc-layout-grid"},React.createElement("div",{className:"mdc-layout-grid__inner"},n.map(function(e,t){return React.createElement("div",{key:t,className:" mdc-layout-grid__cell mdc-layout-grid__cell--align-top mdc-layout-grid__cell--span-2-phone mdc-layout-grid__cell--span-2-tablet mdc-layout-grid__cell--span-4-desktop "},React.createElement(m.a,{stat:t,className:e.className,title:e.title,datapoint:e.datapoint,change:e.change,changeDataUnit:e.changeDataUnit,context:e.context,selected:e.selected,handleStatSelection:e.handleStatSelection}))})))}}]),t}(_);t.default=Object(k.a)(E,[{type:p.b,identifier:"adsense",datapoint:"earnings",data:{dateRange:"last-28-days"},priority:1,maxAge:Object(f.p)("day"),context:["Single","Dashboard"],toState:function(e,t){var a=t.data;if(!e.twentyEightDays)return{twentyEightDays:a}}},{type:p.b,identifier:"adsense",datapoint:"earnings",data:{dateRange:"prev-28-days"},priority:1,maxAge:Object(f.p)("day"),context:["Single","Dashboard"],toState:function(e,t){var a=t.data;if(!e.prev28Days)return{prev28Days:a}}}],React.createElement(h.a,{width:"100%",height:"250px"}),{},y.isDataZeroAdSense)},function(e,t,a){"use strict";a.r(t);var n=a(10),i=a.n(n),o=a(12),s=a.n(o),r=a(2),l=a.n(r),c=a(3),d=a.n(c),u=a(4),g=a.n(u),p=a(5),m=a.n(p),h=a(9),f=a.n(h),y=a(6),k=a.n(y),v=(a(8),a(37)),_=a(40),b=a(15),E=a(93),R=a(94),S=a(64),w=a(90),C=a(49),D=a(42),O=a(27),A=a(66),N=a(38),x=a(47),P=a(58),j=a(36),L=wp.element,I=L.Component,M=L.Fragment,T=wp.i18n.__,F=function(e){function t(e){var a;return l()(this,t),(a=g()(this,m()(t).call(this,e))).state={receivingData:!0,error:!1,loading:!0,isAdSenseConnected:!0,zeroData:!1},a.handleDataError=a.handleDataError.bind(f()(a)),a.handleDataSuccess=a.handleDataSuccess.bind(f()(a)),a.handleZeroData=a.handleZeroData.bind(f()(a)),a}return k()(t,e),d()(t,[{key:"componentDidMount",value:function(){this.isAdSenseConnected()}},{key:"isAdSenseConnected",value:function(){var e=s()(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.isAdsenseConnectedAnalytics)();case 2:e.sent?this.setState({isAdSenseConnected:!0}):this.setState({isAdSenseConnected:!1});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleDataError",value:function(e){this.setState({receivingData:!1,error:e,loading:!1})}},{key:"handleDataSuccess",value:function(){this.setState({receivingData:!0,loading:!1})}},{key:"handleZeroData",value:function(){this.setState({zeroData:!0,loading:!1})}},{key:"render",value:function(){var e=this,t=this.state,a=t.receivingData,n=t.error,i=t.loading,o=t.isAdSenseConnected,s=t.zeroData,r=googlesitekit.modules.adsense.homepage,l=i||!a||s?"googlesitekit-nodata":"";return React.createElement(M,null,React.createElement(v.a,null),React.createElement("div",{className:"".concat(l)},React.createElement(S.a,{module:"adsense"})),React.createElement("div",{className:"googlesitekit-module-page googlesitekit-module-page--adsense"},React.createElement("div",{className:"mdc-layout-grid"},React.createElement("div",{className:"mdc-layout-grid__inner"},React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-12 "},!n&&googlesitekit.modules.adsense.setupComplete?React.createElement(_.a,{title:T("AdSense","google-site-kit"),icon:!0,iconWidth:"30",iconHeight:"26",iconId:"adsense",status:"connected",statusText:T("AdSense is connected","google-site-kit")}):React.createElement(_.a,{title:T("AdSense","google-site-kit"),icon:!0,iconWidth:"30",iconHeight:"26",iconId:"adsense",status:"not-connected",statusText:T("AdSense is not connected","google-site-kit")}),i&&React.createElement(O.a,null)),s&&React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-12 "},React.createElement(b.a,{fill:!0},React.createElement("div",{className:"mdc-layout-grid mdc-layout-grid--fill"},React.createElement("div",{className:"mdc-layout-grid__inner"},React.createElement("div",{className:"mdc-layout-grid__cell mdc-layout-grid__cell--span-12"},React.createElement(P.default,{status:"incomplete"})))))),!a&&(n?Object(D.a)(T("AdSense","google-site-kit"),n,!0,!0,!0):Object(C.a)(T("AdSense","google-site-kit"),!0,!0,!0)),React.createElement("div",{className:"\n\t\t\t\t\t\t\t\tmdc-layout-grid__cell\n\t\t\t\t\t\t\t\tmdc-layout-grid__cell--span-12\n\t\t\t\t\t\t\t\t".concat(l,"\n\t\t\t\t\t\t\t")},React.createElement(x.a,{slug:"adsense",context:"module-dashboard"}),React.createElement(b.a,{header:!0,title:T("Estimated earnings","google-site-kit"),headerCtaLabel:T("Advanced Settings","google-site-kit"),headerCtaLink:r},React.createElement(E.default,{handleDataError:this.handleDataError,handleDataSuccess:this.handleDataSuccess}))),React.createElement("div",{className:"\n\t\t\t\t\t\t\t\tmdc-layout-grid__cell\n\t\t\t\t\t\t\t\tmdc-layout-grid__cell--span-12\n\t\t\t\t\t\t\t\t".concat(l,"\n\t\t\t\t\t\t\t")},React.createElement(b.a,{header:!0,title:T("Performance over previous 28 days","google-site-kit"),headerCtaLabel:T("Advanced Settings","google-site-kit"),headerCtaLink:r},React.createElement(R.default,{handleDataError:function(t){t||e.handleZeroData()}}))),React.createElement("div",{className:"\n\t\t\t\t\t\t\t\tmdc-layout-grid__cell\n\t\t\t\t\t\t\t\tmdc-layout-grid__cell--span-12\n\t\t\t\t\t\t\t\t".concat(l,"\n\t\t\t\t\t\t\t")},React.createElement(w.default,null)),React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-12 mdc-layout-grid__cell--align-right "},React.createElement(j.a,null))))),!o&&React.createElement(A.default,null))}}]),t}(I);t.default=F},function(e,t,a){"use strict";a.r(t);var n=a(2),i=a.n(n),o=a(3),s=a.n(o),r=a(4),l=a.n(r),c=a(5),d=a.n(c),u=a(6),g=a.n(u),p=(a(8),a(0)),m=a(11),h=wp.element.Component,f=wp.i18n.__,y=function(e){function t(){return i()(this,t),l()(this,d()(t).apply(this,arguments))}return g()(t,e),s()(t,[{key:"render",value:function(){var e=this.props,t=e.slug,a=e.screenId,n=e.OriginalComponent,i=googlesitekit.modules.adsense.settings.accountStatus;return i&&"adsense"===t&&("account-pending-review"===i||"ads-display-pending"===i)?React.createElement("div",{className:"mdc-layout-grid__cell mdc-layout-grid__cell--span-12"},f("Site Kit has placed the code on your site, ","google-site-kit"),React.createElement(m.a,{className:"googlesitekit-settings-module__edit-button",onClick:function(){var e=a||"googlesitekit-dashboard";window.location=Object(p.n)(e,{reAuth:!0,slug:t})},inherit:!0},f("check module page","google-site-kit"))):React.createElement(n,this.props)}}]),t}(h);t.default=y},function(e,t,a){"use strict";a.r(t);var n=a(2),i=a.n(n),o=a(3),s=a.n(o),r=a(4),l=a.n(r),c=a(5),d=a.n(c),u=a(6),g=a.n(u),p=(a(8),a(18)),m=wp.element.Component,h=wp.i18n.__,f=function(e){function t(){return i()(this,t),l()(this,d()(t).apply(this,arguments))}return g()(t,e),s()(t,[{key:"render",value:function(){var e=this.props,t=e.slug,a=e.context,n=e.OriginalComponent;if("adsense"!==t)return React.createElement(n,this.props);var i=googlesitekit.modules.adsense,o=i.active,s=i.setupComplete,r=h("Ad blocker detected, you need to disable it in order to setup AdSense.","google-site-kit");return o&&s&&(r=h("Ad blocker detected, You need to disable it to get the AdSense latest data.","google-site-kit")),googlesitekit.canAdsRun?React.createElement(n,this.props):React.createElement("div",{className:"googlesitekit-settings-module-warning googlesitekit-settings-module-warning--".concat(a)},React.createElement(p.a,{id:"error",height:"20",width:"23"})," ",r)}}]),t}(m);t.default=f},function(e,t,a){"use strict";a.r(t);var n=a(2),i=a.n(n),o=a(3),s=a.n(o),r=a(4),l=a.n(r),c=a(5),d=a.n(c),u=a(9),g=a.n(u),p=a(6),m=a.n(p),h=(a(8),a(24)),f=wp.element,y=f.Component,k=f.Fragment,v=wp.i18n.__,_=function(e){function t(e){var a;return i()(this,t),(a=l()(this,d()(t).call(this,e))).renderAccountSetup=a.renderAccountSetup.bind(g()(a)),a}return m()(t,e),s()(t,[{key:"renderAccountSetup",value:function(){if("no-account"===this.props.accountStatus)return React.createElement(h.a,{onClick:t.createNewAccount},v("Sign up for AdSense","google-site-kit"))}},{key:"render",value:function(){return React.createElement(k,null,React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-12 "},this.renderAccountSetup()))}}],[{key:"createNewAccount",value:function(e){e.preventDefault();var t=googlesitekit.modules.adsense.signupURL;window.open(t,"_blank")}}]),t}(y);t.default=_},function(e,t,a){"use strict";a.r(t);var n=a(28),i=a.n(n),o=a(2),s=a.n(o),r=a(3),l=a.n(r),c=a(4),d=a.n(c),u=a(5),g=a.n(u),p=a(6),m=a.n(p),h=(a(8),a(22)),f=a(16),y=a(7),k=a(0),v=a(13),_=a(20);function b(e,t){var a=Object.keys(e);return Object.getOwnPropertySymbols&&a.push.apply(a,Object.getOwnPropertySymbols(e)),t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a}var E=wp.i18n.__,R=wp.element,S=R.Component,w=R.Fragment,C=function(e){function t(){return s()(this,t),d()(this,g()(t).apply(this,arguments))}return m()(t,e),l()(t,[{key:"render",value:function(){var e=this.props.data;if(!e||e.error||!e.length)return null;var t=Object(v.calculateOverviewData)(e);if(!t)return null;var a=t.totalUsers,n=t.totalSessions,i=t.totalUsersChange,o=t.totalSessionsChange;return React.createElement(w,null,React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-2-tablet mdc-layout-grid__cell--span-3-desktop "},React.createElement(h.a,{className:"overview-total-users",title:E("Total Users","google-site-kit"),datapoint:Object(k.t)(a),change:i,changeDataUnit:"%"})),React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-2-tablet mdc-layout-grid__cell--span-3-desktop "},React.createElement(h.a,{className:"overview-total-sessions",title:E("Total Sessions","google-site-kit"),datapoint:Object(k.t)(n),change:o,changeDataUnit:"%"})))}}]),t}(S);t.default=Object(f.a)(C,[{type:y.b,identifier:"analytics",datapoint:"report",data:function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?b(a,!0).forEach(function(t){i()(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):b(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},v.overviewReportDataDefaults,{url:googlesitekit.permaLink}),priority:1,maxAge:Object(k.p)("day"),context:"Adminbar"}],React.createElement(w,null,React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-2-tablet mdc-layout-grid__cell--span-3-desktop "},React.createElement(_.a,{width:"auto",height:"59px"})),React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-2-tablet mdc-layout-grid__cell--span-3-desktop "},React.createElement(_.a,{width:"auto",height:"59px"}))),{inGrid:!0},v.isDataZeroForReporting,v.getAnalyticsErrorMessageFromData)},function(e,t,a){"use strict";a.r(t);var n=a(43),i=a.n(n),o=a(2),s=a.n(o),r=a(3),l=a.n(r),c=a(4),d=a.n(c),u=a(5),g=a.n(u),p=a(6),m=a.n(p),h=(a(8),a(99)),f=a(55),y=wp.element,k=y.Component,v=y.Fragment,_=function(e){function t(){return s()(this,t),d()(this,g()(t).apply(this,arguments))}return m()(t,e),l()(t,[{key:"render",value:function(){return"undefined"!==i()(googlesitekit.permaLink)&&""===googlesitekit.permaLink?null:googlesitekit.modules.analytics.active?React.createElement(h.default,null):React.createElement(v,null,React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-4-tablet mdc-layout-grid__cell--span-6-desktop "},React.createElement(f.a,null)))}}]),t}(k);t.default=_},function(e,t,a){"use strict";a.r(t);var n=a(2),i=a.n(n),o=a(3),s=a.n(o),r=a(4),l=a.n(r),c=a(5),d=a.n(c),u=a(6),g=a.n(u),p=(a(8),a(34)),m=a(15),h=a(67),f=a(57),y=wp.element,k=y.Component,v=y.Fragment,_=wp.i18n.__,b=function(e){function t(){return i()(this,t),l()(this,d()(t).apply(this,arguments))}return g()(t,e),s()(t,[{key:"render",value:function(){return React.createElement(v,null,React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-12 "},React.createElement(p.a,{title:_("All Traffic","google-site-kit"),description:_("How people found your page.","google-site-kit")})),React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-12 "},React.createElement(m.a,{className:"googlesitekit-analytics-acquisition-sources",footer:!0,headerCtaLink:"https://analytics.google.com",headerCtaLabel:_("See full stats in Analytics","google-site-kit"),footerCtaLabel:_("Analytics","google-site-kit"),footerCtaLink:"https://analytics.google.com"},React.createElement("div",{className:"mdc-layout-grid"},React.createElement("div",{className:"mdc-layout-grid__inner"},React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-4-desktop mdc-layout-grid__cell--span-8-tablet mdc-layout-grid__cell--span-4-phone "},React.createElement(f.default,null)),React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-8-desktop mdc-layout-grid__cell--span-8-tablet mdc-layout-grid__cell--span-4-phone "},React.createElement(h.default,null)))))))}}]),t}(k);t.default=b},function(e,t,a){"use strict";a.r(t);var n=a(2),i=a.n(n),o=a(3),s=a.n(o),r=a(4),l=a.n(r),c=a(5),d=a.n(c),u=a(6),g=a.n(u),p=(a(8),a(16)),m=a(7),h=a(0),f=a(25),y=a(84),k=a(33),v=a(13),_=wp.i18n.__,b=lodash.map,E=wp.element,R=E.Component,S=E.Fragment,w=function(e){function t(){return i()(this,t),l()(this,d()(t).apply(this,arguments))}return g()(t,e),s()(t,[{key:"render",value:function(){var e=this.props.data;if(!e||!e.length)return null;var t=[{title:_("Source","google-site-kit")},{title:_("Percent","google-site-kit")}],a=e[0].data.totals[0].values[0],n=b(e[0].data.rows,function(e,t){var n=e.metrics[0].values[0]/a*100;return!(1>n)&&[e.dimensions[0],React.createElement(S,{key:"minichart-"+t},React.createElement("div",{className:"googlesitekit-table__body-item-chart-wrap"},"".concat(n.toFixed(2),"%")," ",React.createElement(y.a,{percent:n.toFixed(1),index:t})))]}),i=Object(f.b)(n,t,{hideHeader:!0,chartsEnabled:!0});return React.createElement("div",{className:"googlesitekit-alltraffic-widget"},React.createElement(f.a,null,i))}}]),t}(R);t.default=Object(p.a)(w,[{type:m.b,identifier:"analytics",datapoint:"report",data:v.trafficSourcesReportDataDefaults,priority:1,maxAge:Object(h.p)("day"),context:"Dashboard"}],React.createElement(k.a,{rows:3,rowHeight:50}))},function(e,t,a){"use strict";a.r(t);var n=a(2),i=a.n(n),o=a(3),s=a.n(o),r=a(4),l=a.n(r),c=a(5),d=a.n(c),u=a(9),g=a.n(u),p=a(6),m=a.n(p),h=(a(8),a(57)),f=a(102),y=a(15),k=a(34),v=a(49),_=a(42),b=a(79),E=wp.element,R=E.Component,S=E.Fragment,w=wp.i18n.__,C=function(e){function t(e){var a;return i()(this,t),(a=l()(this,d()(t).call(this,e))).state={receivingData:!0,error:!1},a.handleDataError=a.handleDataError.bind(g()(a)),a.handleDataSuccess=a.handleDataSuccess.bind(g()(a)),a}return m()(t,e),s()(t,[{key:"handleDataError",value:function(e){this.setState({receivingData:!1,error:e})}},{key:"handleDataSuccess",value:function(){this.setState({receivingData:!0})}},{key:"getErrorDataComponent",value:function(){var e=googlesitekit.modules.analytics,t=e.active,a=e.setupComplete,n=this.state,i=n.error,o=n.receivingData;return t&&!a?Object(b.a)("analytics",!0,!0,!0):o?null:i?Object(_.a)(w("Analytics","google-site-kit"),i,!0,!0,!0):Object(v.a)(w("Analytics","google-site-kit"),!0,!0,!0)}},{key:"render",value:function(){var e=this.state,t=e.error,a=e.receivingData,n=t||!a?"googlesitekit-nodata":"";return React.createElement(S,null,React.createElement("div",{className:"\n\t\t\t\t\tmdc-layout-grid__cell\n\t\t\t\t\tmdc-layout-grid__cell--span-12\n\t\t\t\t"},React.createElement(k.a,{timePeriod:w("Last 28 days","google-site-kit"),description:w("How people found your site.","google-site-kit"),title:w("All Traffic","google-site-kit")})),this.getErrorDataComponent(),React.createElement("div",{className:"\n\t\t\t\t\tmdc-layout-grid__cell\n\t\t\t\t\tmdc-layout-grid__cell--span-12\n\t\t\t\t\t".concat(n,"\n\t\t\t\t")},React.createElement(y.a,{className:"googlesitekit-dashboard-all-traffic"},React.createElement("div",{className:"mdc-layout-grid"},React.createElement("div",{className:"mdc-layout-grid__inner"},React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-4-desktop mdc-layout-grid__cell--span-4-tablet mdc-layout-grid__cell--span-4-phone "},React.createElement(h.default,{source:!0,handleDataError:this.handleDataError,handleDataSuccess:this.handleDataSuccess})),React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-8-desktop mdc-layout-grid__cell--span-4-tablet mdc-layout-grid__cell--span-4-phone "},React.createElement(f.default,null)))))))}}]),t}(R);t.default=C},function(e,t,a){"use strict";a.r(t);var n=a(2),i=a.n(n),o=a(3),s=a.n(o),r=a(4),l=a.n(r),c=a(5),d=a.n(c),u=a(6),g=a.n(u),p=(a(8),a(16)),m=a(7),h=a(0),f=a(25),y=a(15),k=a(33),v=a(13),_=wp.i18n.__,b=lodash.map,E=function(e){function t(){return i()(this,t),l()(this,d()(t).apply(this,arguments))}return g()(t,e),s()(t,[{key:"render",value:function(){var e=this.props.data;if(!e||!e.length)return null;var a=[{title:_("Page Title","google-site-kit"),tooltip:_("Page Title","google-site-kit")},{title:_("Earnings","google-site-kit"),tooltip:_("Earnings","google-site-kit")},{title:_("Page RPM","google-site-kit"),tooltip:_("Page RPM","google-site-kit")},{title:_("Impressions","google-site-kit"),tooltip:_("Impressions","google-site-kit")}],n=b(e[0].data.rows,function(e){return[e.dimensions[0],Number(e.metrics[0].values[0]).toFixed(2),Number(e.metrics[0].values[1]).toFixed(2),Object(h.r)(e.metrics[0].values[2])]}),i=googlesitekit.modules.analytics.settings,o=i.accountId,s=i.internalWebPropertyId,r=i.profileId,l="https://analytics.google.com/analytics/web/?pli=1#/report/content-pages/a".concat(o,"w").concat(s,"p").concat(r,"/explorer-table.plotKeys=%5B%5D&_r.drilldown=analytics.pagePath:~2F"),c={hideHeader:!1,chartsEnabled:!1,links:b(e[0].data.rows,function(e){var t=e.dimensions[1].replace(/\//g,"~2F");return l+t})},d=Object(f.b)(n,a,c);return t.renderLayout(React.createElement(f.a,null,d))}}],[{key:"renderLayout",value:function(e){var t=googlesitekit.modules.adsense.accountURL;return React.createElement(y.a,{header:!0,title:_("Performance over previous 28 days","google-site-kit"),headerCtaLabel:_("Advanced Settings","google-site-kit"),headerCtaLink:t},e)}}]),t}(wp.element.Component);t.default=Object(p.a)(E,[{type:m.b,identifier:"analytics",datapoint:"report",data:v.analyticsAdsenseReportDataDefaults,priority:1,maxAge:Object(h.p)("day"),context:"Single"}],E.renderLayout(React.createElement(k.a,{padding:!0})),{inGrid:!0,fullWidth:!0,createGrid:!0},function(){return!1},function(e){return!(!e||!e.error)&&(400===e.error.code&&"INVALID_ARGUMENT"===e.error.status&&googlesitekit.modules.analytics.active?null:e.error.message?e.error.message:e.error.errors&&e.error.errors[0]&&e.error.errors[0].message?e.error.errors[0].message:_("Unidentified error","google-site-kit"))})},function(e,t,a){"use strict";a.r(t);var n=a(2),i=a.n(n),o=a(3),s=a.n(o),r=a(4),l=a.n(r),c=a(5),d=a.n(c),u=a(6),g=a.n(u),p=(a(8),a(22)),m=a(16),h=a(7),f=a(0),y=a(13),k=a(20),v=a(1),_=a.n(v),b=wp.i18n.__,E=function(e){function t(){return i()(this,t),l()(this,d()(t).apply(this,arguments))}return g()(t,e),s()(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.selectedStats,n=e.handleStatSelection;if(!t||!t.length)return null;var i=Object(y.calculateOverviewData)(t);if(!i)return null;var o=i.totalUsers,s=i.totalSessions,r=i.averageBounceRate,l=i.averageSessionDuration,c=i.totalUsersChange,d=i.totalSessionsChange,u=i.averageBounceRateChange,g=i.averageSessionDurationChange,m=[{className:"googlesitekit-data-block--users googlesitekit-data-block--button-1",title:b("Users","google-site-kit"),datapoint:Object(f.t)(o),change:c,changeDataUnit:"%",context:"button",selected:a.includes(0),handleStatSelection:n},{className:"googlesitekit-data-block--sessions googlesitekit-data-block--button-2",title:b("Sessions","google-site-kit"),datapoint:Object(f.t)(s),change:d,changeDataUnit:"%",context:"button",selected:a.includes(1),handleStatSelection:n},{className:"googlesitekit-data-block--bounce googlesitekit-data-block--button-3",title:b("Bounce Rate","google-site-kit"),datapoint:Number(r).toFixed(2),change:u,changeDataUnit:"%",context:"button",selected:a.includes(2),handleStatSelection:n,datapointUnit:"%",reverseArrowDirection:!0},{className:"googlesitekit-data-block--duration googlesitekit-data-block--button-4",title:b("Session Duration","google-site-kit"),datapoint:Object(f.s)(l),change:g,changeDataUnit:"%",context:"button",selected:a.includes(3),handleStatSelection:n}];return React.createElement("section",{className:"mdc-layout-grid"},React.createElement("div",{className:"mdc-layout-grid__inner",role:"toolbar","aria-label":"Line Chart Options"},m.map(function(e,t){return React.createElement("div",{key:t,className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-2-phone mdc-layout-grid__cell--span-2-tablet mdc-layout-grid__cell--span-3-desktop "},React.createElement(p.a,{stat:t,className:e.className,title:e.title,datapoint:e.datapoint,change:e.change,changeDataUnit:e.changeDataUnit,context:e.context,selected:e.selected,handleStatSelection:e.handleStatSelection,datapointUnit:e.datapointUnit,reverseArrowDirection:e.reverseArrowDirection}))})))}}]),t}(wp.element.Component);E.propTypes={handleDataError:_.a.func.isRequired},t.default=Object(m.a)(E,[{type:h.b,identifier:"analytics",datapoint:"report",data:y.overviewReportDataDefaults,priority:1,maxAge:Object(f.p)("day"),context:["Single","Dashboard"]}],React.createElement(k.a,{width:"100%",height:"190px",padding:!0}),{createGrid:!0},y.isDataZeroForReporting,y.getAnalyticsErrorMessageFromData)},function(e,t,a){"use strict";a.r(t);var n=a(2),i=a.n(n),o=a(3),s=a.n(o),r=a(4),l=a.n(r),c=a(5),d=a.n(c),u=a(6),g=a.n(u),p=(a(8),a(16)),m=a(7),h=a(0),f=a(25),y=a(33),k=a(15),v=a(13),_=wp.i18n.__,b=lodash.map,E=function(e){function t(){return i()(this,t),l()(this,d()(t).apply(this,arguments))}return g()(t,e),s()(t,[{key:"render",value:function(){var e=this.props.data;if(!e||!e.length)return null;var a=[{title:_("Most popular content","google-site-kit")},{title:_("Views","google-site-kit")}],n=[],i=b(e[0].data.rows,function(e,t){var a=e.dimensions[0],i=e.dimensions[1];return n[t]=a,[i,Object(h.r)(e.metrics[0].values[0])]}),o={hideHeader:!1,chartsEnabled:!1,links:n,showUrls:!0},s=Object(f.b)(i,a,o);return t.renderLayout(React.createElement(f.a,null,s))}}],[{key:"renderLayout",value:function(e){return React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-6-desktop mdc-layout-grid__cell--span-4-tablet "},React.createElement(k.a,{className:"googlesitekit-popular-content",footer:!0,footerCtaLabel:_("Analytics","google-site-kit"),footerCtaLink:googlesitekit.modules.analytics.homepage,fill:!0},e))}}]),t}(wp.element.Component);t.default=Object(p.a)(E,[{type:m.b,identifier:"analytics",datapoint:"report",data:Object(v.getTopPagesReportDataDefaults)(),priority:1,maxAge:Object(h.p)("day"),context:["Single","Dashboard"]}],E.renderLayout(React.createElement(y.a,{padding:!0})),{inGrid:!0,createGrid:!0},v.isDataZeroForReporting)},function(e,t,a){"use strict";a.r(t);var n=a(2),i=a.n(n),o=a(3),s=a.n(o),r=a(4),l=a.n(r),c=a(5),d=a.n(c),u=a(9),g=a.n(u),p=a(6),m=a.n(p),h=(a(8),a(50)),f=a(0),y=a(16),k=a(7),v=a(13),_=a(20),b=wp.i18n.__,E=function(e){function t(e){var a;return i()(this,t),(a=l()(this,d()(t).call(this,e))).setOptions=a.setOptions.bind(g()(a)),a}return m()(t,e),s()(t,[{key:"setOptions",value:function(){var e=this.props,t=e.series,a=e.vAxes,n={chart:{title:""===googlesitekit.pageTitle?"":b("Users Traffic Summary","google-site-kit")},curveType:"line",height:270,width:"100%",chartArea:{height:"80%",width:"87%"},legend:{position:"top",textStyle:{color:"#616161",fontSize:12}},hAxis:{format:"M/d/yy",gridlines:{color:"#fff"},textStyle:{color:"#616161",fontSize:12}},vAxis:{gridlines:{color:"#eee"},minorGridlines:{color:"#eee"},textStyle:{color:"#616161",fontSize:12},titleTextStyle:{color:"#616161",fontSize:12,italic:!1}}};return n.series=t,n.vAxes=a,n}},{key:"render",value:function(){var e=this.props,t=e.data,a=e.selectedStats,n=e.dateRangeFrom;if(!t||!t.length)return null;var i=n?n.match(/\d+/).map(Number)[0]:28,o=Object(v.extractAnalyticsDashboardData)(t,a,i);if(!o)return null;var s=this.setOptions();return React.createElement("section",{className:"mdc-layout-grid"},React.createElement("div",{className:"mdc-layout-grid__inner"},React.createElement("div",{className:"mdc-layout-grid__cell mdc-layout-grid__cell--span-12"},React.createElement(h.a,{selectedStats:a,data:o,options:s}))))}}]),t}(wp.element.Component);t.default=Object(y.a)(E,[{type:k.b,identifier:"analytics",datapoint:"report",data:v.siteAnalyticsReportDataDefaults,priority:1,maxAge:Object(f.p)("day"),context:"Single"}],React.createElement(_.a,{width:"100%",height:"270px",padding:!0}),{createGrid:!0})},function(e,t,a){"use strict";a.r(t);var n=a(2),i=a.n(n),o=a(3),s=a.n(o),r=a(4),l=a.n(r),c=a(5),d=a.n(c),u=a(6),g=a.n(u),p=(a(8),a(16)),m=a(7),h=a(0),f=a(25),y=a(33),k=a(15),v=a(29),_=a(13),b=wp.i18n.__,E=lodash.map,R=function(e){function t(){return i()(this,t),l()(this,d()(t).apply(this,arguments))}return g()(t,e),s()(t,[{key:"render",value:function(){var e=this.props.data;if(!e||!e.length)return null;var a=[{title:b("Top Earning Pages","google-site-kit"),tooltip:b("Top Earning Pages","google-site-kit")},{title:b("Revenue","google-site-kit"),tooltip:b("Revenue","google-site-kit")}],n=[],i=E(e[0].data.rows,function(e,t){return n[t]=e.dimensions[1],[e.dimensions[0],Number(e.metrics[0].values[0]).toFixed(2)]}),o={hideHeader:!1,chartsEnabled:!1,cap:5,links:n},s=Object(f.b)(i,a,o);return t.renderLayout(React.createElement(f.a,null,s))}}],[{key:"renderLayout",value:function(e){return React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-6-desktop mdc-layout-grid__cell--span-4-tablet "},React.createElement(k.a,{className:"googlesitekit-top-earnings-pages",footer:!0,footerCtaLabel:b("Analytics","google-site-kit"),footerCtaLink:"http://analytics.google.com",fill:!0},e))}}]),t}(wp.element.Component);t.default=Object(p.a)(R,[{type:m.b,identifier:"analytics",datapoint:"report",data:_.analyticsAdsenseReportDataDefaults,priority:1,maxAge:Object(h.p)("day"),context:"Dashboard"}],R.renderLayout(React.createElement(y.a,{rows:5,padding:!0})),{inGrid:!0,createGrid:!0},function(){return!1},function(e){if(e&&e.error_data){var t=Object.values(e.error_data);if(t[0]&&"badRequest"===t[0].reason)return React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-6-desktop mdc-layout-grid__cell--span-4-tablet "},React.createElement(k.a,{className:"googlesitekit-top-earnings-pages",fill:!0},React.createElement(v.a,{title:b("Restricted metric(s)","google-site-kit"),description:b("You need to link Analytics and AdSense to get report for your top earning pages. Learn more: https://support.google.com/adsense/answer/6084409 ","google-site-kit")})))}if(e&&e.errors){var a=Object.values(e.errors);if(a[0]&&a[0][0])return a[0][0]}return!1})},function(e,t,a){"use strict";a.r(t);var n=a(28),i=a.n(n),o=a(2),s=a.n(o),r=a(3),l=a.n(r),c=a(4),d=a.n(c),u=a(5),g=a.n(u),p=a(6),m=a.n(p),h=(a(8),a(22)),f=a(16),y=a(7),k=a(45),v=a(29),_=a(20),b=a(0),E=a(13);function R(e,t){var a=Object.keys(e);return Object.getOwnPropertySymbols&&a.push.apply(a,Object.getOwnPropertySymbols(e)),t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a}function S(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?R(a,!0).forEach(function(t){i()(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):R(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var w=wp.i18n.__,C=wp.element,D=C.Component,O=C.Fragment,A=lodash.isEmpty,N=function(e){function t(e){var a;return s()(this,t),(a=d()(this,g()(t).call(this,e))).state={accounts:!1,goals:!1},a}return m()(t,e),l()(t,[{key:"componentDidUpdate",value:function(){this.processCallbackData()}},{key:"componentDidMount",value:function(){this.processCallbackData()}},{key:"processCallbackData",value:function(){var e=this.props,t=e.data,a=e.requestDataToState;t&&!t.error&&"function"==typeof a&&this.setState(a)}},{key:"render",value:function(){var e=this.state,t=e.overview,a=e.extractedAnalytics,n=e.goals,i=googlesitekit.permaLink,o=Object(b.n)("googlesitekit-module-analytics",{}),s="",r="",l="",c="",d="",u="";return t&&(s=t.totalUsers,r=t.totalUsersChange,l=t.goalCompletions,c=t.goalCompletionsChange,d=t.averageBounceRate,u=t.averageBounceRateChange),React.createElement(O,null,React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--align-bottom mdc-layout-grid__cell--span-2-phone mdc-layout-grid__cell--span-2-tablet mdc-layout-grid__cell--span-3-desktop "},React.createElement(h.a,{className:"overview-total-users",title:w("Unique Visitors from Search","google-site-kit"),datapoint:Object(b.t)(s),change:r,changeDataUnit:"%",source:{name:w("Analytics","google-site-kit"),link:o},sparkline:a&&React.createElement(k.a,{data:Object(b.f)(a,1),change:r,id:"analytics-users-sparkline"})})),React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--align-bottom mdc-layout-grid__cell--span-2-phone mdc-layout-grid__cell--span-2-tablet mdc-layout-grid__cell--span-3-desktop "},i&&React.createElement(h.a,{className:"overview-bounce-rate",title:w("Bounce Rate","google-site-kit"),datapoint:Number(d).toFixed(2),datapointUnit:w("%","google-site-kit"),change:u,changeDataUnit:"%",reverseArrowDirection:!0,source:{name:w("Analytics","google-site-kit"),link:o},sparkline:a&&React.createElement(k.a,{data:Object(b.f)(a,2),change:u,id:"analytics-sessions-sparkline"})}),!i&&n&&A(n.items)&&React.createElement(v.a,{title:w("Use goals to measure success. ","google-site-kit"),description:w("Goals measure how well your site or app fulfills your target objectives.","google-site-kit"),ctaLink:"https://support.google.com/analytics/answer/1032415?hl=en#create_or_edit_goals",ctaLabel:w("Create a new goal","google-site-kit")}),!i&&n&&!A(n.items)&&React.createElement(h.a,{className:"overview-goals-completed",title:w("Goals Completed","google-site-kit"),datapoint:Object(b.t)(l),change:c,changeDataUnit:"%",source:{name:w("Analytics","google-site-kit"),link:o},sparkline:a&&React.createElement(k.a,{data:Object(b.f)(a,3),change:c,id:"analytics-sessions-sparkline"})}),!i&&!n&&React.createElement(_.a,{width:"100%",height:"202px"})))}}]),t}(D);t.default=Object(f.a)(N,[{type:y.b,identifier:"analytics",datapoint:"report",data:S({},E.overviewReportDataDefaults,{url:googlesitekit.permaLink}),priority:1,maxAge:Object(b.p)("day"),context:"Dashboard",toState:function(e,t){var a=t.data;if(!e.overview)return{overview:Object(E.calculateOverviewData)(a)}}},{type:y.b,identifier:"analytics",datapoint:"report",data:S({},E.siteAnalyticsReportDataDefaults,{url:googlesitekit.permaLink}),priority:1,maxAge:Object(b.p)("day"),context:"Dashboard",toState:function(e,t){var a=t.data;if(!e.extractedAnalytics)return{extractedAnalytics:Object(E.extractAnalyticsDashboardSparklineData)(a)}}},{type:y.b,identifier:"analytics",datapoint:"goals",data:{url:googlesitekit.permaLink},priority:1,maxAge:Object(b.p)("hour"),context:"Dashboard",toState:function(e,t){var a=t.data;if(!e.goals)return{goals:a}}}],React.createElement(O,null,React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--align-bottom mdc-layout-grid__cell--span-2-phone mdc-layout-grid__cell--span-2-tablet mdc-layout-grid__cell--span-3-desktop "},React.createElement(_.a,{width:"100%",height:"202px"})),React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--align-bottom mdc-layout-grid__cell--span-2-phone mdc-layout-grid__cell--span-2-tablet mdc-layout-grid__cell--span-3-desktop "},React.createElement(_.a,{width:"100%",height:"202px"}))),{inGrid:!0},function(e,t){return"report"===t&&Object(E.isDataZeroForReporting)(e)},E.getAnalyticsErrorMessageFromData)},function(e,t,a){"use strict";a.r(t);var n=a(2),i=a.n(n),o=a(3),s=a.n(o),r=a(4),l=a.n(r),c=a(5),d=a.n(c),u=a(6),g=a.n(u),p=(a(8),a(16)),m=a(7),h=a(0),f=a(25),y=a(33),k=a(1),v=a.n(k),_=a(13),b=wp.i18n.__,E=lodash.map,R=wp.element,S=R.Component,w=R.Fragment,C=function(e){function t(){return i()(this,t),l()(this,d()(t).apply(this,arguments))}return g()(t,e),s()(t,[{key:"render",value:function(){var e=this.props,a=e.data,n=e.colspan;if(!a||!a.length)return null;var i=[{title:b("Title","google-site-kit"),tooltip:b("Page Title","google-site-kit")},{title:b("Pageviews","google-site-kit"),tooltip:b("Pageviews","google-site-kit")},{title:b("Unique Pageviews","google-site-kit"),tooltip:b("Unique Pageviews","google-site-kit")},{title:b("Bounce Rate","google-site-kit"),tooltip:b("Bounce Rate","google-site-kit")}],o=[],s=E(a[0].data.rows,function(e,a){var n=Number(e.metrics[0].values[2]),i=e.dimensions[0],s=e.dimensions[1];return o[a]=t.addDeepLink(i),[s,Object(h.r)(e.metrics[0].values[0]),Object(h.r)(e.metrics[0].values[1]),React.createElement(w,{key:"minichart-"+a},React.createElement("div",{className:"googlesitekit-table__body-item-chart-wrap"},"".concat(n.toFixed(2),"%")))]}),r={hideHeader:!1,chartsEnabled:!1,links:o},l=Object(f.b)(s,i,r);return React.createElement("div",{className:"mdc-layout-grid__cell mdc-layout-grid__cell--span-".concat(n)},React.createElement(f.a,null,l))}}],[{key:"addDeepLink",value:function(e){var t=googlesitekit.modules.analytics.settings,a=t.accountId,n=t.internalWebPropertyId,i=t.profileId;return a?"https://analytics.google.com/analytics/web/#/report/content-drilldown/a".concat(a,"w").concat(n,"p").concat(i,"/explorer-table.plotKeys=%5B%5D&_r.drilldown=analytics.pagePath:").concat(encodeURIComponent(e.replace(/\//g,"~2F"))):"https://analytics.google.com/analytics/web/"}}]),t}(S);C.propTypes={data:v.a.array,colspan:v.a.number},C.defaultProps={data:null,colspan:12},t.default=Object(p.a)(C,[{type:m.b,identifier:"analytics",datapoint:"report",data:Object(_.getTopPagesReportDataDefaults)(),priority:1,maxAge:Object(h.p)("day"),context:["Single","Dashboard"]}],React.createElement(y.a,{padding:!0}),{createGrid:!0})},function(e,t,a){"use strict";a.r(t);var n=a(10),i=a.n(n),o=a(12),s=a.n(o),r=a(2),l=a.n(r),c=a(3),d=a.n(c),u=a(4),g=a.n(u),p=a(5),m=a.n(p),h=a(9),f=a.n(h),y=a(6),k=a.n(y),v=(a(8),a(37)),_=a(107),b=a(110),E=a(105),R=a(67),S=a(15),w=a(40),C=a(57),D=a(64),O=a(27),A=a(49),N=a(42),x=a(66),P=a(38),j=a(0),L=a(36),I=wp.element,M=I.Component,T=I.Fragment,F=wp.i18n,U=F.__,z=F.sprintf,W=function(e){function t(e){var a;return l()(this,t),(a=g()(this,m()(t).call(this,e))).state={selectedStats:[0],receivingData:!0,error:!1,loading:!0,isAdSenseConnected:!0},a.handleStatSelection=a.handleStatSelection.bind(f()(a)),a.buildSeries=a.buildSeries.bind(f()(a)),a.handleDataError=a.handleDataError.bind(f()(a)),a.handleDataSuccess=a.handleDataSuccess.bind(f()(a)),a}return k()(t,e),d()(t,[{key:"componentDidMount",value:function(){this.isAdSenseConnected()}},{key:"isAdSenseConnected",value:function(){var e=s()(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(P.isAdsenseConnectedAnalytics)();case 2:e.sent?this.setState({isAdSenseConnected:!0}):this.setState({isAdSenseConnected:!1});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleStatSelection",value:function(e){this.setState({selectedStats:[e]})}},{key:"handleDataError",value:function(e){this.setState({receivingData:!1,loading:!1,error:e})}},{key:"handleDataSuccess",value:function(){this.setState({receivingData:!0,loading:!1})}},{key:"buildSeries",value:function(){var e=this.state.selectedStats,t={0:"#4285f4",1:"#27bcd4",2:"#1b9688",3:"#673ab7"};return{0:{color:t[e],targetAxisIndex:0},1:{color:t[e],targetAxisIndex:0,lineDashStyle:[3,3],lineWidth:1}}}},{key:"render",value:function(){var e=this.state,t=e.selectedStats,a=e.error,n=e.receivingData,i=e.loading,o=e.isAdSenseConnected,s=this.buildSeries(),r=!i&&n?"":"googlesitekit-nodata",l=Object(j.i)();return React.createElement(T,null,React.createElement(v.a,null),React.createElement(D.a,{module:"analytics"}),React.createElement("div",{className:"googlesitekit-module-page googlesitekit-module-page--analytics"},React.createElement("div",{className:"mdc-layout-grid"},React.createElement("div",{className:"mdc-layout-grid__inner"},React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-12 "},React.createElement(w.a,{title:U("Analytics","google-site-kit"),icon:!0,iconWidth:"24",iconHeight:"26",iconId:"analytics",status:"connected",statusText:U("Analytics is connected","google-site-kit")}),i&&React.createElement(O.a,null)),!n&&(a?Object(N.a)(U("Analytics","google-site-kit"),a,!0,!0,!0):Object(A.a)(U("Analytics","google-site-kit"),!0,!0,!0)),React.createElement("div",{className:"\n\t\t\t\t\t\t\t\tmdc-layout-grid__cell\n\t\t\t\t\t\t\t\tmdc-layout-grid__cell--span-12\n\t\t\t\t\t\t\t\t".concat(r,"\n\t\t\t\t\t\t\t")},React.createElement(S.a,{header:!0,title:z(U("Audience overview for the last %s","google-site-kit"),l),headerCtaLabel:U("See full stats in Analytics","google-site-kit"),headerCtaLink:"http://analytics.google.com"},React.createElement(E.default,{selectedStats:t,handleStatSelection:this.handleStatSelection,handleDataError:this.handleDataError,handleDataSuccess:this.handleDataSuccess}),React.createElement(_.default,{selectedStats:t,series:s,vAxes:null,dateRangeFrom:l}))),React.createElement("div",{className:"\n\t\t\t\t\t\t\t\tmdc-layout-grid__cell\n\t\t\t\t\t\t\t\tmdc-layout-grid__cell--span-12\n\t\t\t\t\t\t\t\t".concat(r,"\n\t\t\t\t\t\t\t")},React.createElement(S.a,{header:!0,footer:!0,title:z(U("Top content over the last %s","google-site-kit"),l),headerCtaLink:"https://analytics.google.com",headerCtaLabel:U("See full stats in Analytics","google-site-kit"),footerCtaLabel:U("Analytics","google-site-kit"),footerCtaLink:"https://analytics.google.com"},React.createElement(b.default,null))),React.createElement("div",{className:"\n\t\t\t\t\t\t\t\tmdc-layout-grid__cell\n\t\t\t\t\t\t\t\tmdc-layout-grid__cell--span-12\n\t\t\t\t\t\t\t\t".concat(r,"\n\t\t\t\t\t\t\t")},React.createElement(S.a,{header:!0,footer:!0,title:z(U("Top acquisition sources over the last %s","google-site-kit"),l),headerCtaLink:"https://analytics.google.com",headerCtaLabel:U("See full stats in Analytics","google-site-kit"),footerCtaLabel:U("Analytics","google-site-kit"),footerCtaLink:"https://analytics.google.com"},React.createElement("div",{className:"mdc-layout-grid"},React.createElement("div",{className:"mdc-layout-grid__inner"},React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-4-desktop mdc-layout-grid__cell--span-8-tablet mdc-layout-grid__cell--span-4-phone "},React.createElement(C.default,null)),React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-8-desktop mdc-layout-grid__cell--span-8-tablet mdc-layout-grid__cell--span-4-phone "},React.createElement(R.default,null)))))),React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-12 mdc-layout-grid__cell--align-right "},React.createElement(L.a,null))))),!i&&!o&&React.createElement(x.default,null))}}]),t}(M);t.default=W},function(e,t,a){"use strict";a.r(t);var n=a(2),i=a.n(n),o=a(3),s=a.n(o),r=a(4),l=a.n(r),c=a(5),d=a.n(c),u=a(6),g=a.n(u),p=(a(8),a(80)),m=a(22),h=a(29),f=a(16),y=a(7),k=a(0),v=a(13),_=wp.i18n.__,b=wp.element,E=b.Component,R=b.Fragment,S=function(e){function t(){return i()(this,t),l()(this,d()(t).apply(this,arguments))}return g()(t,e),s()(t,[{key:"render",value:function(){var e=this.props.data;if(!e||!e.length)return null;var t=Object(v.calculateOverviewData)(e);if(!t)return null;var a=t.totalUsers,n=t.averageSessionDuration,i=t.totalUsersChange,o=t.averageSessionDurationChange;return React.createElement(R,null,e.length?React.createElement(R,null,React.createElement(m.a,{className:"googlesitekit-wp-dashboard-stats__data-table overview-total-users",title:_("Total Unique Visitors","google-site-kit"),datapoint:Object(k.t)(a),change:i,changeDataUnit:"%"}),React.createElement(m.a,{className:"googlesitekit-wp-dashboard-stats__data-table overview-average-session-duration",title:_("Avg. Time on Page","google-site-kit"),datapoint:Object(k.s)(n),change:o,changeDataUnit:"%"})):React.createElement("div",{className:"googlesitekit-wp-dashboard-stats__cta"},React.createElement(h.a,{title:_("Analytics Gathering Data","google-site-kit"),description:_("Analytics data is not yet available, please check back later.","google-site-kit"),ctaLink:"",ctaLabel:""})))}}]),t}(E);t.default=Object(f.a)(S,[{type:y.b,identifier:"analytics",datapoint:"report",data:v.overviewReportDataDefaults,priority:1,maxAge:Object(k.p)("day"),context:["WPDashboard"]}],React.createElement(p.a,{width:"23%",height:"94px",count:2}),{},v.isDataZeroForReporting,v.getAnalyticsErrorMessageFromData)},function(e,t,a){"use strict";a.r(t);var n=a(2),i=a.n(n),o=a(3),s=a.n(o),r=a(4),l=a.n(r),c=a(5),d=a.n(c),u=a(6),g=a.n(u),p=(a(8),a(16)),m=a(7),h=a(0),f=a(25),y=a(33),k=a(13),v=wp.i18n.__,_=lodash.map,b=function(e){function t(){return i()(this,t),l()(this,d()(t).apply(this,arguments))}return g()(t,e),s()(t,[{key:"render",value:function(){var e=this.props.data;if(Object(k.isDataZeroForReporting)(e))return null;var t=[v("URL","google-site-kit"),v("Pageviews","google-site-kit")],a=[],n=_(e[0].data.rows,function(e,t){var n=e.dimensions[0],i=e.dimensions[1];return a[t]=n,[i,Object(h.r)(e.metrics[0].values[0])]}),i={hideHeader:!0,chartsEnabled:!0,links:a,cap:5,showUrls:!0},o=Object(f.b)(n,t,i);return React.createElement("div",{className:"googlesitekit-search-console-widget"},React.createElement("h2",{className:"googlesitekit-search-console-widget__title"},v("Top content over the last 28 days","google-site-kit")),React.createElement(f.a,null,o))}}]),t}(wp.element.Component);t.default=Object(p.a)(b,[{type:m.b,identifier:"analytics",datapoint:"report",data:Object(k.getTopPagesReportDataDefaults)(),priority:1,maxAge:Object(h.p)("day"),context:"WPDashboard"}],React.createElement(y.a,{rows:6}))},function(e,t,a){"use strict";a.r(t);var n=a(10),i=a.n(n),o=a(12),s=a.n(o),r=(a(8),a(29)),l=a(7),c=a(48),d=a(0),u=wp.i18n.__;t.default=function(){var e=googlesitekit.modules["pagespeed-insights"],t=e.active,a=e.setupComplete;if(!googlesitekit.permissions.canManageOptions&&!a)return null;var n=(o=s()(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(d.a)(l.c,"pagespeed-insights",!0);case 3:window.location=Object(d.m)("pagespeed-insights",!0),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),Object(d.w)(c.a,{id:"pagespeed-insights-setup-error",title:u("Internal Server Error","google-site-kit"),description:e.t0.message,format:"small",type:"win-error"});case 9:case"end":return e.stop()}},e,null,[[0,6]])})),function(){return o.apply(this,arguments)});var o;return React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-12 "},React.createElement(r.a,{title:u(!a&&t?"Complete PageSpeed Insights activation. ":"Activate PageSpeed Insights. ","google-site-kit"),description:u("Google PageSpeed Insights gives you metrics about performance, accessibility, SEO and PWA.","google-site-kit"),ctaLink:"#",ctaLabel:u(!a&&t?"Complete activation":"Activate PageSpeed Insights","google-site-kit"),onClick:n}))}},function(e,t,a){"use strict";a.r(t);var n=a(2),i=a.n(n),o=a(3),s=a.n(o),r=a(4),l=a.n(r),c=a(5),d=a.n(c),u=a(9),g=a.n(u),p=a(6),m=a.n(p),h=(a(8),a(82)),f=a(53),y=a(56),k=a(27),v=a(42),_=wp.element,b=_.Component,E=_.Fragment,R=wp.i18n,S=R.__,w=R.sprintf,C=function(e){function t(e){var a;return i()(this,t),(a=l()(this,d()(t).call(this,e))).state={loading:!0,error:!1},a.handleDataLoaded=a.handleDataLoaded.bind(g()(a)),a.handleDataError=a.handleDataError.bind(g()(a)),a}return m()(t,e),s()(t,[{key:"handleDataLoaded",value:function(){this.setState({loading:!1})}},{key:"handleDataError",value:function(){this.setState({error:!0})}},{key:"render",value:function(){var e=this.state,t=e.loading,a=e.error,n={name:S("PageSpeed Insights","google-site-kit"),link:w("https://developers.google.com/speed/pagespeed/insights/?url=%s",googlesitekit.admin.siteURL)};return a?React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-12 "},Object(v.a)(S("PageSpeed Insights","google-site-kit"),S("Issue accessing data, please ensure the API key is set correctly.","google-site-kit"),!0,!0,!1)):React.createElement(E,null,t&&React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-12 "},React.createElement("div",{className:"googlesitekit-pagespeed-report__loading"},React.createElement(k.a,null),React.createElement("p",null,S("PageSpeed Insights is preparing data for your home page…","google-site-kit")))),React.createElement(h.PageSpeedInsightsDashboardWidgetHomepageSpeedMobile,{handleDataLoaded:this.handleDataLoaded,handleDataError:this.handleDataError}),React.createElement(h.PageSpeedInsightsDashboardWidgetHomepageSpeedDesktop,null),!t&&React.createElement(E,null,React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-4-phone mdc-layout-grid__cell--span-4-tablet mdc-layout-grid__cell--span-6-desktop "},React.createElement(f.a,{name:n.name,href:n.link,external:!0})),React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-4-phone mdc-layout-grid__cell--span-4-tablet mdc-layout-grid__cell--span-6-desktop mdc-layout-grid__cell--align-right-tablet "},React.createElement(y.PageSpeedReportScale,null))))}}]),t}(b);t.default=C},function(e,t,a){"use strict";a.r(t);var n=a(2),i=a.n(n),o=a(3),s=a.n(o),r=a(4),l=a.n(r),c=a(5),d=a.n(c),u=a(6),g=a.n(u),p=wp.components.withFilters,m=function(e){function t(){return i()(this,t),l()(this,d()(t).apply(this,arguments))}return g()(t,e),s()(t,[{key:"render",value:function(){return null}}]),t}(wp.element.Component);t.default=p("googlesitekit.DashboardSpeed")(m)},function(e,t,a){"use strict";a.r(t);var n=a(2),i=a.n(n),o=a(3),s=a.n(o),r=a(4),l=a.n(r),c=a(5),d=a.n(c),u=a(6),g=a.n(u),p=(a(8),a(116)),m=a(15),h=a(34),f=wp.element,y=f.Component,k=f.Fragment,v=wp.i18n.__,_=function(e){function t(){return i()(this,t),l()(this,d()(t).apply(this,arguments))}return g()(t,e),s()(t,[{key:"render",value:function(){return React.createElement(k,null,React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-12 "},React.createElement(h.a,{title:v("Speed","google-site-kit"),description:v("How fast your home page is.","google-site-kit")})),React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-12 "},React.createElement(m.a,{className:"googlesitekit-pagespeed-report"},React.createElement("div",{className:"mdc-layout-grid"},React.createElement("div",{className:"mdc-layout-grid__inner"},React.createElement(p.default,null))))))}}]),t}(y);t.default=_},function(e,t,a){"use strict";a.r(t);var n=a(10),i=a.n(n),o=a(12),s=a.n(o),r=a(2),l=a.n(r),c=a(3),d=a.n(c),u=a(4),g=a.n(u),p=a(5),m=a.n(p),h=a(9),f=a.n(h),y=a(6),k=a.n(y),v=(a(8),a(1)),_=a.n(v),b=a(24),E=a(11),R=a(7),S=a(0),w=a(19),C=wp.i18n.__,D=wp.element,O=D.Component,A=D.Fragment,N=function(e){function t(e){var a;return l()(this,t),(a=g()(this,m()(t).call(this,e))).state={apikey:"",disabled:!0},a.handleAPIKeyChange=a.handleAPIKeyChange.bind(f()(a)),a.handleAPIKeyEntry=a.handleAPIKeyEntry.bind(f()(a)),a.handleEditKeyClick=a.handleEditKeyClick.bind(f()(a)),a}return k()(t,e),d()(t,[{key:"componentDidMount",value:function(){var e=googlesitekit.admin.settings?googlesitekit.admin.settings.apikey:"",t=!e||0===e.length,a=t,n=t;this.setState({apikey:e,disabled:t,editing:a,startedEmpty:n})}},{key:"handleAPIKeyEntry",value:function(){var e=s()(i.a.mark(function e(){var t,a,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,a=t.apikey,n=t.startedEmpty,Object(S.v)("plugin_setup","apikey_entered"),e.prev=2,e.next=5,R.c.set(R.a,"site","apikey",{apikey:a});case 5:n?document.location=Object(S.n)("googlesitekit-dashboard"):this.setState({editing:!1}),e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(2),e.t0;case 11:case"end":return e.stop()}},e,this,[[2,8]])}));return function(){return e.apply(this,arguments)}}()},{key:"handleEditKeyClick",value:function(){this.setState({editing:!0})}},{key:"handleAPIKeyChange",value:function(e){this.setState({apikey:e.currentTarget.value.trim(),disabled:0===e.currentTarget.value.length})}},{key:"render",value:function(){var e=googlesitekit.admin.externalAPIKeyURL,t=this.state,a=t.apikey,n=t.disabled,i=t.editing,o=t.startedEmpty,s=this.props.onSettingsPage;return React.createElement("div",{className:"googlesitekit-setup-module googlesitekit-setup-module--pagespeed-insights"},!s&&React.createElement(A,null,React.createElement("div",{className:"googlesitekit-setup-module__logo"},React.createElement("img",{src:googlesitekit.admin.assetsRoot+"images/icon-pagespeed.png",width:33,alt:""})),React.createElement("h2",{className:" googlesitekit-heading-3 googlesitekit-setup-module__title "},C("PageSpeed Insights","google-site-kit"))),i?React.createElement(A,null,o&&React.createElement(A,null,React.createElement("p",null,C("Please generate an API key on ","google-site-kit"),React.createElement(E.a,{href:e,target:"_blank",rel:"noopener noreferrer",external:!0,inherit:!0},"developers.google.com/web/sitekit/apikey")),React.createElement("p",null,C("Enter it below to complete the setup for PageSpeed Insights.","google-site-kit"))),React.createElement("div",{className:"googlesitekit-setup-module__inputs"},React.createElement(w.l,{label:C("API Key","google-site-kit"),name:"apiKey",outlined:!0,required:!0},React.createElement(w.b,{value:a||"",onChange:this.handleAPIKeyChange,autoComplete:"off"}))),React.createElement(b.a,{onClick:this.handleAPIKeyEntry,disabled:n},C(o?"Proceed":"Save","google-site-kit"))):React.createElement("p",null,C("API connected.","google-site-kit")," ",React.createElement(E.a,{href:"#",onClick:this.handleEditKeyClick,inherit:!0},C("Edit key","google-site-kit"))))}}]),t}(O);N.propTypes={onSettingsPage:_.a.bool,finishSetup:_.a.func,isEditing:_.a.bool},N.defaultProps={onSettingsPage:!0,isEditing:!1},t.default=N},function(e,t,a){"use strict";a.r(t);var n=a(2),i=a.n(n),o=a(3),s=a.n(o),r=a(4),l=a.n(r),c=a(5),d=a.n(c),u=a(6),g=a.n(u),p=(a(8),a(22)),m=a(16),h=a(7),f=a(0),y=a(30),k=a(20),v=wp.i18n.__,_=wp.element,b=_.Component,E=_.Fragment,R=function(e){function t(){return i()(this,t),l()(this,d()(t).apply(this,arguments))}return g()(t,e),s()(t,[{key:"render",value:function(){var e=this.props.data;if(!e||e.error)return null;var t=Object(y.extractSearchConsoleDashboardData)(e),a=t.totalClicks,n=t.totalImpressions,i=t.totalClicksChange,o=t.totalImpressionsChange;return React.createElement(E,null,React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-2-tablet mdc-layout-grid__cell--span-3-desktop "},React.createElement(p.a,{className:"overview-total-clicks",title:v("Total Clicks","google-site-kit"),datapoint:a,change:i,changeDataUnit:"%"})),React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-2-tablet mdc-layout-grid__cell--span-3-desktop "},React.createElement(p.a,{className:"overview-total-impressions",title:v("Total Impressions","google-site-kit"),datapoint:n,change:o,changeDataUnit:"%"})))}}]),t}(b);t.default=Object(m.a)(R,[{type:h.b,identifier:"search-console",datapoint:"searchanalytics",data:{url:googlesitekit.permaLink,dimensions:"date",compareDateRanges:!0},priority:1,maxAge:Object(f.p)("day"),context:"Adminbar"}],React.createElement(E,null,React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-2-tablet mdc-layout-grid__cell--span-3-desktop "},React.createElement(k.a,{width:"auto",height:"59px"})),React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-2-tablet mdc-layout-grid__cell--span-3-desktop "},React.createElement(k.a,{width:"auto",height:"59px"}))),{inGrid:!0},y.isDataZeroSearchConsole)},function(e,t,a){"use strict";a.r(t);var n=a(43),i=a.n(n),o=a(2),s=a.n(o),r=a(3),l=a.n(r),c=a(4),d=a.n(c),u=a(5),g=a.n(u),p=a(6),m=a.n(p),h=(a(8),a(119)),f=function(e){function t(){return s()(this,t),d()(this,g()(t).apply(this,arguments))}return m()(t,e),l()(t,[{key:"render",value:function(){return"undefined"!==i()(googlesitekit.permaLink)&&""===googlesitekit.permaLink?null:React.createElement(h.default,null)}}]),t}(wp.element.Component);t.default=f},function(e,t,a){"use strict";a.r(t);var n=a(2),i=a.n(n),o=a(3),s=a.n(o),r=a(4),l=a.n(r),c=a(5),d=a.n(c),u=a(6),g=a.n(u),p=(a(8),a(34)),m=a(15),h=a(68),f=wp.element,y=f.Component,k=f.Fragment,v=wp.i18n,_=v.__,b=v.sprintf,E=function(e){function t(){return i()(this,t),l()(this,d()(t).apply(this,arguments))}return g()(t,e),s()(t,[{key:"render",value:function(){return React.createElement(k,null,React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-12 "},React.createElement(p.a,{title:_("Top Queries","google-site-kit"),description:_("What people searched for to find your page.","google-site-kit")})),React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-12 "},React.createElement(m.a,{footer:!0,footerCtaLabel:_("Search Console","google-site-kit"),footerCtaLink:b("https://search.google.com/u/1/search-console?resource_id=%s",googlesitekit.admin.siteURL)},React.createElement(h.default,null))))}}]),t}(y);t.default=E},function(e,t,a){"use strict";a.r(t);var n=a(2),i=a.n(n),o=a(3),s=a.n(o),r=a(4),l=a.n(r),c=a(5),d=a.n(c),u=a(6),g=a.n(u),p=(a(8),a(55)),m=a(34),h=a(15),f=a(69),y=wp.element,k=y.Component,v=y.Fragment,_=wp.i18n.__,b=function(e){function t(){return i()(this,t),l()(this,d()(t).apply(this,arguments))}return g()(t,e),s()(t,[{key:"render",value:function(){return React.createElement(v,null,React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-12 "},React.createElement(m.a,{description:_("How your site appeared in Search results and how many visitors you got from Search.","google-site-kit"),title:_("Search Funnel","google-site-kit")})),React.createElement("div",{className:"mdc-layout-grid__cell mdc-layout-grid__cell--span-12"},React.createElement(h.a,{className:"googlesitekit-analytics-search-funnel"},React.createElement("div",{className:"mdc-layout-grid"},React.createElement("div",{className:"mdc-layout-grid__inner"},React.createElement(f.default,null),!googlesitekit.modules.analytics.active&&React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-4-phone mdc-layout-grid__cell--span-4-tablet mdc-layout-grid__cell--span-6-desktop "},React.createElement(p.a,null)))))))}}]),t}(k);t.default=b},function(e,t,a){"use strict";a.r(t);var n=a(2),i=a.n(n),o=a(3),s=a.n(o),r=a(4),l=a.n(r),c=a(5),d=a.n(c),u=a(6),g=a.n(u),p=(a(8),a(22)),m=a(16),h=a(7),f=a(20),y=a(0),k=a(30),v=a(1),_=a.n(v),b=wp.i18n.__,E=wp.element,R=E.Component,S=E.Fragment,w=function(e){function t(){return i()(this,t),l()(this,d()(t).apply(this,arguments))}return g()(t,e),s()(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.selectedStats,n=e.handleStatSelection;if(!t||!t.length)return null;var i=Object(k.extractSearchConsoleDashboardData)(t),o=i.totalClicks,s=i.totalImpressions,r=i.averageCTR,l=i.averagePosition,c=i.totalClicksChange,d=i.totalImpressionsChange,u=i.averageCTRChange,g=i.averagePositionChange,m=[{className:"googlesitekit-data-block--clicks googlesitekit-data-block--button-1",title:b("Total Clicks","google-site-kit"),datapoint:o,change:c,changeDataUnit:"%",context:"button",selected:a.includes(0),handleStatSelection:n},{className:"googlesitekit-data-block--impressions googlesitekit-data-block--button-2",title:b("Total Impressions","google-site-kit"),datapoint:s,change:d,changeDataUnit:"%",context:"button",selected:a.includes(1),handleStatSelection:n},{className:"googlesitekit-data-block--ctr googlesitekit-data-block--button-3",title:b("Average CTR","google-site-kit"),datapoint:r+"%",change:u,changeDataUnit:"%",context:"button",selected:a.includes(2),handleStatSelection:n},{className:"googlesitekit-data-block--position googlesitekit-data-block--button-4",title:b("Average Position","google-site-kit"),datapoint:l,change:g,changeDataUnit:"%",context:"button",selected:a.includes(3),handleStatSelection:n}];return React.createElement(S,null,React.createElement("section",{className:"mdc-layout-grid"},React.createElement("div",{className:"mdc-layout-grid__inner",role:"toolbar","aria-label":"Line Chart Options"},m.map(function(e,t){return React.createElement("div",{key:t,className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-2-phone mdc-layout-grid__cell--span-2-tablet mdc-layout-grid__cell--span-3-desktop "},React.createElement(p.a,{stat:t,className:e.className,title:e.title,datapoint:e.datapoint,change:e.change,changeDataUnit:e.changeDataUnit,context:e.context,selected:e.selected,handleStatSelection:e.handleStatSelection}))}))))}}]),t}(R);w.propTypes={handleDataError:_.a.func.isRequired},t.default=Object(m.a)(w,[{type:h.b,identifier:"search-console",datapoint:"searchanalytics",data:{dimensions:"date",compareDateRanges:!0},priority:1,maxAge:Object(y.p)("day"),context:["Single","Dashboard"]}],React.createElement(f.a,{width:"100%",height:"190px",padding:!0}),{createGrid:!0},k.isDataZeroSearchConsole)},function(e,t,a){"use strict";a.r(t);var n=a(2),i=a.n(n),o=a(3),s=a.n(o),r=a(4),l=a.n(r),c=a(5),d=a.n(c),u=a(6),g=a.n(u),p=(a(8),a(16)),m=a(7),h=a(0),f=a(25),y=a(33),k=a(15),v=a(30),_=wp.i18n,b=_.__,E=_.sprintf,R=lodash.map,S=function(e){function t(){return i()(this,t),l()(this,d()(t).apply(this,arguments))}return g()(t,e),s()(t,[{key:"render",value:function(){var e=this.props.data;if(!e||!e.length)return null;var a=[{title:b("Top search queries for your site","google-site-kit"),tooltip:b("Most searched for keywords related to your content","google-site-kit")},{title:b("Clicks","google-site-kit"),tooltip:b("Number of times users clicked on your content in search results","google-site-kit")},{title:b("Impressions","google-site-kit"),tooltip:b("Counted each time your content appears in search results","google-site-kit")}],n=googlesitekit.admin.siteURL,i=[],o=R(e,function(e,t){var a=e.keys[0];return i[t]=E("https://search.google.com/search-console/performance/search-analytics?resource_id=%s&query=!%s&num_of_days=28",n,a),[a,Object(h.r)(e.clicks),Object(h.r)(e.impressions)]}),s={hideHeader:!1,chartsEnabled:!1,links:i},r=Object(f.b)(o,a,s);return t.renderLayout(React.createElement(f.a,null,r))}}],[{key:"renderLayout",value:function(e){return React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-6-desktop mdc-layout-grid__cell--span-4-tablet "},React.createElement(k.a,{className:"googlesitekit-popular-content",footer:!0,footerCtaLabel:b("Search Console","google-site-kit"),footerCtaLink:E("https://search.google.com/u/1/search-console?resource_id=%s",googlesitekit.admin.siteURL),fill:!0},e))}}]),t}(wp.element.Component);t.default=Object(p.a)(S,[{type:m.b,identifier:"search-console",datapoint:"searchanalytics",data:{dimensions:"query",limit:10},priority:1,maxAge:Object(h.p)("day"),context:["Dashboard"]}],S.renderLayout(React.createElement(y.a,{padding:!0})),{inGrid:!0,createGrid:!0},v.isDataZeroSearchConsole)},function(e,t,a){"use strict";a.r(t);var n=a(2),i=a.n(n),o=a(3),s=a.n(o),r=a(4),l=a.n(r),c=a(5),d=a.n(c),u=a(6),g=a.n(u),p=wp.components.withFilters,m=function(e){function t(){return i()(this,t),l()(this,d()(t).apply(this,arguments))}return g()(t,e),s()(t,[{key:"render",value:function(){return null}}]),t}(wp.element.Component);t.default=p("googlesitekit.DashboardPopularity")(m)},function(e,t,a){"use strict";a.r(t);var n=a(2),i=a.n(n),o=a(3),s=a.n(o),r=a(4),l=a.n(r),c=a(5),d=a.n(c),u=a(6),g=a.n(u),p=(a(8),a(125)),m=a(34),h=wp.element,f=h.Component,y=h.Fragment,k=wp.i18n.__,v=function(e){function t(){return i()(this,t),l()(this,d()(t).apply(this,arguments))}return g()(t,e),s()(t,[{key:"render",value:function(){return React.createElement(y,null,React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-12 "},React.createElement(m.a,{title:k("Popularity","google-site-kit"),description:k("Your most popular pages and how people found them from Search.","google-site-kit"),timePeriod:k("Last 28 days","google-site-kit")})),React.createElement(p.default,null))}}]),t}(f);t.default=v},function(e,t,a){"use strict";a.r(t);var n=a(2),i=a.n(n),o=a(3),s=a.n(o),r=a(4),l=a.n(r),c=a(5),d=a.n(c),u=a(6),g=a.n(u),p=(a(8),a(69)),m=a(15),h=a(34),f=a(55),y=wp.element,k=y.Component,v=y.Fragment,_=wp.i18n.__,b=function(e){function t(){return i()(this,t),l()(this,d()(t).apply(this,arguments))}return g()(t,e),s()(t,[{key:"render",value:function(){var e=googlesitekit.permissions.canManageOptions,t=googlesitekit.modules.analytics.active||e?12:6;return React.createElement(v,null,React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-12 "},React.createElement(h.a,{title:_("Search Funnel","google-site-kit"),description:_("How your site appeared in Search results and how many visitors you got from Search.","google-site-kit"),timePeriod:_("Last 28 days","google-site-kit")})),React.createElement("div",{className:"\n\t\t\t\t\tmdc-layout-grid__cell\n\t\t\t\t\tmdc-layout-grid__cell--span-".concat(t,"\n\t\t\t\t")},React.createElement(m.a,{className:"googlesitekit-analytics-search-funnel"},React.createElement("div",{className:"mdc-layout-grid"},React.createElement("div",{className:"mdc-layout-grid__inner"},React.createElement(p.default,null),!googlesitekit.modules.analytics.active&&React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-4-phone mdc-layout-grid__cell--span-4-tablet mdc-layout-grid__cell--span-6-desktop "},React.createElement(f.a,null)))))))}}]),t}(k);t.default=b},function(e,t,a){"use strict";a.r(t);var n=a(2),i=a.n(n),o=a(3),s=a.n(o),r=a(4),l=a.n(r),c=a(5),d=a.n(c),u=a(9),g=a.n(u),p=a(6),m=a.n(p),h=(a(8),a(16)),f=a(7),y=a(50),k=a(20),v=a(0),_=a(30),b=wp.i18n,E=b.__,R=b.sprintf,S=function(e){function t(e){var a;return i()(this,t),(a=l()(this,d()(t).call(this,e))).setOptions=a.setOptions.bind(g()(a)),a}return m()(t,e),s()(t,[{key:"setOptions",value:function(){var e=this.props,t=e.selectedStats,a=e.series,n=e.vAxes,i={chart:{title:""===googlesitekit.pageTitle?"":R(E("Search Traffic Summary for %s","google-site-kit"),Object(v.e)(googlesitekit.pageTitle))},curveType:"line",height:270,width:"100%",chartArea:{height:"80%",width:"87%"},legend:{position:"top",textStyle:{color:"#616161",fontSize:12}},hAxis:{format:"M/d/yy",gridlines:{color:"#fff"},textStyle:{color:"#616161",fontSize:12}},vAxis:{gridlines:{color:"#eee"},minorGridlines:{color:"#eee"},textStyle:{color:"#616161",fontSize:12},titleTextStyle:{color:"#616161",fontSize:12,italic:!1}}};return i.series=a,i.vAxes=n,3<=t.length&&(i.vAxis.textPosition="none",i.vAxis.gridlines.color="#fff",i.vAxis.minorGridlines.color="#fff",i.vAxes={},i.chartArea.width="98%"),i}},{key:"render",value:function(){var e=this.props,t=e.data,a=e.selectedStats;if(!t||!t.length)return null;var n=this.setOptions(),i=Object(_.extractSearchConsoleDashboardData)(t);return React.createElement("section",{className:"mdc-layout-grid"},React.createElement("div",{className:"mdc-layout-grid__inner"},React.createElement("div",{className:"mdc-layout-grid__cell mdc-layout-grid__cell--span-12"},React.createElement(y.a,{selectedStats:a,data:i.dataMap,options:n,singleStat:!1}))))}}]),t}(wp.element.Component);t.default=Object(h.a)(S,[{type:f.b,identifier:"search-console",datapoint:"searchanalytics",data:{dimensions:"date",compareDateRanges:!0},priority:1,maxAge:Object(v.p)("day"),context:"Single"}],React.createElement(k.a,{width:"100%",height:"270px",padding:!0}),{createGrid:!0})},function(e,t,a){"use strict";a.r(t);var n=a(2),i=a.n(n),o=a(3),s=a.n(o),r=a(4),l=a.n(r),c=a(5),d=a.n(c),u=a(6),g=a.n(u),p=(a(8),a(22)),m=a(16),h=a(7),f=a(30),y=a(45),k=a(20),v=a(0),_=a(29),b=wp.i18n.__,E=wp.element,R=E.Component,S=E.Fragment,w=function(e){function t(){return i()(this,t),l()(this,d()(t).apply(this,arguments))}return g()(t,e),s()(t,[{key:"render",value:function(){var e=this.props.data,t=e.error;if(t)return Object(v.v)("plugin_setup","search_console_error",t.message),React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-4-phone mdc-layout-grid__cell--span-4-tablet mdc-layout-grid__cell--span-6-desktop "},React.createElement(_.a,{title:b("Something went wrong","google-site-kit"),description:t.message,error:!0}));if(!e)return null;if(!e.length)return React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-4-phone mdc-layout-grid__cell--span-4-tablet mdc-layout-grid__cell--span-6-desktop "},React.createElement(_.a,{title:b("Search Console Data Empty","google-site-kit"),description:b("Search Console data is not yet available, please check back later.","google-site-kit"),ctaLink:"",ctaLabel:""}));var a=Object(f.extractSearchConsoleDashboardData)(e),n=Object(v.n)("googlesitekit-module-search-console",{}),i=a.totalClicks,o=a.totalImpressions,s=a.totalClicksChange,r=a.totalImpressionsChange;return React.createElement(S,null,React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--align-bottom mdc-layout-grid__cell--span-2-phone mdc-layout-grid__cell--span-2-tablet mdc-layout-grid__cell--span-3-desktop "},React.createElement(p.a,{className:"overview-total-impressions",title:b("Impressions","google-site-kit"),datapoint:o,change:s,changeDataUnit:"%",source:{name:b("Search Console","google-site-kit"),link:n},sparkline:React.createElement(y.a,{data:Object(v.f)(a.dataMap,1),change:s,id:"search-console-impressions-sparkline"})})),React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--align-bottom mdc-layout-grid__cell--span-2-phone mdc-layout-grid__cell--span-2-tablet mdc-layout-grid__cell--span-3-desktop "},React.createElement(p.a,{className:"overview-total-clicks",title:b("Clicks","google-site-kit"),datapoint:i,change:r,changeDataUnit:"%",source:{name:b("Search Console","google-site-kit"),link:n},sparkline:React.createElement(y.a,{data:Object(v.f)(a.dataMap,2),change:r,id:"search-console-clicks-sparkline"})})))}}]),t}(R);t.default=Object(m.a)(w,[{type:h.b,identifier:"search-console",datapoint:"searchanalytics",data:{url:googlesitekit.permaLink,dimensions:"date",compareDateRanges:!0},priority:1,maxAge:Object(v.p)("day"),context:["Single","Dashboard"]}],React.createElement(S,null,React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--align-bottom mdc-layout-grid__cell--span-2-phone mdc-layout-grid__cell--span-2-tablet mdc-layout-grid__cell--span-3-desktop "},React.createElement(k.a,{width:"100%",height:"202px"})),React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--align-bottom mdc-layout-grid__cell--span-2-phone mdc-layout-grid__cell--span-2-tablet mdc-layout-grid__cell--span-3-desktop "},React.createElement(k.a,{width:"100%",height:"202px"}))),{inGrid:!0},f.isDataZeroSearchConsole)},function(e,t,a){"use strict";a.r(t);var n=a(2),i=a.n(n),o=a(3),s=a.n(o),r=a(4),l=a.n(r),c=a(5),d=a.n(c),u=a(9),g=a.n(u),p=a(6),m=a.n(p),h=(a(8),a(37)),f=a(128),y=a(68),k=a(123),v=a(40),_=a(15),b=a(64),E=a(27),R=a(49),S=a(42),w=a(0),C=a(36),D=wp.element,O=D.Component,A=D.Fragment,N=wp.i18n,x=N.__,P=N.sprintf,j=function(e){function t(e){var a;return i()(this,t),(a=l()(this,d()(t).call(this,e))).state={selectedStats:[0,1],receivingData:!0,error:!1,loading:!0},a.handleStatSelection=a.handleStatSelection.bind(g()(a)),a.buildSeries=a.buildSeries.bind(g()(a)),a.buildVAxes=a.buildVAxes.bind(g()(a)),a.handleDataError=a.handleDataError.bind(g()(a)),a.handleDataSuccess=a.handleDataSuccess.bind(g()(a)),a}return m()(t,e),s()(t,[{key:"handleDataError",value:function(e){this.setState({receivingData:!1,error:e,loading:!1})}},{key:"handleDataSuccess",value:function(){this.setState({receivingData:!0,loading:!1})}},{key:"handleStatSelection",value:function(e){var t=this.state.selectedStats,a=t.slice();t.includes(e)?a=t.filter(function(t){return e!==t}):a.push(e),0!==a.length&&this.setState({selectedStats:a})}},{key:"buildSeries",value:function(){var e=this.state.selectedStats,t={0:"#4285f4",1:"#27bcd4",2:"#1b9688",3:"#673ab7"};return e.map(function(e,a){return{color:t[e],targetAxisIndex:a}})}},{key:"buildVAxes",value:function(){var e=this.state.selectedStats,t={0:"Clicks",1:"Impressions",2:"Average CTR",3:"Average Position"};return e.map(function(e){return{title:t[e]}})}},{key:"render",value:function(){var e=this.state,t=e.selectedStats,a=e.receivingData,n=e.error,i=e.loading,o=this.buildSeries(),s=this.buildVAxes(),r=!i&&a?"":"googlesitekit-nodata",l=Object(w.i)(),c=P("https://search.google.com/u/1/search-console?resource_id=%s",googlesitekit.admin.siteURL);return React.createElement(A,null,React.createElement(h.a,null),React.createElement(b.a,{module:"search-console"}),React.createElement("div",{className:"googlesitekit-module-page googlesitekit-module-page--search-console"},React.createElement("div",{className:"mdc-layout-grid"},React.createElement("div",{className:"mdc-layout-grid__inner"},React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-12 "},React.createElement(v.a,{title:x("Search Console","google-site-kit"),icon:!0,iconWidth:"23",iconHeight:"21",iconId:"search-console",status:"connected",statusText:x("Search Console is connected","google-site-kit")}),i&&React.createElement(E.a,null)),!a&&(n?Object(S.a)(x("Search Console","google-site-kit"),n,!0,!0,!0):Object(R.a)(x("Search Console","google-site-kit"),!0,!0,!0)),React.createElement("div",{className:"\n\t\t\t\t\t\t\t\tmdc-layout-grid__cell\n\t\t\t\t\t\t\t\tmdc-layout-grid__cell--span-12\n\t\t\t\t\t\t\t\t".concat(r,"\n\t\t\t\t\t\t\t")},React.createElement(_.a,{header:!0,title:P(x("Overview for the last %s","google-site-kit"),l),headerCtaLabel:x("See full stats in Search Console","google-site-kit"),headerCtaLink:c},React.createElement(k.default,{selectedStats:t,handleStatSelection:this.handleStatSelection,handleDataError:this.handleDataError,handleDataSuccess:this.handleDataSuccess}),React.createElement(f.default,{selectedStats:t,series:o,vAxes:s}))),React.createElement("div",{className:"\n\t\t\t\t\t\t\t\tmdc-layout-grid__cell\n\t\t\t\t\t\t\t\tmdc-layout-grid__cell--span-12\n\t\t\t\t\t\t\t\t".concat(r,"\n\t\t\t\t\t\t\t")},React.createElement(_.a,{title:P(x("Top search queries over the last %s","google-site-kit"),l),header:!0,footer:!0,headerCtaLabel:x("See full stats in Search Console","google-site-kit"),headerCtaLink:c,footerCtaLabel:x("Search Console","google-site-kit"),footerCtaLink:c},React.createElement(y.default,null))),React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-12 mdc-layout-grid__cell--align-right "},React.createElement(C.a,null))))))}}]),t}(O);t.default=j},function(e,t,a){"use strict";a.r(t);var n=a(2),i=a.n(n),o=a(3),s=a.n(o),r=a(4),l=a.n(r),c=a(5),d=a.n(c),u=a(6),g=a.n(u),p=(a(8),a(132)),m=wp.element,h=m.Component,f=m.Fragment,y=function(e){function t(){return i()(this,t),l()(this,d()(t).apply(this,arguments))}return g()(t,e),s()(t,[{key:"render",value:function(){return React.createElement(f,null,React.createElement(p.default,null))}}]),t}(h);t.default=y},function(e,t,a){"use strict";a.r(t);var n=a(2),i=a.n(n),o=a(3),s=a.n(o),r=a(4),l=a.n(r),c=a(5),d=a.n(c),u=a(6),g=a.n(u),p=(a(8),a(80)),m=a(22),h=a(16),f=a(7),y=a(0),k=a(30),v=a(29),_=wp.i18n.__,b=wp.element,E=b.Component,R=b.Fragment,S=function(e){function t(){return i()(this,t),l()(this,d()(t).apply(this,arguments))}return g()(t,e),s()(t,[{key:"render",value:function(){var e=this.props.data;if(!e||!e.length)return null;var t=Object(k.extractSearchConsoleDashboardData)(e),a=t.totalClicks,n=t.totalImpressions,i=t.totalClicksChange,o=t.totalImpressionsChange;return React.createElement(R,null,e.length?React.createElement(R,null,React.createElement(m.a,{className:"googlesitekit-wp-dashboard-stats__data-table overview-total-impressions",title:_("Total Impressions","google-site-kit"),datapoint:n,change:o,changeDataUnit:"%"}),React.createElement(m.a,{className:"googlesitekit-wp-dashboard-stats__data-table overview-total-clicks",title:_("Total Clicks","google-site-kit"),datapoint:a,change:i,changeDataUnit:"%"})):React.createElement("div",{className:"googlesitekit-wp-dashboard-stats__cta"},React.createElement(v.a,{title:_("Search Console Data Empty","google-site-kit"),description:_("Search Console data is not yet available, please check back later.","google-site-kit"),ctaLink:"",ctaLabel:""})))}}]),t}(E);t.default=Object(h.a)(S,[{type:f.b,identifier:"search-console",datapoint:"searchanalytics",data:{dimensions:"date",compareDateRanges:!0},priority:1,maxAge:Object(y.p)("day"),context:["WPDashboard"]}],React.createElement(p.a,{width:"23%",height:"94px",count:2}),{},k.isDataZeroSearchConsole)},function(e,t,a){"use strict";a.r(t);var n=a(2),i=a.n(n),o=a(3),s=a.n(o),r=a(4),l=a.n(r),c=a(5),d=a.n(c),u=a(6),g=a.n(u),p=(a(8),wp.element.Component),m=wp.i18n.__,h=googlesitekit.admin.siteURL,f=function(e){function t(){return i()(this,t),l()(this,d()(t).apply(this,arguments))}return g()(t,e),s()(t,[{key:"render",value:function(){return React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-12 "},React.createElement("div",{className:"googlesitekit-settings-module__meta-item-type"},m("Connected URL","google-site-kit")),React.createElement("div",{className:"googlesitekit-settings-module__meta-item-data"},h))}}]),t}(p);t.default=f},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){a(58),a(87),a(89),a(90),a(91),a(66),a(93),a(92),a(94),a(95),a(177),a(96),a(97),a(65),a(88),a(178),a(98),a(38),a(99),a(100),a(101),a(102),a(57),a(103),a(104),a(105),a(106),a(107),a(67),a(108),a(109),a(110),a(111),a(179),a(85),a(13),a(112),a(113),a(180),a(81),a(114),a(82),a(115),a(116),a(117),a(56),a(181),a(118),a(119),a(120),a(121),a(122),a(68),a(123),a(124),a(125),a(126),a(69),a(127),a(128),a(129),a(130),a(30),a(189),a(133),a(132),a(131),a(183),e.exports=a(83)},function(e,t,a){"use strict";a.r(t);a(8);var n=a(21),i=a(0),o=a(95),s=a(91),r=a(65),l=a(87),c=a(96),d=a(97),u=wp.hooks.addFilter,g="adsense";if(u("googlesitekit.ModuleSettingsWarning","googlesitekit.adsenseSettingsWarning",Object(i.g)(d.default,{})),u("googlesitekit.SetupModuleShowLink","googlesitekit.adsenseSetupModuleShowLink",function(e,t){return!("adsense"===t&&!googlesitekit.canAdsRun)&&e}),googlesitekit.modules.adsense.active){var p=Object(n.a)(React.createElement(o.default,null)),m=Object(n.a)(React.createElement(s.default,null));if(googlesitekit.modules[g].setupComplete)u("googlesitekit.ModuleApp-".concat(g),"googlesitekit.ModuleApp",p),u("googlesitekit.DashboardModule","googlesitekit.DashboardEarningModule",m,50);else{var h=googlesitekit.admin,f=h.reAuth,y=h.currentScreen,k=y?y.id:null;f||"site-kit_page_googlesitekit-module-adsense"!==k||(window.location=Object(i.n)("googlesitekit-module-".concat(g),{reAuth:!0,slug:g})),u("googlesitekit.Connected-".concat(g),"googlesitekit.AdSenseModuleConnected",function(e){var t=googlesitekit.modules[g].settings;return!(e||void 0===t||"account-pending-review"!==t.accountStatus&&"ads-display-pending"!==t.accountStatus)||e})}u("googlesitekit.ModuleSettingsDetails-".concat(g),"googlesitekit.AdSenseModuleSettingsDetails",Object(i.g)(r.default,{onSettingsPage:!0})),u("googlesitekit.ModuleSetup-".concat(g),"googlesitekit.TagmanagerModuleSetupWizard",Object(i.g)(l.default,{onSettingsPage:!1})),u("googlesitekit.autoRefreshModules","googlesitekit.AdSenseAutoRefresh",function(e){return e.push({identifier:"adsense",toRefresh:function(){var e="";return googlesitekit.modules.adsense&&googlesitekit.modules.adsense["account-status"]&&(e=googlesitekit.modules.adsense["account-status"].accountStatus),!(e&&-1<e.indexOf("account-connected"))}}),e}),u("googlesitekit.ModulesNotificationsRequest","googlesitekit.adsenseNotifications",function(e){return e.push({identifier:"adsense"}),e}),u("googlesitekit.ModuleSetupIncomplete","googlesitekit.adsenseSettingStatus",Object(i.g)(c.default,{}))}},function(e,t,a){"use strict";a.r(t);var n=a(10),i=a.n(n),o=a(12),s=a.n(o),r=a(2),l=a.n(r),c=a(3),d=a.n(c),u=a(4),g=a.n(u),p=a(5),m=a.n(p),h=a(6),f=a.n(h),y=(a(8),a(7)),k=a(98),v=a(54),_=wp.element,b=_.Component,E=_.Fragment,R=wp.i18n.__,S=function(e){function t(e){var a;return l()(this,t),(a=g()(this,m()(t).call(this,e))).state={isLoading:!0,error:!1,message:"",accounts:[],accountStatus:""},a}return f()(t,e),d()(t,[{key:"componentDidMount",value:function(){this.getAccounts()}},{key:"getAccounts",value:function(){var e=s()(i.a.mark(function e(){var t,a,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.c.get(y.b,"adsense","accounts");case 3:t=e.sent,a="",t&&t.length||(a="no-account"),n=t,this.setState({isLoading:!1,accountStatus:a,accounts:n,error:!1}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),this.setState({isLoading:!1,error:e.t0.code,message:e.t0.message});case 13:case"end":return e.stop()}},e,this,[[0,10]])}));return function(){return e.apply(this,arguments)}}()},{key:"renderErrorMessage",value:function(){var e=this.state,t=e.error,a=e.message;return t&&0<a.length?React.createElement("div",{className:"googlesitekit-error-text"},React.createElement("p",null,R("Error:","google-site-kit")," ",a)):null}},{key:"render",value:function(){var e=this.state,t=e.isLoading,a=e.accounts,n=e.accountStatus;return React.createElement(E,null,React.createElement("div",{className:"googlesitekit-module-page googlesitekit-module-page--adsense"},React.createElement("div",{className:"mdc-layout-grid"},React.createElement("div",{className:"mdc-layout-grid__inner"},t?React.createElement(v.a,{isSaving:t}):React.createElement(k.default,{accountStatus:n,accounts:a}),t?null:this.renderErrorMessage()))))}}]),t}(b);t.default=S},function(e,t,a){"use strict";a.r(t);a(8);var n=a(0),i=a(21),o=a(111),s=a(100),r=a(103),l=a(109),c=a(112),d=a(101),u=a(113),g=a(104),p=a(106),m=a(108),h=a(85),f=wp.hooks.addFilter,y="analytics";if(f("googlesitekit.AdminbarModules","googlesitekit.Analytics",Object(i.a)(React.createElement(s.default,null)),11),!googlesitekit.modules[y].setupComplete){var k=googlesitekit.admin,v=k.reAuth,_=k.currentScreen,b=_?_.id:null;v||"site-kit_page_googlesitekit-module-analytics"!==b||(window.location=Object(n.n)("googlesitekit-module-".concat(y),{reAuth:!0,slug:y}))}if(googlesitekit.modules.analytics.active){var E=Object(i.a)(React.createElement(o.default,null)),R=Object(i.a)(React.createElement(r.default,null)),S=Object(i.a)(React.createElement(c.default,null)),w=Object(i.a)(React.createElement(u.default,null)),C=Object(i.a)(React.createElement(l.default,null)),D=Object(i.a)(React.createElement(d.default,null)),O=Object(i.a)(React.createElement(g.default,null)),A=Object(i.a)(React.createElement(p.default,null)),N=Object(i.a)(React.createElement(m.default,null));f("googlesitekit.DashboardModule","googlesitekit.Analytics",R,9),f("googlesitekit.DashboardSearchFunnel","googlesitekit.Analytics",C,11),f("googlesitekit.DashboardPopularity","googlesitekit.Analytics",A,20),f("googlesitekit.AnalyticsAdSenseTopPagesTableSmall","googlesitekit.Analytics",N,20),f("googlesitekit.DashboardDetailsModule","googlesitekit.Analytics",D,20),f("googlesitekit.WPDashboardHeader","googlesitekit.Analytics",S),f("googlesitekit.WPDashboardModule","googlesitekit.Analytics",w),f("googlesitekit.ModuleApp-"+y,"googlesitekit.Analytics",E),f("googlesitekit.AnalyticsAdSenseTopPagesTable","googlesitekit.Analytics",O,11),f("googlesitekit.ModuleSettingsDetails-".concat(y),"googlesitekit.AnalyticsModuleSettingsDetails",Object(n.g)(h.default,{onSettingsPage:!0})),f("googlesitekit.showDateRangeSelector-".concat(y),"googlesitekit.analyticsShowDateRangeSelector",function(){return!0}),f("googlesitekit.ModuleSetup-".concat(y),"googlesitekit.AnalyticsModuleSetupWizard",Object(n.g)(h.default,{onSettingsPage:!1}))}},function(e,t,a){"use strict";a.r(t);var n=a(0),i=a(81),o=wp.hooks.addFilter,s=wp.i18n.__,r="optimize";googlesitekit.modules.optimize.active&&(o("googlesitekit.ModuleSettingsDetails-".concat(r),"googlesitekit.OptimizeModuleSettingsDetails",Object(n.g)(i.default,{onSettingsPage:!0})),o("googlesitekit.ModuleSetup-".concat(r),"googlesitekit.OptimizeModuleSetupWizard",Object(n.g)(i.default,{onSettingsPage:!1})),o("googlesitekit.SetupWinNotification-".concat(r),"googlesitekit.OptimizeSetupWinNotification",function(e){return e.description=s("To set up experiments and see the results, go to ","google-site-kit"),e.learnMore.label="Optimize",e.learnMore.url="https://optimize.withgoogle.com/",e}))},function(e,t,a){"use strict";a.r(t);a(8);var n=a(21),i=a(0),o=a(118),s=a(117),r=a(115),l=a(114),c=wp.hooks.addFilter,d=googlesitekit.modules["pagespeed-insights"],u=d.active,g=d.setupComplete;if(u&&g){var p=Object(n.a)(React.createElement(s.default,null)),m=Object(n.a)(React.createElement(r.default,null));c("googlesitekit.DashboardModule","googlesitekit.PageSpeedInsights",p,45),c("googlesitekit.DashboardSpeed","googlesitekit.PageSpeedInsightsHomepageSpeed",m)}else{c("googlesitekit.DashboardModule","googlesitekit.PageSpeedInsights",Object(n.a)(React.createElement(l.default,null)),45),c("googlesitekit.ModuleSetup-".concat("pagespeed-insights"),"googlesitekit.PageSpeedInsightsModuleSetupWizard",Object(i.g)(o.default,{onSettingsPage:!1}))}},,function(e,t,a){"use strict";a.r(t);var n=a(0),i=a(83),o=wp.hooks.addFilter;googlesitekit.modules.tagmanager.active&&(o("googlesitekit.ModuleSettingsDetails-".concat("tagmanager"),"googlesitekit.TagmanagerModuleSettingsDetails",Object(n.g)(i.default,{onSettingsPage:!0})),o("googlesitekit.ModuleSetup-".concat("tagmanager"),"googlesitekit.TagmanagerModuleSetupWizard",Object(n.g)(i.default,{onSettingsPage:!1})))},,,,,,function(e,t,a){"use strict";a.r(t);a(8);var n=a(130),i=a(120),o=a(131),s=a(127),r=a(129),l=a(121),c=a(124),d=a(122),u=a(126),g=a(10),p=a.n(g),m=a(12),h=a.n(m),f=a(2),y=a.n(f),k=a(3),v=a.n(k),_=a(4),b=a.n(_),E=a(5),R=a.n(E),S=a(9),w=a.n(S),C=a(6),D=a.n(C),O=a(159),A=a.n(O),N=a(7),x=a(24),P=a(15),j=a(0),L=wp.element.Component,I=lodash,M=I.map,T=I.find,F=I.debounce,U=I.trim,z=wp.i18n.__;wp.sanitize||(wp.sanitize={stripTags:function(e){return(e=e||"").replace(/<!--[\s\S]*?(-->|$)/g,"").replace(/<(script|style)[^>]*>[\s\S]*?(<\/\1>|$)/gi,"").replace(/<\/?[a-z][\s\S]*?(>|$)/gi,"")},stripTagsAndEncodeText:function(e){var t=document.createElement("textarea"),a=wp.sanitize.stripTags(e);try{t.innerHTML=a,a=wp.sanitize.stripTags(t.value)}catch(e){}return a}});var W=function(e){function t(e){var a;return y()(this,t),(a=b()(this,R()(t).call(this,e))).state={isSearching:!1,results:[],error:!1,message:""},a.postSearch=a.postSearch.bind(w()(a)),a.onClick=a.onClick.bind(w()(a)),a.onConfirm=a.onConfirm.bind(w()(a)),a}return D()(t,e),v()(t,[{key:"postSearch",value:function(){var e=h()(p.a.mark(function e(t,a){var n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a([z("Loading...","google-site-kit")]),e.prev=1,e.next=4,N.c.get(N.a,"search","post-search",{query:encodeURIComponent(t)});case 4:0<(n=e.sent).length?a(M(n,function(e){return e.post_title})):a([z("No results found","google-site-kit")]),this.setState({isSearching:!0,results:n,error:!1,message:""}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),a([z("No results found","google-site-kit")]),this.setState({isSearching:!1,error:e.t0.code,message:e.t0.message});case 13:case"end":return e.stop()}},e,this,[[1,9]])}));return function(t,a){return e.apply(this,arguments)}}()},{key:"getUrlPathname",value:function(e){try{var t=new URL(e);return U(t.pathname,"/")}catch(e){return!1}}},{key:"onConfirm",value:function(e){this.setState({selection:e})}},{key:"onClick",value:function(){var e=this.state,t=e.results,a=e.selection,n=T(t,function(e){return e.post_title===a});document.location=Object(j.n)("googlesitekit-dashboard",{id:n.id,permaLink:n.permalink,pageTitle:a})}},{key:"render",value:function(){var e=googlesitekit.modules,t=e.analytics&&e.analytics.active?"mdc-layout-grid__cell mdc-layout-grid__cell--span-12":"mdc-layout-grid__cell mdc-layout-grid__cell--span-4-tablet mdc-layout-grid__cell--span-6-desktop";return React.createElement("div",{className:t},React.createElement(P.a,{title:z("Search for individual page or post information","google-site-kit"),header:!0},React.createElement("div",{className:"mdc-layout-grid"},React.createElement("div",{className:"mdc-layout-grid__inner"},React.createElement("div",{className:"mdc-layout-grid__cell mdc-layout-grid__cell--span-12"},React.createElement("div",{className:"googlesitekit-post-searcher"},React.createElement("label",{className:"googlesitekit-post-searcher__label",htmlFor:"autocomplete"},z("Title or URL","google-site-kit")),React.createElement(A.a,{id:"autocomplete",source:F(this.postSearch,200),minLength:2,onConfirm:this.onConfirm,showNoOptionsFound:!1}),React.createElement("div",{className:"googlesitekit-post-searcher__button-wrapper"},React.createElement(x.a,{onClick:this.onClick,className:"googlesitekit-post-searcher__button"},z("View Data","google-site-kit")))))))))}}]),t}(L),G=a(133),q=a(21),H=wp.hooks.addFilter,K="search-console",B=Object(q.a)(React.createElement(n.default,null)),Y=Object(q.a)(React.createElement(i.default,null)),V=Object(q.a)(React.createElement(o.default,null)),Z=Object(q.a)(React.createElement(s.default,null)),J=Object(q.a)(React.createElement(r.default,null)),X=Object(q.a)(React.createElement(d.default,null)),$=Object(q.a)(React.createElement(l.default,null)),Q=Object(q.a)(React.createElement(c.default,null)),ee=Object(q.a)(React.createElement(u.default,null)),te=Object(q.a)(React.createElement(W,null));H("googlesitekit.ModuleSettingsDetails-".concat(K),"googlesitekit.SearchConsoleModuleSettingsDetails",Object(j.g)(G.default,{onSettingsPage:!0})),H("googlesitekit.DashboardModule","googlesitekit.SearchConsole",Z,11),H("googlesitekit.DashboardModule","googlesitekit.DashboardPopularityModule",ee,40),H("googlesitekit.DashboardSearchFunnel","googlesitekit.SearchConsoleSearchFunnel",J),H("googlesitekit.DashboardDetailsModule","googlesitekit.SearchConsole",X),H("googlesitekit.DashboardDetailsModule","googlesitekit.SearchConsole",$,40),H("googlesitekit.DashboardPopularity","googlesitekit.SearchConsoleDashboardPopularity",Q),H("googlesitekit.DashboardPopularity","googlesitekit.DashboardPPostSearcherModule",te,30),H("googlesitekit.WPDashboardHeader","googlesitekit.SearchConsole",V,11),H("googlesitekit.ModuleApp-"+K,"googlesitekit.ModuleApp",B),H("googlesitekit.showDateRangeSelector-".concat(K),"googlesitekit.searchConsoleShowDateRangeSelector",function(){return!0}),H("googlesitekit.AdminbarModules","googlesitekit.SearchConsole",Y)}]);