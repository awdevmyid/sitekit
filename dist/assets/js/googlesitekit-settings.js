!function(e){function t(t){for(var i,l,s=t[0],c=t[1],r=t[2],g=0,m=[];g<s.length;g++)l=s[g],n[l]&&m.push(n[l][0]),n[l]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);for(d&&d(t);m.length;)m.shift()();return o.push.apply(o,r||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],i=!0,s=1;s<a.length;s++){var c=a[s];0!==n[c]&&(i=!1)}i&&(o.splice(t--,1),e=l(l.s=a[0]))}return e}var i={},n={13:0},o=[];function l(t){if(i[t])return i[t].exports;var a=i[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.m=e,l.c=i,l.d=function(e,t,a){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)l.d(a,i,function(t){return e[t]}.bind(null,i));return a},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="";var s=window.webpackJsonp=window.webpackJsonp||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var r=0;r<s.length;r++)t(s[r]);var d=c;o.push([184,0,1]),a()}({135:function(e,t,a){"use strict";var i=a(2),n=a.n(i),o=a(3),l=a.n(o),s=a(4),c=a.n(s),r=a(5),d=a.n(r),g=a(9),m=a.n(g),u=a(6),p=a.n(u),h=(a(8),a(19)),v=a(1),_=a.n(v),k=wp.element,f=k.Component,y=k.createRef,E=function(e){function t(e){var a;return n()(this,t),(a=c()(this,d()(t).call(this,e))).formFieldRef=y(),a.checkboxRef=y(),a}return p()(t,e),l()(t,[{key:"componentDidMount",value:function(){new h.e(this.formFieldRef.current).input=new h.c(this.checkboxRef.current)}},{key:"render",value:function(){var e=this.props,t=e.onChange,a=e.id,i=e.name,n=e.value,o=e.checked,l=e.disabled,s=e.children;return React.createElement("div",{className:"mdc-form-field",ref:this.formFieldRef},React.createElement("div",{className:"\n\t\t\t\t\t\tmdc-checkbox\n\t\t\t\t\t\t".concat(l?"mdc-checkbox--disabled":"","\n\t\t\t\t\t"),ref:this.checkboxRef},React.createElement("input",{className:"mdc-checkbox__native-control",type:"checkbox",id:a,name:i,value:n,checked:o,disabled:l,onChange:t}),React.createElement("div",{className:"mdc-checkbox__background"},React.createElement("svg",{className:"mdc-checkbox__checkmark",viewBox:"0 0 24 24"},React.createElement("path",{className:"mdc-checkbox__checkmark-path",fill:"none",d:"M1.73,12.91 8.1,19.28 22.79,4.59"})),React.createElement("div",{className:"mdc-checkbox__mixedmark"}))),React.createElement("label",{htmlFor:a},s))}}]),t}(f);E.propTypes={onChange:_.a.func.isRequired,id:_.a.string.isRequired,name:_.a.string.isRequired,value:_.a.string.isRequired,checked:_.a.bool,disabled:_.a.bool,children:_.a.node.isRequired},E.defaultProps={checked:!1,disabled:!1};var R=E,b=wp.element.Component,w=wp.i18n.__,N=function(e){function t(e){var a;return n()(this,t),(a=c()(this,d()(t).call(this,e))).state={optIn:googlesitekit.admin.trackingOptin||!1,error:!1},a.handleOptIn=a.handleOptIn.bind(m()(a)),a}return p()(t,e),l()(t,[{key:"handleOptIn",value:function(e){var t=this,a=e.target.checked,i={googlesitekit_tracking_optin:a};wp.apiFetch({path:"/wp/v2/settings",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify(i),method:"POST"}).then(function(){t.setState({optIn:!!a,error:!1})}).catch(function(a){t.setState({optIn:!e.target.checked,error:{errorCode:a.code,errorMsg:a.message}})})}},{key:"render",value:function(){var e=this.state,t=e.optIn,a=e.error,i=this.props,n=i.id,o=i.name;return React.createElement("div",{className:"googlesitekit-opt-in"},React.createElement(R,{id:n,name:o,value:"1",checked:t,onChange:this.handleOptIn},w("Help us improve the Site Kit plugin by allowing tracking of anonymous usage stats. All data are treated in accordance with ","google-site-kit"),React.createElement("a",{href:"https://policies.google.com/privacy",target:"_blank",rel:"noopener noreferrer"},w("Google Privacy Policy","google-site-kit")),"."),a&&React.createElement("div",{className:"googlesitekit-error-text"},a.errorMsg))}}]),t}(b);N.propTypes={id:_.a.string,name:_.a.string},N.defaultProps={id:"opt-in",name:"optIn"};t.a=N},17:function(e,t){e.exports=React},184:function(e,t,a){"use strict";a.r(t);var i=a(2),n=a.n(i),o=a(3),l=a.n(o),s=a(4),c=a.n(s),r=a(5),d=a.n(r),g=a(6),m=a.n(g),u=(a(8),a(9)),p=a.n(u),h=a(28),v=a.n(h),_=a(10),k=a.n(_),f=a(12),y=a.n(f),E=a(1),R=a.n(E),b=a(11),w=a(24),N=a(7),S=a(18),C=a(54),O=a(47),M=a(0),D=a(48),x=wp.i18n,j=x.sprintf,A=x.__,I=wp.element.Component,P=wp.hooks.applyFilters,T=function(e){function t(e){var a;return n()(this,t),(a=c()(this,d()(t).call(this,e))).state={isSaving:!1,active:e.active},a.activateOrDeactivate=a.activateOrDeactivate.bind(p()(a)),a}return m()(t,e),l()(t,[{key:"activateOrDeactivate",value:function(){var e=y()(k.a.mark(function e(){var t,a;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.state.active,a=this.props.slug,this.setState({isSaving:!0}),e.next=6,Object(M.a)(N.c,a,!t);case 6:return e.next=8,Object(M.u)();case 8:window.location=Object(M.m)(a,!0),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),Object(M.w)(D.a,{id:"activate-module-error",title:A("Internal Server Error","google-site-kit"),description:e.t0.message,format:"small",type:"win-error"}),this.setState({isSaving:!1});case 15:case"end":return e.stop()}},e,this,[[0,11]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.isSaving,t=this.props,a=t.slug,i=t.name,n=t.description,o=t.showLink,l=!1,s=googlesitekit.modules;s[a].required.length&&s[a].required.forEach(function(e){s[e].setupComplete||(l=!0)});return React.createElement("div",{className:"\n\t\t\t\tgooglesitekit-settings-connect-module\n\t\t\t\tgooglesitekit-settings-connect-module--".concat(a,"\n\t\t\t\t").concat(l?"googlesitekit-settings-connect-module--disabled":"","\n\t\t\t"),key:a},React.createElement("div",{className:"googlesitekit-settings-connect-module__switch"},React.createElement(C.a,{isSaving:e})),React.createElement("div",{className:"googlesitekit-settings-connect-module__logo"},l?Object(M.q)("".concat(a,"-disabled")):Object(M.q)(a)),React.createElement("h3",{className:" googlesitekit-subheading-1 googlesitekit-settings-connect-module__title "},i),React.createElement("p",{className:"googlesitekit-settings-connect-module__text"},n),React.createElement(O.a,{slug:a,context:"modules-list"}),P("googlesitekit.SetupModuleShowLink",o,a)&&React.createElement("p",{className:"googlesitekit-settings-connect-module__cta"},React.createElement(b.a,{onClick:this.activateOrDeactivate,href:"",inherit:!0,disabled:l,arrow:!0},j(A(l?"Setup Analytics to gain access to %s":"Set up %s","google-site-kit"),i))))}}]),t}(I);T.propTypes={slug:R.a.string,name:R.a.string,description:R.a.string,homepage:R.a.string,active:R.a.bool,onActive:R.a.func},T.defaultProps={slug:"",name:"",description:"",homepage:"",active:!1};var F=T,L=a(59),U=function(e){function t(){return n()(this,t),c()(this,d()(t).apply(this,arguments))}return m()(t,e),l()(t,[{key:"render",value:function(){return null}}]),t}(wp.element.Component),q=wp.components.withFilters,B=wp.element.Component,K=wp.i18n.__,G=function(e){function t(){return n()(this,t),c()(this,d()(t).apply(this,arguments))}return m()(t,e),l()(t,[{key:"render",value:function(){var e=this.props.slug;return React.createElement("div",{className:"mdc-layout-grid__cell mdc-layout-grid__cell--span-12"},React.createElement(O.a,{slug:e,context:"settings"}),K("Setup incomplete: ","google-site-kit"),React.createElement(b.a,{className:"googlesitekit-settings-module__edit-button",onClick:function(){window.location=Object(M.m)(e,!0)},inherit:!0},K("continue module setup","google-site-kit")))}}]),t}(B),J=q("googlesitekit.ModuleSetupIncomplete")(G),W=wp.element.Component,z=wp.i18n.__,H=function(e){function t(){return n()(this,t),c()(this,d()(t).apply(this,arguments))}return m()(t,e),l()(t,[{key:"render",value:function(){var e=this.props.compress;return React.createElement("div",{className:"\n\t\t\t\tgooglesitekit-overlay\n\t\t\t\t".concat(e?"googlesitekit-overlay--compress":"","\n\t\t\t")},React.createElement("div",{className:"googlesitekit-overlay__wrapper"},React.createElement("div",{className:"googlesitekit-overlay__icon"},React.createElement(S.a,{id:"lock",width:"22",height:"30"})),React.createElement("h3",{className:" googlesitekit-heading-2 googlesitekit-overlay__title "},z("Section locked while editing","google-site-kit"))))}}]),t}(W);H.propTypes={compress:R.a.bool},H.defaultProps={compress:!1};var Q=H,V=wp.element,X=V.Component,Y=V.Fragment,Z=wp.i18n,$=Z.__,ee=Z.sprintf,te=lodash,ae=te.filter,ie=te.map,ne=wp.hooks.applyFilters,oe=wp.components.withFilters,le=function(e){function t(e){var a;n()(this,t),a=c()(this,d()(t).call(this,e));var i=e.slug,o=googlesitekit.modules[i].setupComplete;return a.state={isSaving:!1,active:e.active,setupComplete:o,dialogActive:!1},a.deactivate=a.deactivate.bind(p()(a)),a.activateOrDeactivate=a.activateOrDeactivate.bind(p()(a)),a.handleDialog=a.handleDialog.bind(p()(a)),a.handleCloseModal=a.handleCloseModal.bind(p()(a)),a.handleConfirmRemoveModule=a.handleConfirmRemoveModule.bind(p()(a)),a}return m()(t,e),l()(t,[{key:"componentDidMount",value:function(){window.addEventListener("keyup",this.handleCloseModal,!1)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keyup",this.handleCloseModal)}},{key:"activateOrDeactivate",value:function(){var e=y()(k.a.mark(function e(){var t,a;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.state.active,a=!t,this.setState({isSaving:!0}),e.next=6,Object(M.a)(N.c,this.props.slug,a);case 6:return e.next=8,Object(M.u)();case 8:!1===a&&N.c.invalidateCacheGroup(N.b,this.props.slug),this.setState({isSaving:!1,active:a}),window.location=Object(M.m)(this.props.slug,!1),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),Object(M.w)(D.a,{id:"activate-module-error",title:$("Internal Server Error","google-site-kit"),description:e.t0.message,format:"small",type:"win-error"}),this.setState({isSaving:!1});case 17:case"end":return e.stop()}},e,this,[[0,13]])}));return function(){return e.apply(this,arguments)}}()},{key:"deactivate",value:function(){this.props.autoActivate||this.activateOrDeactivate()}},{key:"handleDialog",value:function(){this.setState(function(e){return{dialogActive:!e.dialogActive}})}},{key:"handleConfirmRemoveModule",value:function(){this.deactivate()}},{key:"handleCloseModal",value:function(e){27===e.keyCode&&this.setState({dialogActive:!1})}},{key:"getDependentModules",value:function(){var e=this.props.slug,t=googlesitekit.modules,a={};return t[e].dependants&&t[e].dependants.forEach(function(e){t[e]&&(a[e]=t[e])}),a}},{key:"render",value:function(){var e=this.state,t=e.active,a=e.setupComplete,i=e.dialogActive,n=this.props,o=n.name,l=n.slug,s=n.homepage,c=n.isEditing,r=n.isOpen,d=n.handleAccordion,g=n.handleEdit,m=n.description,u=n.hasSettings,p=n.autoActivate,h=n.provides,v=n.isSaving,_=n.screenId,k=n.error,f="".concat(l,"-module"),y=ne("googlesitekit.Connected-".concat(l),a),E=y?"googlesitekit-settings-module__status-icon--connected":"googlesitekit-settings-module__status-icon--not-connected",R=ee($("By disconnecting the %s module from Site Kit, you will no longer have access to:","google-site-kit"),o),N=v==="".concat(l,"-module"),O=oe("googlesitekit.ModuleSettingsDetails-".concat(l))(U),D=0<ae(c,function(e){return e}).length,x=ie(this.getDependentModules(),"name").join(", "),j="pagespeed-insights"===l,A=$("Close","google-site-kit");return u&&a&&(N?A=$("Saving...","google-site-kit"):!1===j&&(A=$("Confirm Changes","google-site-kit"))),React.createElement(Y,null,t?React.createElement("div",{className:"\n\t\t\t\t\t\t\tgooglesitekit-settings-module\n\t\t\t\t\t\t\tgooglesitekit-settings-module--".concat(l,"\n\t\t\t\t\t\t\tgooglesitekit-settings-module--active\n\t\t\t\t\t\t\t").concat(k&&D&&c[f]?"googlesitekit-settings-module--error":"","\n\t\t\t\t\t\t"),key:f},D&&!c[f]&&React.createElement(Q,{compress:!r}),React.createElement("button",{className:"\n\t\t\t\t\t\t\t\tgooglesitekit-settings-module__header\n\t\t\t\t\t\t\t\t".concat(r?"googlesitekit-settings-module__header--open":"","\n\t\t\t\t\t\t\t"),id:"googlesitekit-settings-module__header--".concat(l),type:"button",role:"tab","aria-selected":!!r,"aria-expanded":!!r,"aria-controls":"googlesitekit-settings-module__content--".concat(l),onClick:d.bind(null,l)},k&&D&&c[f]&&React.createElement("div",{className:"googlesitekit-settings-module__error"},React.createElement("div",{className:"mdc-layout-grid"},React.createElement("div",{className:"mdc-layout-grid__inner"},React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-12 "},$("Error:","google-site-kit")," ",k.errorMsg)))),React.createElement("div",{className:"mdc-layout-grid"},React.createElement("div",{className:"mdc-layout-grid__inner"},React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-6-desktop mdc-layout-grid__cell--span-4-tablet mdc-layout-grid__cell--span-4-phone "},React.createElement("h3",{className:" googlesitekit-heading-4 googlesitekit-settings-module__title "},Object(M.q)(l,!1,"24","26","googlesitekit-settings-module__title-icon"),o)),React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-6-desktop mdc-layout-grid__cell--span-4-tablet mdc-layout-grid__cell--span-4-phone mdc-layout-grid__cell--align-middle mdc-layout-grid__cell--align-right-tablet "},React.createElement("p",{className:"googlesitekit-settings-module__status"},ee($(y?"%s is connected":"%s is not connected","google-site-kit"),o),React.createElement("span",{className:"googlesitekit-settings-module__status-icon ".concat(E," ")},React.createElement("span",{className:"screen-reader-text"},$(y?"Connected":"Not Connected","google-site-kit")))))))),React.createElement("div",{className:"\n\t\t\t\t\t\t\t\tgooglesitekit-settings-module__content\n\t\t\t\t\t\t\t\t".concat(r?"googlesitekit-settings-module__content--open":"","\n\t\t\t\t\t\t\t"),id:"googlesitekit-settings-module__content--".concat(l),role:"tabpanel","aria-hidden":!r,"aria-labelledby":"googlesitekit-settings-module__header--".concat(l)},React.createElement("div",{className:"mdc-layout-grid"},React.createElement("div",{className:"mdc-layout-grid__inner"},a&&React.createElement(Y,null,React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-12 "},React.createElement(O,{module:f,isEditing:c[f]}))),u&&!a&&React.createElement(J,{screenId:_,slug:l}))),React.createElement("footer",{className:"googlesitekit-settings-module__footer"},React.createElement("div",{className:"mdc-layout-grid"},React.createElement("div",{className:"mdc-layout-grid__inner"},React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-6-desktop mdc-layout-grid__cell--span-8-tablet mdc-layout-grid__cell--span-4-phone "},c[f]||N?React.createElement(Y,null,React.createElement(w.a,{onClick:function(){return g(f,a?"confirm":"cancel",j)},disabled:N,id:u&&a?"confirm-changes-".concat(l):"close-".concat(l)},A),React.createElement(C.a,{isSaving:N}),u&&React.createElement(b.a,{className:"googlesitekit-settings-module__footer-cancel",onClick:function(){return g(f,"cancel")},inherit:!0},$("Cancel","google-site-kit"))):u&&React.createElement(b.a,{className:"googlesitekit-settings-module__edit-button",onClick:function(){g(f,"edit")},inherit:!0},$("Edit","google-site-kit"),React.createElement(S.a,{className:"googlesitekit-settings-module__edit-button-icon",id:"pencil",width:"10",height:"10"}))),React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-6-desktop mdc-layout-grid__cell--span-8-tablet mdc-layout-grid__cell--span-4-phone mdc-layout-grid__cell--align-middle mdc-layout-grid__cell--align-right-desktop "},c[f]&&!p&&React.createElement(b.a,{className:"googlesitekit-settings-module__remove-button",onClick:this.handleDialog,inherit:!0,danger:!0},ee($("Disconnect %s from Site Kit","google-site-kit"),o),React.createElement(S.a,{className:"googlesitekit-settings-module__remove-button-icon",id:"trash",width:"13",height:"13"})),!c[f]&&React.createElement(b.a,{href:s,className:"googlesitekit-settings-module__cta-button",inherit:!0,external:!0},ee($("See full details in %s","google-site-kit"),o))))))),React.createElement(L.a,{dialogActive:i,handleDialog:this.handleDialog,title:ee($("Disconnect %s from Site Kit?","google-site-kit"),o),subtitle:R,onKeyPress:this.handleCloseModal,provides:h,handleConfirm:this.handleConfirmRemoveModule,dependentModules:!!x&&ee($("these active modules depend on %s and will also be disconnected: ","google-site-kit"),o)+x})):React.createElement(Y,null,React.createElement(F,{key:"".concat(l,"-module"),slug:l,name:o,description:m,active:t,showLink:!0})))}}]),t}(X);le.propTypes={name:R.a.string,slug:R.a.string,homepage:R.a.string,isEditing:R.a.object,handleEdit:R.a.func,handleDialog:R.a.func,autoActivate:R.a.bool,hasSettings:R.a.bool,required:R.a.array,active:R.a.bool},le.defaultProps={name:"",slug:"",homepage:"",isEditing:{},handleEdit:null,handleDialog:null,active:!1};var se=le,ce=a(15),re=a(23);function de(e,t){var a=Object.keys(e);return Object.getOwnPropertySymbols&&a.push.apply(a,Object.getOwnPropertySymbols(e)),t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a}function ge(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?de(a,!0).forEach(function(t){v()(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):de(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var me=wp.i18n.__,ue=lodash,pe=ue.map,he=ue.filter,ve=ue.sortBy,_e=wp.element,ke=_e.Component,fe=_e.Fragment,ye=wp.hooks.applyFilters,Ee=function(e){function t(e){var a;return n()(this,t),(a=c()(this,d()(t).call(this,e))).state={error:!1,isEditing:{},openModules:{},isSaving:!1},a.mapToModule=a.mapToModule.bind(p()(a)),a.updateModulesList=a.updateModulesList.bind(p()(a)),a.handleButtonAction=a.handleButtonAction.bind(p()(a)),a.handleAccordion=a.handleAccordion.bind(p()(a)),a}return m()(t,e),l()(t,[{key:"componentDidMount",value:function(){googlesitekit.editmodule&&googlesitekit.modules[googlesitekit.editmodule].active&&this.handleButtonAction("".concat(googlesitekit.editmodule,"-module"),"edit")}},{key:"updateModulesList",value:function(){this.forceUpdate()}},{key:"handleAccordion",value:function(e,t){t.target.closest(".googlesitekit-settings-module__header").focus(),this.setState(function(t){return{openModules:ge({},t.openModules,v()({},e,!t.openModules[e]))}})}},{key:"handleButtonAction",value:function(e,t){var a=this,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("confirm"===t){var n=ye("googlekit.SettingsConfirmed",!1,e);if(i)return void this.setState(function(t){return{isSaving:!1,error:!1,isEditing:ge({},t.isEditing,v()({},e,!t.isEditing[e]))}});if(this.setState({isSaving:e}),!n)return void Object(M.d)();n.then(function(){Object(M.d)(),a.setState(function(t){return{isSaving:!1,error:!1,isEditing:ge({},t.isEditing,v()({},e,!t.isEditing[e]))}})}).catch(function(e){a.setState({isSaving:!1,error:{errorCode:e.code,errorMsg:e.message}})})}else this.setState(function(t){return{isEditing:ge({},t.isEditing,v()({},e,!t.isEditing[e])),error:!1}})}},{key:"settingsModuleComponent",value:function(e,t){var a=googlesitekit.modules[e.slug].provides,i=this.state,n=i.isEditing,o=i.openModules,l=i.error,s=o[e.slug]||!1;return React.createElement(se,{key:e.slug+"-module",slug:e.slug,name:e.name,description:e.description,homepage:e.homepage,learnmore:e.learnMore,active:e.active,hasSettings:e.hasSettings,autoActivate:e.autoActivate,updateModulesList:this.updateModulesList,handleEdit:this.handleButtonAction,handleConfirm:!0,isEditing:n,isOpen:s,handleAccordion:this.handleAccordion,handleDialog:this.handleDialog,provides:a,isSaving:t,screenId:e.screenId,error:l})}},{key:"mapToModule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=this.state.isSaving;return pe(e,t?function(e){return React.createElement(fe,{key:e.slug+"-module-wrapper"},this.settingsModuleComponent(e,a))}.bind(this):function(e){return React.createElement("div",{className:"mdc-layout-grid__cell mdc-layout-grid__cell--span-4",key:e.slug+"-module-wrapper"},this.settingsModuleComponent(e,a))}.bind(this))}},{key:"render",value:function(){var e=this.state.isEditing,t=this.props.activeTab,a=0<he(e,function(e){return e}).length;if(!window.googlesitekit||!window.googlesitekit.modules)return null;var i=he(window.googlesitekit.modules,function(e){return!e.internal}),n=this.mapToModule(ve(he(i,function(e){return e.active}),"sort"),!0),o=this.mapToModule(ve(he(i,{active:!1}),"sort")),l=0<o.length;return React.createElement(fe,null,0<n.length&&0===t&&React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-12 "},React.createElement(ce.a,null,n)),1===t&&l&&React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-12 "},React.createElement(ce.a,{header:!0,title:me("Connect More Services to Gain More Insights","google-site-kit"),relative:!0},React.createElement("div",{className:"mdc-layout-grid"},React.createElement("div",{className:"mdc-layout-grid__inner"},0<o.length&&o)),a&&React.createElement(Q,null))),1===t&&!l&&React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-12 "},React.createElement(re.a,{id:"no-more-modules",title:me("Congrats, you’ve connected all services!","google-site-kit"),description:me("We’re working on adding new services to Site Kit by Google all the time, so please check back in the future.","google-site-kit"),format:"small",smallImage:"".concat(googlesitekit.admin.assetsRoot,"images/thumbs-up.png"),type:"win-success"})))}}]),t}(ke),Re=a(37),be=a(40),we=a(62),Ne=a.n(we),Se=a(158),Ce=a.n(Se),Oe=a(135),Me=wp.element,De=Me.Component,xe=Me.Fragment,je=wp.i18n.__,Ae=function(e){function t(){var e;n()(this,t),e=c()(this,d()(t).call(this));var a=googlesitekit.admin.userData,i=a.email,o=void 0===i?"":i,l=a.picture,s=void 0===l?"":l,r=a.name,g=void 0===r?"":r;return e.state={data:{email:o,img:s,user:g},dialogActive:!1},e.handleDialog=e.handleDialog.bind(p()(e)),e.handleUnlinkConfirm=e.handleUnlinkConfirm.bind(p()(e)),e.handleCloseModal=e.handleCloseModal.bind(p()(e)),e}return m()(t,e),l()(t,[{key:"componentDidMount",value:function(){window.addEventListener("keyup",this.handleCloseModal,!1)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keyup",this.handleCloseModal)}},{key:"handleDialog",value:function(){this.setState(function(e){return{dialogActive:!e.dialogActive}})}},{key:"handleUnlinkConfirm",value:function(){var e=y()(k.a.mark(function e(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.c.set(N.a,"site","reset");case 2:Object(M.d)(),this.handleDialog(),document.location=Object(M.n)("googlesitekit-splash");case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleCloseModal",value:function(e){27===e.keyCode&&this.setState({dialogActive:!1})}},{key:"render",value:function(){var e=this.state.dialogActive,t=googlesitekit.admin,a=t.clientID,i=t.clientSecret,n=t.apikey,o=t.projectId,l=t.projectUrl;return React.createElement(xe,null,React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-12 "},React.createElement(ce.a,null,React.createElement("div",{className:" googlesitekit-settings-module googlesitekit-settings-module--active "},React.createElement("div",{className:"mdc-layout-grid"},React.createElement("div",{className:"mdc-layout-grid__inner"},React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-6-desktop mdc-layout-grid__cell--span-4-tablet mdc-layout-grid__cell--span-4-phone "},React.createElement("h3",{className:" googlesitekit-heading-4 googlesitekit-settings-module__title "},Object(M.q)("logo-google-cloud",!1,"24","26","googlesitekit-settings-module__title-icon"),je("API Credentials","google-site-kit"))),React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-6-desktop mdc-layout-grid__cell--span-4-tablet mdc-layout-grid__cell--span-4-phone mdc-layout-grid__cell--align-middle mdc-layout-grid__cell--align-right-tablet "},React.createElement("p",{className:"googlesitekit-settings-module__status"},je("Site Kit is connected","google-site-kit"),React.createElement("span",{className:" googlesitekit-settings-module__status-icon googlesitekit-settings-module__status-icon--connected "},React.createElement("span",{className:"screen-reader-text"},je("Connected","google-site-kit"))))),React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-12 "},React.createElement("div",{className:"googlesitekit-settings-module__meta-items"},React.createElement("div",{className:"googlesitekit-settings-module__meta-item"},React.createElement("p",{className:"googlesitekit-settings-module__meta-item-type"},je("Client ID","google-site-kit")),React.createElement("h5",{className:" googlesitekit-settings-module__meta-item-data googlesitekit-settings-module__meta-item-data--wrap "},a)),React.createElement("div",{className:"googlesitekit-settings-module__meta-item"},React.createElement("p",{className:"googlesitekit-settings-module__meta-item-type"},je("Client Secret","google-site-kit")),React.createElement("h5",{className:" googlesitekit-settings-module__meta-item-data googlesitekit-settings-module__meta-item-data--wrap "},i))),n&&React.createElement("div",{className:"googlesitekit-settings-module__meta-items"},React.createElement("div",{className:"googlesitekit-settings-module__meta-item"+(o&&l?"":"googlesitekit-settings-module__meta-item--nomargin")},React.createElement("p",{className:"googlesitekit-settings-module__meta-item-type"},je("API Key","google-site-kit")),React.createElement("h5",{className:" googlesitekit-settings-module__meta-item-data googlesitekit-settings-module__meta-item-data--wrap "},n))),o&&l&&React.createElement("div",{className:"googlesitekit-settings-module__meta-items"},React.createElement("div",{className:" googlesitekit-settings-module__meta-item googlesitekit-settings-module__meta-item--nomargin "},React.createElement("p",{className:"googlesitekit-settings-module__meta-item-type"},je("Project ID","google-site-kit")),React.createElement("h5",{className:" googlesitekit-settings-module__meta-item-data googlesitekit-settings-module__meta-item-data--wrap "},o+" ",React.createElement("small",null,React.createElement(b.a,{href:l,inherit:!0,external:!0},je("Open in Google Cloud Platform","google-site-kit"))))))))),React.createElement("footer",{className:"googlesitekit-settings-module__footer"},React.createElement("div",{className:"mdc-layout-grid"},React.createElement("div",{className:"mdc-layout-grid__inner"},React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-12 mdc-layout-grid__cell--span-8-tablet mdc-layout-grid__cell--span-4-phone "},React.createElement(b.a,{onClick:this.handleDialog,inherit:!0},je("Reset Site Kit","google-site-kit"))))))))),React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-12 "},React.createElement(ce.a,{header:!0,title:je("Tracking","google-site-kit"),className:"googlesitekit-settings-meta",fill:!0},React.createElement("div",{className:" googlesitekit-settings-module googlesitekit-settings-module--active "},React.createElement("div",{className:"mdc-layout-grid"},React.createElement("div",{className:"mdc-layout-grid__inner"},React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-12 "},React.createElement("div",{className:"googlesitekit-settings-module__meta-items"},React.createElement("div",{className:" googlesitekit-settings-module__meta-item googlesitekit-settings-module__meta-item--nomargin "},React.createElement(Oe.a,{id:"opt-in",name:"optin"}))))))))),React.createElement(L.a,{dialogActive:e,handleConfirm:this.handleUnlinkConfirm,handleDialog:this.handleDialog,title:je("Reset Site Kit","google-site-kit"),subtitle:je("Resetting this site will remove access to all services. After disconnecting, you will need to re-authorize your access to restore service.","google-site-kit"),confirmButton:je("Reset","google-site-kit"),provides:[]}))}}]),t}(De),Ie=a(36),Pe=wp.element,Te=Pe.Component,Fe=Pe.Fragment,Le=wp.i18n.__,Ue=function(e){function t(e){var a;n()(this,t),a=c()(this,d()(t).call(this,e));var i=window.location.hash.replace("#","");return a.state={activeTab:i?Number(i):0},a.handleTabUpdate=a.handleTabUpdate.bind(p()(a)),a}return m()(t,e),l()(t,[{key:"handleTabUpdate",value:function(e){var t=-1===e?0:e;window.location.hash=t,this.setState({activeTab:t})}},{key:"render",value:function(){var e=this.state.activeTab;return React.createElement(Fe,null,React.createElement(Re.a,null),React.createElement("div",{className:"googlesitekit-module-page"},React.createElement("div",{className:"mdc-layout-grid"},React.createElement("div",{className:"mdc-layout-grid__inner"},React.createElement("div",{className:"mdc-layout-grid__cell mdc-layout-grid__cell--span-12"},React.createElement(be.a,{title:Le("Settings","google-site-kit")})),React.createElement("div",{className:"mdc-layout-grid__cell mdc-layout-grid__cell--span-12"},React.createElement(ce.a,null,React.createElement(Ce.a,{activeIndex:e,handleActiveIndexUpdate:this.handleTabUpdate},React.createElement(Ne.a,null,React.createElement("span",{className:"mdc-tab__text-label"},Le("Connected Services","google-site-kit"))),React.createElement(Ne.a,null,React.createElement("span",{className:"mdc-tab__text-label"},Le("Connect More Services","google-site-kit"))),React.createElement(Ne.a,null,React.createElement("span",{className:"mdc-tab__text-label"},Le("Admin Settings","google-site-kit")))))),(0===e||1===e)&&React.createElement(Ee,{activeTab:e}),2===e&&React.createElement(Fe,null,React.createElement(Ae,null)),React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-12 mdc-layout-grid__cell--align-right "},React.createElement(Ie.a,null))))))}}]),t}(Te),qe=wp.i18n.setLocaleData,Be=wp.hooks.doAction,Ke=wp.element,Ge=Ke.Component,Je=Ke.render,We=function(e){function t(e){var a;return n()(this,t),(a=c()(this,d()(t).call(this,e))).state={hasError:!1},qe(googlesitekit.locale,"google-site-kit"),a}return m()(t,e),l()(t,[{key:"componentDidCatch",value:function(e,t){this.setState({hasError:!0,error:e,info:t})}},{key:"render",value:function(){var e=this.state,t=e.hasError,a=e.error,i=e.info;return t?React.createElement(re.a,{id:"googlesitekit-error",key:"googlesitekit-error",title:a,description:i.componentStack,dismiss:"",isDismissable:!1,format:"small",type:"win-error"}):React.createElement(Ue,null)}}]),t}(Ge);wp.domReady(function(){var e=document.getElementById("googlesitekit-settings-wrapper");null!==e&&(Je(React.createElement(We,null),e),Be("googlesitekit.moduleLoaded","Settings"))})},44:function(e,t){e.exports=ReactDOM},8:function(e,t){e.exports=void 0}});